---
n: 12
name: "HP: Damage"
param1: "Damage Amount"
param2: "Mode &amp; Damage Type"
savingthrow: "Save Type"
special: "Flags"
bg1: 0
bg2: 0
bgee: 1
iwd1: 0
iwd2: 0
pst: 0
---
Damages the target by the value specified by the <code>Damage Amount</code> field, with the damage type specified by the <code>Type</code> field.
<br/>Known values for <code>Mode &amp; Damage Type</code> are:
<br/><br/>

<table border="1" width="98%">
	<colgroup>
		<col width="20%" />
		<col width="20%" />
		<col width="20%" />
	</colgroup>
	<thead>
		<tr>
			<th>Value (hex)</th>
			<th><code>Damage Type</code></th>
			<th><code>Mode</code></th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>0x00000000</td>
			<td>CRUSHING</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00000001</td>
			<td>CRUSHING</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00000002</td>
			<td>CRUSHING</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00000003</td>
			<td>CRUSHING</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00010000</td>
			<td>ACID</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00010001</td>
			<td>ACID</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00010002</td>
			<td>ACID</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00010003</td>
			<td>ACID</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00020000</td>
			<td>COLD</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00020001</td>
			<td>COLD</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00020002</td>
			<td>COLD</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00020003</td>
			<td>COLD</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00040000</td>
			<td>ELECTRICITY</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00040001</td>
			<td>ELECTRICITY</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00040002</td>
			<td>ELECTRICITY</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00040003</td>
			<td>ELECTRICITY</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00080000</td>
			<td>FIRE</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00080001</td>
			<td>FIRE</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00080002</td>
			<td>FIRE</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00080003</td>
			<td>FIRE</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00100000</td>
			<td>PIERCING</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00100001</td>
			<td>PIERCING</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00100002</td>
			<td>PIERCING</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00100003</td>
			<td>PIERCING</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00200000</td>
			<td>POISON</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00200001</td>
			<td>POISON</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00200002</td>
			<td>POISON</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00200003</td>
			<td>POISON</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00400000</td>
			<td>MAGIC</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00400001</td>
			<td>MAGIC</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00400002</td>
			<td>MAGIC</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00400003</td>
			<td>MAGIC</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00800000</td>
			<td>MISSILE</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00800001</td>
			<td>MISSILE</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00800002</td>
			<td>MISSILE</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00800003</td>
			<td>MISSILE</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x01000000</td>
			<td>SLASHING</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x01000001</td>
			<td>SLASHING</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x01000002</td>
			<td>SLASHING</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x01000003</td>
			<td>SLASHING</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x02000000</td>
			<td>MAGICFIRE</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x02000001</td>
			<td>MAGICFIRE</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x02000002</td>
			<td>MAGICFIRE</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x02000003</td>
			<td>MAGICFIRE</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x04000000</td>
			<td>MAGICCOLD</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x04000001</td>
			<td>MAGICCOLD</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x04000002</td>
			<td>MAGICCOLD</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x04000003</td>
			<td>MAGICCOLD</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x08000000</td>
			<td>STUNNING</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x08000001</td>
			<td>STUNNING</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x08000002</td>
			<td>STUNNING</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x08000003</td>
			<td>STUNNING</td>
			<td>Reduce by Percentage</td>
		</tr>
	</tbody>
</table>

<p>
	The Dice values can be used to inflict varying damage amounts – e.g. <code>2d6</code> would do <code>2–12</code> damage (Damage type is still specified by the <code>Type</code> value).
</p>

<p>
	<code>Damage Amount</code> can be positive or negative (though the damage sound will play in either case).
	<br/>If <code>Damage Amount</code> and the Dice values are both non-zero, the total damage inflicted is: <code>'Damage Amount' + Dice value</code>.
</p>

{% capture note %}
<code>STUNNING</code> damage does not stun the target. <code>STUNNING</code> damage cannot kill a creature, creatures are reduced to 1 HP and are knocked unconscious.
{% endcapture %}

{% include note.html %}

<p>
	Useful bit values for <code>Save Type</code> are:
	<ul>
		<li>Bit 24 &longrightarrow; <code><a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0x24_BIT24">Bypass Mirror Image</a></code></li>
		<li>Bit 25 &longrightarrow; <code><a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0x24_BIT25_EE">Ignore difficulty</a></code></li>
	</ul>
</p>

{% capture note %}
Damage type <code>POISON</code> automatically uses save flag <code>Bypass Mirror Image</code>.
{% endcapture %}

{% include note.html %}

<br/><br/>Known bit values for <code><a name="op12_flags">Flags</a></code> are:
<ul>
	<li>Bit 0 &longrightarrow; Drain HP to caster (cumulative)</li>
	<li>Bit 1 &longrightarrow; As bit 0 but caster and target are reversed (cumulative)</li>
	<li>Bit 2 &longrightarrow; Fist damage only</li>
	<li>Bit 3 &longrightarrow; Drain HP to caster (non-cumulative)</li>
	<li>Bit 4 &longrightarrow; As bit 3 but caster and target are reversed (non-cumulative)</li>
	<li>Bit 5 &longrightarrow; Suppress combat log feedback string</li>
	<li>Bit 6 &longrightarrow; Damage inflicted is limited to amount available by target (checks <a href="../files/ids/bgee/stats.htm#83">MINHITPOINTS</a> and works in reverse if bits 1 or 4 are set)</li>
	<li>Bit 7 &longrightarrow; Damage inflicted is limited to the caster's <code>(<a href="../files/ids/bgee/stats.htm#1">MAXHITPOINTS</a> - <a href="../files/ids/bgee/stats.htm#0">CURRENTHP</a>)</code> (works in reverse if bits 1 or 4 are set)</li>
	<li>Bit 8 &longrightarrow; Save for half</li>
	<li>Bit 9 &longrightarrow; Fail for half: A failed (or lack of) saving throw results in half damage.</li>
	<li>Bit 10 &longrightarrow; Does not wake sleepers</li>
</ul>

{% capture note %}
<ul>
	<li>
		Bits 0, 1, 3, and 4 are mutually exclusive, while bits 6 and 7 do not require any of the HP drain bits to be set to function.
		<ul>
			<li>However, bits 6 and 7 are often used together to achieve desired HP drain behavior. For instance, bit7 in conjunction with bit1 is used in IWD:EE/SoD's "Shadow Pact" ability (<code>"SPIN195.spl"</code>/<code>"BDSHPACT.spl"</code>) for shadows to prevent them from inflicting more damage on reverse HP drain than necessary to heal them to normal max HP.</li>
		</ul>
	</li>
	<li>
		In all cases, HP drain now only increases maximum HP if the character is at full health and there are extra HP remaining from the drain, which can happen even during the drain. Current HP gained is always cumulative (bits 0,1,3,4) if the caster is injured. Extra HP gained by non-cumulative HP drain (bits 3,4) may still coexist on the same creature. This means that the caster can still benefit from lower HP drain if the effect expires later than the higher HP drain effect.
	</li>
	<li>
		Example: The caster at 3/4 HP can increase his/her HP to 7/7 with one casting of Larloch's Minor Drain (if 4 is rolled) and 8/8 with another casting if 4 is rolled again, otherwise nothing seems to happen despite the damage inflicted. The caster may further benefit with additional castings if injured, but cannot go beyond 8/8 HP. This all assumes there is sufficient HP to drain (since bit 6 is now set in <code>"SPWI119.spl"</code>).
	</li>
	<li>
		Extra maximum HP effects carried on the creature now have their <code>mschool</code>, <code>msectype</code>, <code>resource</code>, <code>resist_dispel</code>, <code>dispel_level</code> etc properly set. See <a href="#op18">opcode #18</a> for how non-cumulative HP gain is stored.
	</li>
</ul>
{% endcapture %}

{% include info.html %}

{% capture note %}
If this effect reduces target to <code>-20</code> (Allegiance: <a href="../files/ids/bgee/ea.htm#2">PC</a>) or <code>-9</code> (any other Allegiance value) hit points, it also applies <a href="#op13">opcode #13</a> of the specified type:
<ul>
	<li><code>CRUSHING</code>/<code>SLASHING</code>/<code>PIERCING</code>: Exploding Death</li>
	<li><code>ACID</code>/Unlisted: Acid Death</li>
	<li><code>COLD</code>/<code>MAGICCOLD</code>: Frozen Death</li>
	<li><code>FIRE</code>/<code>MAGICFIRE</code>: Burning Death</li>
	<li><code>ELECTRICITY</code>: Electrified Death</li>
	<li><code>MAGIC</code>/<code>MISSILE</code>/<code>POISON</code>: Normal Death</li>
</ul>
{% endcapture %}

{% include note.html %}

{% capture note %}
Just in case anyone is doing UI feedback text replacement, these are the hex colors for the various damage types:<br />
<code>^0xaabbggrr</code> (<code>aa</code> = alpha/transparency, <code>bb</code> = Blue, <code>gg</code> = Green, <code>rr</code> = Red)

<ul>
	<li><code>CRUSHING</code>, <code>SLASHING</code>, <code>PIERCING</code>, <code>MISSILE</code>, <code>STUNNING</code>: <code>0xffbed7d7</code></li>
	<li><code>POISON</code>: <code>0xff76e4c7</code></li>
	<li><code>FIRE</code>, <code>MAGICFIRE</code>: <code>0xff002a9c</code></li>
	<li><code>COLD</code>, <code>MAGICCOLD</code>: <code>0xffffbf00</code></li>
	<li><code>ELECTRICITY</code>: <code>0xfffff97d</code></li>
	<li><code>ACID</code>: <code>0xff19bba8</code></li>
	<li><code>MAGIC</code>: <code>0xff00d7ff</code></li>
</ul>
{% endcapture %}

{% include info.html %}
