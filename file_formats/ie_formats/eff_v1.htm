<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!--  <meta charset="utf-8"> -->
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>EFF file format</title>
  <meta name="description" content="The IESDP (Infinity Engine Structures Description Project) is an effort to research the workings of the Bioware Infinity Engine(R), and act as a collective resource for those interested in such workings.
">

  





  <link rel="stylesheet" href="../../css/main.css">

<!--
  <link rel="canonical" href="https://gibberlings3.github.io/iesdp/file_formats/ie_formats/eff_v1.htm">
  <link rel="alternate" type="application/rss+xml" title="IESDP" href="https://gibberlings3.github.io/iesdp/feed.xml">
-->
</head>


<body>

<header class="site-header">








    <hr />
    <div id="buttonboxtop">
      <div id="buttonstriptop">
        <a href="../../index.htm">Index</a> &nbsp;&bull;&nbsp;
        <a href="../../files/2da/index.htm">2DA</a> &nbsp;&bull;&nbsp;
        <a href="../../opcodes/index.htm">Effects</a> &nbsp;&bull;&nbsp;
        <a href="../../file_formats/index.htm">File Formats</a> &nbsp;&bull;&nbsp;
        <a href="../../scripting/actions/index.htm">Actions</a> &nbsp;&bull;&nbsp;
        <a href="../../files/ids/index.htm">Identifiers</a> &nbsp;&bull;&nbsp;
        <a href="../../scripting/triggers/index.htm">Triggers</a> &nbsp;&bull;&nbsp;
        <a href="../../appendices/index.htm">Appendices</a> &nbsp;&bull;&nbsp;
        <a href="../../site_info/index.htm">Site Info</a> &nbsp;&bull;&nbsp;
        <a href="../../site_info/legal.htm">Legal</a> &nbsp;&bull;&nbsp;
        <a href="https://www.gibberlings3.net/forums/forum/54-iesdp-updates-and-info/" target="_blank">Forum</a>
      </div>
    </div>
    <hr />
    <div id="logo">
      <a href="../../main.htm">
        <img src="../../images/iesdp_logo.gif" alt="IESDP Logo" width="120" height="120" />
      </a>
    </div>

</header>


<div id="nonFooter">
  <div id="content">

    





    <div class="title_main">EFF file format</div>
    <br />
    <div class="fileHeader">Applies to:</div>
    <div class="indent1">BG1: TotS, BG2, BG2: ToB, IWD, IWD:HoW, IWD:TotL, PST, BGEE</div><br />
    
    <div class="fileHeader">General Description</div>
    <div class="indent1">
      This file format describes an effect (opcode) and its parameters. The format is only ever found embedded in other files (e.g. <a href="../ie_formats/itm_v1.htm#itmv1_Feature_Block">ITM</a> or <a href="../ie_formats/spl_v1.htm#splv1_Feature_Block">SPL</a>). The engine appears to roll a probability for each valid target type, rather than one probability per attack.<br />
    </div>
    <br />
    
    <div class="fileHeader"><a name="effv1">EFF V1.0</a></div>
    <div class="indent1">
      Overall structure:<br />
      <div class="indent1">
        <li><a href="#effv1_Header">Header</a>
      </div>
      <br />
    </div>

    
    
    
    <div class="fileHeader">
  <a name="effv1_Header">EFF V1.0 Header</a>
</div>
<br />
<div class="indent1">
  
  <table border="1" width="98%" class="offset_table">
    <colgroup>
      <col width="5%" />
      <col width="12%" />
      <col width="*" />
    </colgroup>
    <thead>
      <tr>
        <th>Offset</th>
        <th>Size (datatype)</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      



<tr>










  <td>0x0000</td>
  <td>2 (word)</td>
  <td><p>Effect type</p>
</td>
</tr>



<tr>










  <td>0x0002</td>
  <td>1 (byte)</td>
  <td><p><b><a name="effv1_Header_0x2">Target type</a></b></p>

<ul>
  <li>0 ⟶ None</li>
  <li>1 ⟶ <b><a name="effv1_Header_0x2_1">Self</a></b></li>
  <li>2 ⟶ <b><a name="effv1_Header_0x2_2">Projectile target</a></b>
    <ul>
      <li>Affects each target of the specified projectile, as it impacts them.</li>
    </ul>
  </li>
  <li>3 ⟶ <b><a name="effv1_Header_0x2_3">Party</a></b></li>
  <li>4 ⟶ <b><a name="effv1_Header_0x2_4">Everyone</a></b></li>
  <li>5 ⟶ <b><a name="effv1_Header_0x2_5">Everyone except party</a></b></li>
  <li>6 ⟶ <b><a name="effv1_Header_0x2_6">Caster group</a></b>
    <ul>
      <li>Everyone matching <a href="../../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x274"><code class="language-plaintext highlighter-rouge">specific</code></a> value of caster.</li>
      <li>If cast by a party member, then it functions as <code><a href="#effv1_Header_0x2_3">Party</a></code>.</li>
      <li>Ability target (<code><a href="../ie_formats/itm_v1.htm#itmv1_Extended_Header_0xC">ITM</a>/<a href="../ie_formats/spl_v1.htm#splv1_Extended_Header_0xC">SPL</a></code>) doesn’t matter.</li>
    </ul>
  </li>
  <li>7 ⟶ <b><a name="effv1_Header_0x2_7">Target group</a></b>
    <ul>
      <li>Everyone matching <code><a href="../ie_formats/cre_v1.htm#CREV1_0_Header_0x274">specific</a></code> value of target.</li>
      <li>Ability (<code><a href="../ie_formats/itm_v1.htm#itmv1_Extended_Header_0xC">ITM</a>/<a href="../ie_formats/spl_v1.htm#splv1_Extended_Header_0xC">SPL</a></code>) must target a <a href="../ie_formats/are_v1.htm#formAREAV1_0_Actor">creature</a>, not a location, <a href="../ie_formats/are_v1.htm#formAREAV1_0_Container">container</a>, <a href="../ie_formats/are_v1.htm#formAREAV1_0_Door">door</a>, etc…</li>
    </ul>
  </li>
  <li>8 ⟶ <b><a name="effv1_Header_0x2_8">Everyone except self</a></b></li>
  <li>9 ⟶ <b><a name="effv1_Header_0x2_9">Original caster</a></b>
    <ul>
      <li>Affects Caster, as the specified projectile impacts its target(s), once or for each target depending on the projectile’s flags (see <a href="../ie_formats/pro_v1.htm#ExtFlags_BIT31">here</a>). The specified projectile only determines when/if it’s applied.</li>
    </ul>
  </li>
</ul>

<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
  <li><code class="language-plaintext highlighter-rouge">ITM</code> global (equipped) effects: Target is always the wearer, this field isn’t relevant.</li>
  <li><code class="language-plaintext highlighter-rouge">SPL</code> global (casting) effects: Will not work with <code><a href="#effv1_Header_0x2_2">Projectile Target</a></code>.</li>
  <li><code class="language-plaintext highlighter-rouge">Everyone</code> stands for “in current area”.</li>
  <li>Excluding <code><a href="#effv1_Header_0x2">Target type</a></code> <code><a href="#effv1_Header_0x2_2">2</a></code>, all other <code><a href="#effv1_Header_0x2">Target type</a></code>s apply the effect using projectile <code class="language-plaintext highlighter-rouge">#1|None</code>.</li>
  <li><code><a href="#effv1_Header_0x2">Target type</a></code>s <code><a href="#effv1_Header_0x2_2">2</a></code> and <code><a href="#effv1_Header_0x2_9">9</a></code> are applied in effect order, but always after the others, even when using projectile <code class="language-plaintext highlighter-rouge">#1|None</code>.
    <ul>
      <li><code><a href="#effv1_Header_0x2">Target type</a></code>s (<code class="language-plaintext highlighter-rouge">1</code>, <code class="language-plaintext highlighter-rouge">3–8</code>) are applied in effect order.
        <ul>
          <li>If a spell/item has effects listed in this order:
            <ul>
              <li><code class="language-plaintext highlighter-rouge">op(1), target = 2</code></li>
              <li><code class="language-plaintext highlighter-rouge">op(2), target = 3</code></li>
              <li><code class="language-plaintext highlighter-rouge">op(3), target = 1</code></li>
              <li><code class="language-plaintext highlighter-rouge">op(4), target = 9</code></li>
              <li><code class="language-plaintext highlighter-rouge">op(5), target = 2</code></li>
              <li><code class="language-plaintext highlighter-rouge">op(6), target = 6</code></li>
            </ul>

            They will be applied in this order:
op(2), op(3), op(6), op(1), op(4), op(5).
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Similar to Melee Weapon Attacks, when <code><a href="#effv1_Header_0x2">Target type</a></code>s other than <code><a href="#effv1_Header_0x2_1">1</a></code>, <code><a href="#effv1_Header_0x2_2">2</a></code>, <code><a href="#effv1_Header_0x2_9">9</a></code> apply the effect, they are subjected to <a href="../../opcodes/bgee.htm#op197">opcode #197</a> (<code class="language-plaintext highlighter-rouge">parameter2=0</code>) but not to <a href="../../opcodes/bgee.htm#op83">opcode #83</a>. (Excluding when they’re affecting the caster).</li>
  <li>Be aware that <a href="../../opcodes/bgee.htm#op146">opcode #146</a><code><small><sup>*</sup></small>p2=2</code>, <a href="../../opcodes/bgee.htm#op326">opcode #326</a>, and <a href="../../opcodes/bgee.htm#op333">opcode #333</a> might behave differently when it comes to <code><a href="#effv1_Header_0x2_1">Self</a></code>/<code><a href="#effv1_Header_0x2_2">Projectile Target</a></code>/<code><a href="#effv1_Header_0x2_9">Original Caster</a></code>.</li>
</ul>

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0003</td>
  <td>1 (byte)</td>
  <td><p>Power</p>
</td>
</tr>



<tr>










  <td>0x0004</td>
  <td>4 (dword)</td>
  <td><p>Parameter 1</p>
</td>
</tr>



<tr>










  <td>0x0008</td>
  <td>4 (dword)</td>
  <td><p>Parameter 2</p>
</td>
</tr>



<tr>










  <td>0x000c</td>
  <td>1 (byte)</td>
  <td><p><b><a name="effv1_Header_0xC">Timing mode</a></b></p>

<ul>
  <li>0 ⟶ <b><a name="effv1_Header_0xC_0">Instant/Limited</a></b>
    <ul>
      <li>This timing mode measures <code><a href="#effv1_Header_0xE">Duration</a></code> in seconds.</li>
      <li>Instantly converts to <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x24_4096">Absolute duration</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = <a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) + 15 * <a href="#effv1_Header_0xE">Duration</a>(seconds)</code>.</li>
    </ul>
  </li>
  <li>1 ⟶ <b><a name="effv1_Header_0xC_1">Instant/Permanent</a></b>
    <ul>
      <li>If the opcode doesn’t directly modify a <code><a href="../../files/ids/bgee/stats.htm">STAT</a>/<a href="../../files/ids/bgee/state.htm">STATE</a></code> in the target’s <a href="../ie_formats/cre_v1.htm">CRE</a> file, then it will last until removed (or it self-terminates). <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">New duration</a>(ticks) = <a href="#effv1_Header_0xE">Duration</a>(ticks)</code> (mostly unused).</li>
    </ul>
  </li>
  <li>2 ⟶ <b><a name="effv1_Header_0xC_2">Instant/While equipped</a></b>
    <ul>
      <li>As global <code class="language-plaintext highlighter-rouge">ITM</code> effect: Applied when item is equipped, lasts until item is unequipped (or <a href="../../opcodes/bgee.htm#op135">polymorph</a> bug).
        <ul>
          <li>“Equipping” also occurs when game loads, and for weapons whenever they are selected from quickbar (even if it’s already the active weapon). Never expires, and not considered a “Limited” effect.</li>
        </ul>
      </li>
      <li>As <code class="language-plaintext highlighter-rouge">SPL</code> or header <code class="language-plaintext highlighter-rouge">ITM</code> effect: applies instantly, lasts until game is reloaded.</li>
      <li><code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">New duration</a>(ticks) = <a href="#effv1_Header_0xE">Duration</a>(ticks)</code> (mostly unused).</li>
    </ul>
  </li>
  <li>3 ⟶ <b><a name="effv1_Header_0xC_3">Delay/Limited</a></b>
    <ul>
      <li>This timing mode measures <code><a href="#effv1_Header_0xE">Duration</a></code> in seconds.</li>
      <li>Instantly converts to <code><a href="#effv1_Header_0xC_6">Limited after duration</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = <a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) + 15 * <a href="#effv1_Header_0xE">Duration</a>(seconds)</code>.</li>
    </ul>
  </li>
  <li>4 ⟶ <b><a name="effv1_Header_0xC_4">Delay/Permanent</a></b>
    <ul>
      <li>This timing mode measures <code><a href="#effv1_Header_0xE">Duration</a></code> in seconds.</li>
      <li>Instantly converts to <code><a href="#effv1_Header_0xC_7">Permanent after duration</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = <a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) + 15 * <a href="#effv1_Header_0xE">Duration</a>(seconds)</code>.</li>
    </ul>
  </li>
  <li>5 ⟶ <b><a name="effv1_Header_0xC_5">Delay/While equipped</a></b>
    <ul>
      <li>This timing mode measures <code><a href="#effv1_Header_0xE">Duration</a></code> in seconds.</li>
      <li>Instantly converts to <code><a href="#effv1_Header_0xC_8">Equipped after duration</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = <a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) + 15 * <a href="#effv1_Header_0xE">Duration</a>(seconds)</code>.</li>
    </ul>
  </li>
  <li>6 ⟶ <b><a name="effv1_Header_0xC_6">Limited after duration</a></b>
    <ul>
      <li>This timing mode measures <code><a href="#effv1_Header_0xE">Duration</a></code> in ticks (<small><sup>1</sup>⁄<sub>15</sub></small> second).</li>
      <li>At <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) &gt;= <a href="#effv1_Header_0xE">Duration</a>(ticks)</code> converts to <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x24_4096">Absolute duration</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = 2 * <a href="#effv1_Header_0xE">Duration</a>(ticks) - <a href="../ie_formats/eff_v2.htm#effv2_Body_0x6C">Time Applied</a>(ticks)</code>.
        <ul>
          <li>(If previously converted from <code><a href="#effv1_Header_0xC_3">Delay/Limited</a></code>)</li>
        </ul>
      </li>
      <li>At <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) &gt;= <a href="#effv1_Header_0xE">Duration</a>(ticks)</code> converts to <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x24_4096">Absolute duration</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = 16 * <a href="#effv1_Header_0xE">Duration</a>(ticks)</code>.
        <ul>
          <li>(If effect applied directly with <code><a href="#effv1_Header_0xC_6">Limited after duration</a></code>)</li>
          <li><code class="language-plaintext highlighter-rouge">16 x Duration(ticks) = Duration(ticks) + 15 * Duration(seconds)</code> (Yes, it calculates a new duration using its current <code><a href="#effv1_Header_0xE">Duration</a></code> field as both ticks and seconds).</li>
          <li>It will convert to <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x24_4096">Absolute duration</a></code> at the same <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a></code> (ticks) no matter when the effect was applied.</li>
          <li>That <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x24_4096">Absolute duration</a></code> will expire at the same <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a></code> (ticks) no matter when the effect was applied.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>7 ⟶ <b><a name="effv1_Header_0xC_7">Permanent after duration</a></b>
    <ul>
      <li>This timing mode measures <code><a href="#effv1_Header_0xE">Duration</a></code> in ticks (<small><sup>1</sup>⁄<sub>15</sub></small> second).</li>
      <li>At <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) &gt;= <a href="#effv1_Header_0xE">Duration</a>(ticks)</code> converts to <code><a href="#effv1_Header_0xC_1">Instant/Permanent</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = 2 * <a href="#effv1_Header_0xE">Duration</a>(ticks) - <a href="../ie_formats/eff_v2.htm#effv2_Body_0x6C">Time Applied</a>(ticks)</code>.
        <ul>
          <li>(If previously converted from <code><a href="#effv1_Header_0xC_4">Delay/Permanent</a></code>)</li>
        </ul>
      </li>
      <li>At <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) &gt;= <a href="#effv1_Header_0xE">Duration</a>(ticks)</code> converts to <code><a href="#effv1_Header_0xC_1">Instant/Permanent</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = 16 * <a href="#effv1_Header_0xE">Duration</a>(ticks)</code>.
        <ul>
          <li>(If effect applied directly with <code><a href="#effv1_Header_0xC_7">Permanent after duration</a></code>)</li>
          <li>It will convert to <code><a href="#effv1_Header_0xC_1">Instant/Permanent</a></code> at the same <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a></code> (ticks) no matter when the effect was applied.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>8 ⟶ <b><a name="effv1_Header_0xC_8">Equipped after duration</a></b>
    <ul>
      <li>This timing mode measures <code><a href="#effv1_Header_0xE">Duration</a></code> in ticks (<small><sup>1</sup>⁄<sub>15</sub></small> second).</li>
      <li>At <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) &gt;= <a href="#effv1_Header_0xE">Duration</a>(ticks)</code> converts to <code><a href="#effv1_Header_0xC_2">Instant/While equipped</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = irrelevant</code>.</li>
    </ul>
  </li>
  <li>9 ⟶ <b><a name="effv1_Header_0xC_9">Instant/Permanent</a></b> (after Death)
    <ul>
      <li>Effect is applied instantly.</li>
      <li>Never expires, but can terminate or be removed. <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">New duration</a>(ticks) = <a href="#effv1_Header_0xE">Duration</a>(ticks)</code>.</li>
    </ul>
  </li>
  <li>10 ⟶ <b><a name="effv1_Header_0xC_10">Instant/Limited</a></b>
    <ul>
      <li>This timing mode measures <code><a href="#effv1_Header_0xE">Duration</a></code> in ticks (<small><sup>1</sup>⁄<sub>15</sub></small> second).</li>
      <li>Instantly converts to <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x24_4096">Absolute duration</a></code>, <code><a href="../ie_formats/eff_v2.htm#effv2_Body_0x28">new duration</a>(ticks) = <a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a>(ticks) + <a href="#effv1_Header_0xE">Duration</a>(ticks)</code>.</li>
      <li>If <code><a href="#effv1_Header_0xE">Duration</a> = 0</code>, it won’t function any differently from timing mode <code><a href="#effv1_Header_0xC_0">0</a></code>.</li>
    </ul>
  </li>
</ul>

<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
  <li>All effects except those with Timing mode <code><a href="#effv1_Header_0xC_9">9</a></code> are removed by death.</li>
  <li>Some effects use a measurement of <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a></code> in seconds, and multiply it by 15, rather than taking the exact <code><a href="../ie_formats/gam_v2.0.htm#GAMEV2_0_Header_GameTime">Gametime</a></code> in ticks.<br />
    <ul>
      <li>This results in them lasting longer/shorter than they should (by up to 14 ticks).
        <ul>
          <li>One of such effects is <a href="../../opcodes/bgee.htm#op231">Time Stop</a> (this is in addition to lasting half its specified <code><a href="#effv1_Header_0xE">Duration</a></code>).</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x000d</td>
  <td>1 (byte)</td>
  <td><p><b><a name="effv1_Header_0xD">Dispel / Resistance</a></b></p>

<p>The default behaviour is that effects cannot be dispelled and ignore magic resistance.</p>

<ul>
  <li>bit 0 ⟶ Can be dispelled, affected by magic resistance</li>
  <li>bit 1 ⟶ Ignores magic resistance (when used in combination with bit 0)</li>
</ul>

<p>This can also be presented in the more traditional way:</p>
<ul>
  <li>0 ⟶ Natural/Nonmagical</li>
  <li>1 ⟶ Can be dispelled/Affected by resistance</li>
  <li>2 ⟶ Cannot be dispelled/Ignores resistance</li>
  <li>3 ⟶ Can be dispelled/Ignores resistance</li>
</ul>

<p>The only difference between <code class="language-plaintext highlighter-rouge">0</code> and <code class="language-plaintext highlighter-rouge">2</code> is that <code class="language-plaintext highlighter-rouge">0</code> will automatically convert to <code class="language-plaintext highlighter-rouge">2</code> when targeting yourself.</p>
</td>
</tr>



<tr>










  <td>0x000e</td>
  <td>4 (dword)</td>
  <td><p><b><a name="effv1_Header_0xE">Duration</a></b></p>

<ul>
  <li>This field is measured in seconds or ticks (<small><sup>1</sup>⁄<sub>15</sub></small> second), depending on <code><a href="#effv1_Header_0xC">Timing mode</a></code>.</li>
</ul>
</td>
</tr>



<tr>










  <td>0x0012</td>
  <td>1 (byte)</td>
  <td><p><b><a name="effv1_Header_0x12">Probability 1</a></b></p>
</td>
</tr>



<tr>










  <td>0x0013</td>
  <td>1 (byte)</td>
  <td><p><b><a name="effv1_Header_0x13">Probability 2</a></b></p>

<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
  <li>The <code class="language-plaintext highlighter-rouge">BG1</code> engine treats probability as a single word, effects are applied in the range <code class="language-plaintext highlighter-rouge">0–probability</code>.</li>
  <li>Other engines treat probability as two values. When an event fires, a random number (let us denote it by <code class="language-plaintext highlighter-rouge">x</code>) in the <code class="language-plaintext highlighter-rouge">0–99</code> range is generated. If <code>x &lt;= <a href="#effv1_Header_0x12">Probability1</a> &amp;&amp; &gt;= <a href="#effv1_Header_0x13">Probability2</a></code>, the event fires.
    <ul>
      <li>Some counter-intuitive cases:
        <ul>
          <li>if you set both <code><a href="#effv1_Header_0x12">Probability1</a></code> and <code><a href="#effv1_Header_0x13">Probability2</a></code> to <code class="language-plaintext highlighter-rouge">0</code>, you get an effect with a 1％ chance of firing (it fires whenever the random number generator spits out zero).</li>
          <li>if you set <code><a href="#effv1_Header_0x12">Probability1</a></code> to <code class="language-plaintext highlighter-rouge">1</code> and <code><a href="#effv1_Header_0x13">Probability2</a></code> to <code class="language-plaintext highlighter-rouge">0</code> (as, e.g., happens in BGT/BGEE’s implementation of the iron crisis), you don’t get an effect with a 1％ chance of firing, but one with a 2％ chance of firing.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0014</td>
  <td>8 (resref)</td>
  <td><p>Resref key</p>
</td>
</tr>



<tr>










  <td>0x001c</td>
  <td>4 (dword)</td>
  <td><p><b><a name="effv1_Header_0x1C">Dice Thrown / Maximum Level</a></b></p>

<ul>
  <li>When this field is non-zero, all opcodes except for <a href="../../opcodes/bgee.htm#op12">opcode #12</a>, <a href="../../opcodes/bgee.htm#op17">opcode #17</a>, <a href="../../opcodes/bgee.htm#op18">opcode #18</a>, <a href="../../opcodes/bgee.htm#op218">opcode #218</a> (only when <code class="language-plaintext highlighter-rouge">parameter2=1</code>), <a href="../../opcodes/bgee.htm#op331">opcode #331</a>, and <a href="../../opcodes/bgee.htm#op333">opcode #333</a>, treat it as <code class="language-plaintext highlighter-rouge">Maximum Level</code>, meaning that only creatures whose level attribute is less than or equal to this value will be affected by the effect.</li>
</ul>

<div class="note info">
  <div>
    <strong>Note:</strong> 
When this field is used as <code class="language-plaintext highlighter-rouge">Maximum Level</code>:
<ul>
  <li>A <code class="language-plaintext highlighter-rouge">7 ➔ 1</code> dual-class character qualifies as HD 7, even though the level 7 class is still inactive.</li>
  <li>A <code class="language-plaintext highlighter-rouge">1/7/1</code> multi-class character qualifies as HD 7, not level 3 (average).</li>
  <li>The <a href="../ie_formats/cre_v1.htm#CREV1_0_Header_0x235">2<sup><small>nd</small></sup></a>/<a href="../ie_formats/cre_v1.htm#CREV1_0_Header_0x236">3<sup><small>rd</small></sup></a> class levels are NOT included for single-classes.
    <ul>
      <li>A <code class="language-plaintext highlighter-rouge">1/30/1</code> single-class character qualifies as HD 1.</li>
    </ul>
  </li>
</ul>

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0020</td>
  <td>4 (dword)</td>
  <td><p><b><a name="effv1_Header_0x20">Dice Sides / Minimum Level</a></b></p>

<ul>
  <li>When this field is non-zero, all opcodes except for <a href="../../opcodes/bgee.htm#op12">opcode #12</a>, <a href="../../opcodes/bgee.htm#op17">opcode #17</a>, <a href="../../opcodes/bgee.htm#op18">opcode #18</a>, <a href="../../opcodes/bgee.htm#op218">opcode #218</a> (only when <code class="language-plaintext highlighter-rouge">parameter2=1</code>), <a href="../../opcodes/bgee.htm#op331">opcode #331</a>, and <a href="../../opcodes/bgee.htm#op333">opcode #333</a>, treat it as <code class="language-plaintext highlighter-rouge">Minimum Level</code>, meaning that only creatures whose level attribute is greater than or equal to this value will be affected by the effect.</li>
</ul>

<div class="note info">
  <div>
    <strong>Note:</strong> 
When this field is used as <code class="language-plaintext highlighter-rouge">Minimum Level</code>:
<ul>
  <li>A <code class="language-plaintext highlighter-rouge">7 ➔ 1</code> dual-class character qualifies as HD 7, even though the level 7 class is still inactive.</li>
  <li>A <code class="language-plaintext highlighter-rouge">1/7/1</code> multi-class character qualifies as HD 7, not level 3 (average).</li>
  <li>The <a href="../ie_formats/cre_v1.htm#CREV1_0_Header_0x235">2<sup><small>nd</small></sup></a>/<a href="../ie_formats/cre_v1.htm#CREV1_0_Header_0x236">3<sup><small>rd</small></sup></a> class levels are NOT included for single-classes.
    <ul>
      <li>A <code class="language-plaintext highlighter-rouge">1/30/1</code> single-class qualifies as HD 1.</li>
    </ul>
  </li>
</ul>

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0024</td>
  <td>4 (dword)</td>
  <td><p><b><a name="effv1_Header_0x24">Saving throw type</a></b></p>

<ul>
  <li>bit 0 ⟶ <b><a name="effv1_Header_0x24_BIT0">Spells</a></b></li>
  <li>bit 1 ⟶ <b><a name="effv1_Header_0x24_BIT1">Breath</a></b></li>
  <li>bit 2 ⟶ <b><a name="effv1_Header_0x24_BIT2">Paralyze / Poison / Death</a></b></li>
  <li>bit 3 ⟶ <b><a name="effv1_Header_0x24_BIT3">Wands</a></b></li>
  <li>bit 4 ⟶ <b><a name="effv1_Header_0x24_BIT4">Petrify / Polymorph</a></b></li>
  <li>bit 10 ⟶ <b><a name="effv1_Header_0x24_BIT10">Ignore primary target</a></b> (EE only)
    <ul>
      <li><a href="../ie_formats/pro_v1.htm#ExtFlags_BIT14">Line AoE projectile</a> doesn’t affect end target.</li>
    </ul>
  </li>
  <li>bit 11 ⟶ <b><a name="effv1_Header_0x24_BIT11">Ignore secondary target</a></b> (EE only)
    <ul>
      <li><a href="../ie_formats/pro_v1.htm#ExtFlags_BIT14">Line AoE projectile</a> doesn’t affect bystanders.</li>
    </ul>
  </li>
  <li>bit 24 ⟶ <b><a name="effv1_Header_0x24_BIT24">Bypass mirror image</a></b> (EE/TobEx only)
    <ul>
      <li>This bit is only relevant for <a href="../../opcodes/bgee.htm#op12">opcode #12</a> and <a href="../../opcodes/bgee.htm#op25">opcode #25</a>.</li>
      <li>All other opcodes bypass Mirror Image by default, setting/unsetting this bit is harmless.</li>
    </ul>
  </li>
  <li>bit 25 ⟶
    <ul>
      <li><b><a name="effv1_Header_0x24_BIT25_EE">Ignore difficulty</a></b> (EE only)
        <ul>
          <li>This bit is specific to <a href="../../opcodes/bgee.htm#op12">opcode #12</a> only.</li>
          <li>It refers to the damage multiplier to Party Members based on Game Difficulty.</li>
        </ul>
      </li>
      <li><b><a name="effv1_Header_0x24_BIT25_ToBEx">Limit effect stacking</a></b> (ToBEx only)</li>
    </ul>
  </li>
  <li>bit 26 ⟶ TobEx internal (don’t use)
    <ul>
      <li>Suspends effect application.</li>
    </ul>
  </li>
</ul>

<div class="note info">
  <div>
    <strong>Note:</strong> 
If more than 1 Saving Throw Type is specified (<code class="language-plaintext highlighter-rouge">BIT0 – BIT4</code>), the target rolls against their best save.

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0028</td>
  <td>4 (dword)</td>
  <td><p>Saving throw bonus</p>
</td>
</tr>



<tr>










  <td>0x002c</td>
  <td>4 (dword)</td>
  <td><p><span class="unknown">Unknown</span></p>
</td>
</tr>




    </tbody>
  </table>
</div>
<br />


  </div>
</div>


<a href="#" class="go-up">
  &nbsp;
</a>


  </div>
</div>

<script>
window.addEventListener("scroll", function(event) {
  var top = window.pageYOffset || document.documentElement.scrollTop;
  var arrow = document.getElementsByClassName("go-up")[0];
  if (top > 100) {
    arrow.style.visibility = "visible";
  } else {
    arrow.style.visibility = "hidden";
  }
});
</script>

<footer class="site-footer">
  <hr />
  <div id="footer">

    <div class="">
      <a class="gh-icon-container" href="https://github.com/gibberlings3/iesdp/">
  <span class="icon icon--github"><svg viewBox="0 0 16 16"><path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span>
</a>

      <a href="https://github.com/gibberlings3/iesdp//blob/master/file_formats/ie_formats/eff_v1.htm">Edit this page</a>
    </div>

    <div class="">
      <form method="get" action="http://www.google.com/search">
        <div style="margin: 0px; padding: 0px; text-align: center">
          <input type="hidden" name="ie" value="UTF-8" />
          <input type="hidden" name="oe" value="UTF-8" />
          <input class="form_text" type="text" name="q" size="30" maxlength="255" value="" />
          <input class="form_button" type="submit" name="btnG" value="Search" />
          <input type="hidden" name="domains" value="https://gibberlings3.github.io/iesdp" />
          <input type="hidden" name="sitesearch" value="https://gibberlings3.github.io/iesdp" />
        </div>
      </form>
    </div>

  </div>
  <hr />
</footer>


</body>
</html>
