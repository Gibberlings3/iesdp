<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!--  <meta charset="utf-8"> -->
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ITM file format</title>
  <meta name="description" content="The IESDP (Infinity Engine Structures Description Project) is an effort to research the workings of the Bioware Infinity Engine(R), and act as a collective resource for those interested in such workings.
">

  





  <link rel="stylesheet" href="../../css/main.css">

<!--
  <link rel="canonical" href="https://gibberlings3.github.io/iesdp/file_formats/ie_formats/itm_v1.htm">
  <link rel="alternate" type="application/rss+xml" title="IESDP" href="https://gibberlings3.github.io/iesdp/feed.xml">
-->
</head>


<body>

<header class="site-header">








    <hr />
    <div id="buttonboxtop">
      <div id="buttonstriptop">
        <a href="../../index.htm">Index</a> &nbsp;&bull;&nbsp;
        <a href="../../files/2da/index.htm">2DA</a> &nbsp;&bull;&nbsp;
        <a href="../../opcodes/index.htm">Effects</a> &nbsp;&bull;&nbsp;
        <a href="../../file_formats/index.htm">File Formats</a> &nbsp;&bull;&nbsp;
        <a href="../../scripting/actions/index.htm">Actions</a> &nbsp;&bull;&nbsp;
        <a href="../../files/ids/index.htm">Identifiers</a> &nbsp;&bull;&nbsp;
        <a href="../../scripting/triggers/index.htm">Triggers</a> &nbsp;&bull;&nbsp;
        <a href="../../appendices/index.htm">Appendices</a> &nbsp;&bull;&nbsp;
        <a href="../../site_info/index.htm">Site Info</a> &nbsp;&bull;&nbsp;
        <a href="../../site_info/legal.htm">Legal</a> &nbsp;&bull;&nbsp;
        <a href="https://www.gibberlings3.net/forums/forum/54-iesdp-updates-and-info/" target="_blank">Forum</a>
      </div>
    </div>
    <hr />
    <div id="logo">
      <a href="../../main.htm">
        <img src="../../images/iesdp_logo.gif" alt="IESDP Logo" width="120" height="120" />
      </a>
    </div>

</header>


<div id="nonFooter">
  <div id="content">

    





    <div class="title_main">ITM file format</div>

    <br />
    <div class="fileHeader">Applies to:</div>
    <div class="indent1">BG1, BG1: TotS, BG2, BG2: ToB, IWD, IWD:HoW, IWD:TotL, BGEE</div>
    <br />
    
    <div class="fileHeader">General Description</div>
    <div class="indent1">
      This file format describes an &quot;item&quot;. Items include weapons, armor, books, scrolls, rings and more. Items can have attached abilties, occuring either when a target creature it hit, or when the item is equipped. ITM files have a similar structure to <a href="spl_v1.htm">SPL</a> files.<br />
    </div>
    <br />
    
    <div class="center"><img border="0" src="../../images/itm.gif"></div>
    <table align="center">
      <tr>
        <td><img src="../../images/red.jpg" width="10" height="10"></td>
        <td><strong>Header: </strong><font size="-1">Size = 114 Bytes</font></td>
        <td><img src="../../images/blue.jpg" width="10" height="10"></td>
        <td><strong>Ext. Header: </strong><font size="-1">Size = 56 Bytes</font></td>
        <td><img src="../../images/green.jpg" width="10" height="10"></td>
        <td><strong>Feature Block: </strong><font size="-1">Size = 48 Bytes</font></td>
      </table>
    <br />
    
    <div class="fileHeader">Detailed Description</div>
    <div class="indent1">
      ITM files consist of a main header, zero or more extended headers (each containing zero or more feature blocks) and zero or more casting feature blocks. All the feature blocks are stored as a continuous data segment, with each extended header containing an offset into this data, and the main header containing an offset into this data for the casting feature blocks.<br />
      NB. A creature must meet the minimum stat requirements to be able to converse with an item.<br />
      <br />
      Overall structure:<br />
      <ul>
        <li><a href="#itmv1_Header">Header</a></li>
        <li><a href="#itmv1_Extended_Header">Extended Headers</a></li>
        <li><a href="#itmv1_Feature_Block">Equipping Feature Blocks</a></li>
      </ul>
      <br />
    </div>

    
    
    
    <div class="fileHeader">
  <a name="itmv1_Header">Header</a>
</div>
<br />
<div class="indent1">
  
  <table border="1" width="98%" class="offset_table">
    <colgroup>
      <col width="5%" />
      <col width="12%" />
      <col width="*" />
    </colgroup>
    <thead>
      <tr>
        <th>Offset</th>
        <th>Size (datatype)</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      



<tr>










  <td>0x0000</td>
  <td>4 (char array)</td>
  <td><p>Signature (‘ITM ‘)</p>
</td>
</tr>



<tr>










  <td>0x0004</td>
  <td>4 (char array)</td>
  <td><p>Version (‘V1  ‘)</p>
</td>
</tr>



<tr>










  <td>0x0008</td>
  <td>4 (strref)</td>
  <td><p>Unidentified Name (strref)</p>
</td>
</tr>



<tr>










  <td>0x000c</td>
  <td>4 (strref)</td>
  <td><p>Identified Name (strref)</p>
</td>
</tr>



<tr>










  <td>0x0010</td>
  <td>8 (resref)</td>
  <td><p>BG1, BG2, BGEE:<br />
<b><a name="itmv1_Header_0x10">Replacement item</a></b> (ITM)</p>

<p>PSTEE:<br />
Drop sound - played when the item is dropped in the inventory (WAV)</p>
</td>
</tr>



<tr>










  <td>0x0018</td>
  <td>4 (dword)</td>
  <td><p><a href="#Header_Flags">Flags</a></p>
</td>
</tr>



<tr>










  <td>0x001c</td>
  <td>2 (word)</td>
  <td><p><a href="#Header_ItemType">Item type</a></p>
</td>
</tr>



<tr>










  <td>0x001e</td>
  <td>1*4 (byte)</td>
  <td><p><a href="#Header_Usability">Usability bitmask</a></p>
</td>
</tr>



<tr>










  <td>0x0022</td>
  <td>2 (char array)</td>
  <td><p><a href="#Header_Animation">Item animation</a></p>
</td>
</tr>



<tr>










  <td>0x0024</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Header_0x24">Min Level</a></b></p>

<ul>
  <li>Treated as average of all active class levels, rounded up.</li>
</ul>

<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
  <li>This field is basically the ITM counterpart of <code><a href="../ie_formats/spl_v1.htm#splv1_Extended_Header_0x10">Level Required</a></code>.</li>
  <li>The only difference is that ITM <a href="#itmv1_Extended_Header">abilities</a> cannot have separate level requirements.</li>
</ul>

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0026</td>
  <td>2 (word)</td>
  <td><p>Min Strength (unused in BG1)</p>
</td>
</tr>



<tr>










  <td>0x0028</td>
  <td>1 (byte)</td>
  <td><p>Min Strength Bonus (unused in BG1)<br />
Note: A strength of 19 or above is considered to have a Strength Bonus of 0, and would therefore not be able to equip any weapon with a Strength Bonus restriction.</p>
</td>
</tr>



<tr>










  <td>0x0029</td>
  <td>1 (byte)</td>
  <td><p><a href="#Header_KitUsability">Kit Usability 1</a></p>
</td>
</tr>



<tr>










  <td>0x002a</td>
  <td>1 (byte)</td>
  <td><p>Min Intelligence (unused in BG1)</p>
</td>
</tr>



<tr>










  <td>0x002b</td>
  <td>1 (byte)</td>
  <td><p><a href="#Header_KitUsability">Kit Usability 2</a></p>
</td>
</tr>



<tr>










  <td>0x002c</td>
  <td>1 (byte)</td>
  <td><p>Min Dexterity (unused in BG1)</p>
</td>
</tr>



<tr>










  <td>0x002d</td>
  <td>1 (byte)</td>
  <td><p><a href="#Header_KitUsability">Kit Usability 3</a></p>
</td>
</tr>



<tr>










  <td>0x002e</td>
  <td>1 (byte)</td>
  <td><p>Min Wisdom (unused in BG1)</p>
</td>
</tr>



<tr>










  <td>0x002f</td>
  <td>1 (byte)</td>
  <td><p><a href="#Header_KitUsability">Kit Usability 4</a></p>
</td>
</tr>



<tr>










  <td>0x0030</td>
  <td>1 (byte)</td>
  <td><p>Min Constitution (unused in BG1)</p>
</td>
</tr>



<tr>










  <td>0x0031</td>
  <td>1 (byte)</td>
  <td><p><a href="#Header_Proficiency">Weapon Proficiency</a></p>
</td>
</tr>



<tr>










  <td>0x0032</td>
  <td>2 (word)</td>
  <td><p>Min Charisma</p>
</td>
</tr>



<tr>










  <td>0x0034</td>
  <td>4 (dword)</td>
  <td><p>Price</p>
</td>
</tr>



<tr>










  <td>0x0038</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Header_0x38">Stack amount</a></b></p>
</td>
</tr>



<tr>










  <td>0x003a</td>
  <td>8 (resref)</td>
  <td><p>Inventory icon (BAM)</p>
</td>
</tr>



<tr>










  <td>0x0042</td>
  <td>2 (word)</td>
  <td><p>Lore to ID</p>
</td>
</tr>



<tr>










  <td>0x0044</td>
  <td>8 (resref)</td>
  <td><p><b><a name="itmv1_Header_0x44">Ground icon</a></b> (BAM)</p>
</td>
</tr>



<tr>










  <td>0x004c</td>
  <td>4 (dword)</td>
  <td><p>Weight</p>
</td>
</tr>



<tr>










  <td>0x0050</td>
  <td>4 (strref)</td>
  <td><p>Unidentified Description (strref)</p>
</td>
</tr>



<tr>










  <td>0x0054</td>
  <td>4 (strref)</td>
  <td><p>Identified Description (strref)</p>
</td>
</tr>



<tr>










  <td>0x0058</td>
  <td>8 (resref)</td>
  <td><p>Description icon (BAM)</p>
</td>
</tr>



<tr>










  <td>0x0060</td>
  <td>4 (dword)</td>
  <td><p><b><a name="itmv1_Header_0x60">Enchantment</a></b></p>
</td>
</tr>



<tr>










  <td>0x0064</td>
  <td>4 (dword)</td>
  <td><p>Offset to extended headers</p>
</td>
</tr>



<tr>










  <td>0x0068</td>
  <td>2 (word)</td>
  <td><p>Count of extended headers</p>
</td>
</tr>



<tr>










  <td>0x006a</td>
  <td>4 (dword)</td>
  <td><p>Offset to feature blocks</p>
</td>
</tr>



<tr>










  <td>0x006e</td>
  <td>2 (word)</td>
  <td><p>Index into equipping feature blocks</p>
</td>
</tr>



<tr>










  <td>0x0070</td>
  <td>2 (word)</td>
  <td><p>Count of equipping feature blocks</p>
</td>
</tr>




    </tbody>
  </table>
</div>
<br />


    
    
    
    
    <div class="fileHeader">
  <a name="itmv1_Extended_Header">Extended Header</a>
</div>
<br />
<div class="indent1">
  
    Items can have several &quot;abilities&quot; that correspond to an action the item can do (e.g. melee attacks, projectile attacks, spell-casting etc.). Each of these abilities is specified through an extended header. Only the first three extended headers can have charges (extended headers further than this use the charges of the first extended header). Tooltips for item abilities are set through <a href='../../files/2da/2da_bgee/tooltip.htm'>TOOLTIP.2DA</a>.<br />
    <br />
    NB. For items to be stackable, they must contain at least one extension header, even if it is empty.<br />
    NB. For an attack type of projectile, if the projectile type is set to 1,2 or 3, the weapon will use the attack speed of the ammunition.<br /><br />
    
  
  <table border="1" width="98%" class="offset_table">
    <colgroup>
      <col width="5%" />
      <col width="12%" />
      <col width="*" />
    </colgroup>
    <thead>
      <tr>
        <th>Offset</th>
        <th>Size (datatype)</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      



<tr>










  <td>0x0000</td>
  <td>1 (char)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x0">Attack type</a></b></p>
<ul>
  <li>0 ⟶ None</li>
  <li>1 ⟶ <b><a name="itmv1_Extended_Header_0x0_1">Melee</a></b></li>
  <li>2 ⟶ <b><a name="itmv1_Extended_Header_0x0_2">Ranged</a></b></li>
  <li>3 ⟶ <b><a name="itmv1_Extended_Header_0x0_3">Magical</a></b></li>
  <li>4 ⟶ <b><a name="itmv1_Extended_Header_0x0_4">Launcher</a></b></li>
</ul>

<p>For <code><a href="#itmv1_Extended_Header_0x2_3">Item</a></code> abilities:</p>
<ul>
  <li>Do NOT use <code class="language-plaintext highlighter-rouge">0|None</code>, will crash the game.</li>
  <li>Only <code><a href="#itmv1_Extended_Header_0x0_3">Magical</a></code> abilities can be drained (along with <a href="../../opcodes/bgee.htm#op243">opcode #243</a>’s other restrictions).</li>
  <li>Type <code><a href="#itmv1_Extended_Header_0x0_4">4</a></code> cannot be used except from scripts (icon won’t show up in actionbar).</li>
</ul>

<p>For <code><a href="#itmv1_Extended_Header_0x2_1">Weapon</a></code> abilities:</p>
<ul>
  <li>Do NOT use <code class="language-plaintext highlighter-rouge">0|None</code>, will crash the game.</li>
  <li><code><a href="#itmv1_Extended_Header_0x0_1">Melee</a></code>: Ignores the <code><a href="#itmv1_Extended_Header_0x2A">projectile</a></code> field (always uses <code class="language-plaintext highlighter-rouge">#1|None</code>). Valid for <a href="../../files/2da/2da_bgee/stylbonu.htm">Weapon Styles</a>.</li>
  <li><code><a href="#itmv1_Extended_Header_0x0_2">Ranged</a></code>:
    <ul>
      <li>Utilizes <code><a href="#itmv1_Extended_Header_0x2A">projectile</a></code> field.</li>
      <li>Item cannot be equipped in <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code>, unless its <code><a href="#Header_ItemType">itemtype</a></code> can only be equipped in the <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code> slot, from <code><a href="../../files/2da/2da_bgee/itemtype.htm">ITEMTYPE.2DA</a></code>.</li>
      <li>If equipped in <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code>, it will attack as normal (at least for the offhand).</li>
      <li><code><a href="../../files/ids/bgee/slots.htm#9">Off-hand</a></code> weapon will be suppressed while this item ability is selected in <code><a href="../../files/ids/bgee/slots.htm#35">mainhand</a></code> (EE only).</li>
    </ul>
  </li>
  <li><code><a href="#itmv1_Extended_Header_0x0_3">Magical</a></code>: Identical to <code><a href="#itmv1_Extended_Header_0x0_1">Melee</a></code>, except that it can be <a href="../../opcodes/bgee.htm#op243">drained</a>.</li>
  <li><code><a href="#itmv1_Extended_Header_0x0_4">Launcher</a></code>:
    <ul>
      <li>In the <code><a href="../../files/ids/bgee/slots.htm#35">mainhand</a></code> slots:
        <ul>
          <li>Ability cannot actually be selected, nor is the item considered “equipped” by script triggers or <a href="../../opcodes/bgee.htm#op183">opcode #183</a>.</li>
          <li>Equipped effects, stats and on-hit effects are added to the currently selected weapon ability IF that ability requires a <code><a href="#itmv1_Extended_Header_0x10">launcher</a></code> of this type.</li>
        </ul>
      </li>
      <li>In the <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code> slot:
        <ul>
          <li>Item cannot be equipped in <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code>, unless its <code><a href="#Header_ItemType">itemtype</a></code> can only be equipped in the <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code> slot, from <code><a href="../../files/2da/2da_bgee/itemtype.htm">ITEMTYPE.2DA</a></code>.</li>
          <li>Attack cycle will stop when this weapon would have attacked (must be re-initiated manually or by script).
            <ul>
              <li>The creature will stop attacking when the off-hand attack would have occurred. Similar to pressing the group “Stop” button (F3).</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
</td>
</tr>



<tr>










  <td>0x0001</td>
  <td>1 (char)</td>
  <td><p>ID Req.</p>
<ul>
  <li>bit 0 ⟶ ID Required</li>
  <li>bit 1 ⟶ Non-ID Required</li>
</ul>
</td>
</tr>



<tr>










  <td>0x0002</td>
  <td>1 (char)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x2">Location</a></b></p>

<ul>
  <li>0 ⟶ None
    <ul>
      <li>Ability will not be selectable through the UI (but still available to scripts and spell-casting opcodes).</li>
    </ul>
  </li>
  <li>1 ⟶ <b><a name="itmv1_Extended_Header_0x2_1">Weapon</a></b>
    <ul>
      <li>Ability can be used/selected in Quick-weapon slots (when equipped in one of the <code><a href="../../files/ids/bgee/slots.htm#35">mainhand</a></code>/<code><a href="../../files/ids/bgee/slots.htm#11">ammo</a></code>/<code><a href="../../files/ids/bgee/slots.htm#10">fist</a></code>/<code><a href="../../files/ids/bgee/slots.htm#34">magical weapon</a></code> slots).</li>
    </ul>
  </li>
  <li>2 ⟶ Spell
    <ul>
      <li><code><a href="../ie_formats/spl_v1.htm#splv1_Extended_Header_0x2_2">SPL</a></code> only.</li>
    </ul>
  </li>
  <li>3 ⟶ <b><a name="itmv1_Extended_Header_0x2_3">Equipment / Item</a></b>
    <ul>
      <li>Ability can be selected from Quick-item slots, when equipped in one of those slots, or from the “Use Item (F8)” button if equipped elsewhere (except the <code><a href="../../files/ids/bgee/slots.htm#34">Magical Weapon Slot</a></code>).</li>
    </ul>
  </li>
  <li>4 ⟶ Innate
    <ul>
      <li><code><a href="../ie_formats/spl_v1.htm#splv1_Extended_Header_0x2_4">SPL</a></code> only.</li>
    </ul>
  </li>
  <li>5+ ⟶ As <code class="language-plaintext highlighter-rouge">0</code>.</li>
</ul>

<div class="note info">
  <div>
    <strong>Note:</strong> 
The first ability header of an item equipped in a <code><a href="../../files/ids/bgee/slots.htm#35">weapon</a></code>/<code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code> slot will always be treated as a <code><a href="#itmv1_Extended_Header_0x2_1">weapon</a></code> abillty, even if it lacks the correct <code><a href="#itmv1_Extended_Header_0x2">location</a></code> to be selected as such, unless that item is a <code><a href="../../files/ids/bgee/itemcat.htm#12">shield</a></code> in the <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code>.

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0003</td>
  <td>1 (char)</td>
  <td><p>Alternative dice sides</p>
</td>
</tr>



<tr>










  <td>0x0004</td>
  <td>8 (resref)</td>
  <td><p>Use icon</p>
</td>
</tr>



<tr>










  <td>0x000c</td>
  <td>1 (char)</td>
  <td><p><b><a name="itmv1_Extended_Header_0xC">Target type</a></b></p>

<ul>
  <li>0 ⟶ Invalid (cannot be selected)</li>
  <li>1 ⟶ <b><a name="itmv1_Extended_Header_0xC_1">Living actor</a></b>
    <ul>
      <li>Targets Portrait, <a href="../ie_formats/are_v1.htm#formAREAV1_0_Actor">Creature/Actor</a>, <a href="../ie_formats/are_v1.htm#formAREAV1_0_Container">Container</a>, or <a href="../ie_formats/are_v1.htm#formAREAV1_0_Door">Door</a>. Checks <code><a href="#itmv1_Extended_Header_0xE">Range</a></code>.</li>
    </ul>
  </li>
  <li>2 ⟶ <b><a name="itmv1_Extended_Header_0xC_2">Inventory</a></b>
    <ul>
      <li>Can’t be activated manually.</li>
    </ul>
  </li>
  <li>3 ⟶ <b><a name="itmv1_Extended_Header_0xC_3">Dead actor</a></b>
    <ul>
      <li>As <code><a href="#itmv1_Extended_Header_0xC_1">Living Actor</a></code>. It really just ignores any <code><a href="#itmv1_Extended_Header_0xE">Range</a></code> requirement, including being in the same area.</li>
    </ul>
  </li>
  <li>4 ⟶ <b><a name="itmv1_Extended_Header_0xC_4">Any point within range</a></b>
    <ul>
      <li>Targets location. Checks <code><a href="#itmv1_Extended_Header_0xE">Range</a></code>.</li>
    </ul>
  </li>
  <li>5 ⟶ <b><a name="itmv1_Extended_Header_0xC_5">Caster</a></b>
    <ul>
      <li>Targets Self.</li>
    </ul>
  </li>
  <li>6 ⟶ Crash
    <ul>
      <li>Can’t be activated manually.</li>
    </ul>
  </li>
  <li>7 ⟶ <b><a name="itmv1_Extended_Header_0xC_7">Caster</a></b> (EE only)
    <ul>
      <li>Targets Self. In particular:
        <ul>
          <li>Used instantly (even while the game is paused).</li>
          <li>Ignores one item per round rule.</li>
          <li>Ignores <code><a href="#itmv1_Extended_Header_0x2A">projectile</a></code> (uses <code class="language-plaintext highlighter-rouge">#1|None</code>).</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
  <li>This field doesn’t matter when the ability is activated/cast by script, when cast by another opcode, or for weapon attacks.</li>
  <li><code><a href="#itmv1_Extended_Header_0x2_1">Weapon</a></code> attacks always use a more restricted form of <code><a href="#itmv1_Extended_Header_0xC_1">Living actor</a></code>, as they cannot target <a href="../ie_formats/are_v1.htm#formAREAV1_0_Container">containers</a> or <a href="../ie_formats/are_v1.htm#formAREAV1_0_Door">doors</a> unless they are locked.</li>
</ul>

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x000d</td>
  <td>1 (char)</td>
  <td><p><b><a name="itmv1_Extended_Header_0xD">Target count</a></b></p>

<ul>
  <li>Only usable by <code><a href="#itmv1_Extended_Header_0x2_3">Item</a></code> abilities, and only with Ability Targets <code><a href="#itmv1_Extended_Header_0xC_1">1</a></code>, <code><a href="#itmv1_Extended_Header_0xC_3">3</a></code>, or <code><a href="#itmv1_Extended_Header_0xC_4">4</a></code>.</li>
  <li>Targeting reticle will display amount remaining while selecting targets.</li>
  <li>Double-clicking a target/location will target it for the remaining amount.</li>
  <li>Regardless of the number of targets, only a single “Charge” will be expended.</li>
  <li>This feature cannot be utilized by scripts.
    <ul>
      <li>Scripts will treat this field as if it’s always <code class="language-plaintext highlighter-rouge">1</code>.</li>
    </ul>
  </li>
</ul>
</td>
</tr>



<tr>










  <td>0x000e</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Extended_Header_0xE">Range</a></b></p>
</td>
</tr>



<tr>










  <td>0x0010</td>
  <td>1 (byte)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x10">Launcher required</a></b></p>

<ul>
  <li>0 ⟶ None</li>
  <li>1 ⟶ <b><a name="itmv1_Extended_Header_0x10_1">Bow</a></b>
    <ul>
      <li>Any <code><a href="#itmv1_Extended_Header_0x0_2">Ranged</a></code> ability with this field set to this value will require a weapon with the corresponding <code><a href="../../files/ids/bgee/itemcat.htm#15">ITEMCAT.IDS</a></code> (Item category) in one of the <code><a href="../../files/ids/bgee/slots.htm#35">mainhand</a></code> weapon slots (not <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code>, <code><a href="../../files/ids/bgee/slots.htm#10">fist</a></code>, or <code><a href="../../files/ids/bgee/slots.htm#34">magical weapon</a></code> slot).</li>
    </ul>
  </li>
  <li>2 ⟶ <b><a name="itmv1_Extended_Header_0x10_2">Crossbow</a></b>
    <ul>
      <li>Any <code><a href="#itmv1_Extended_Header_0x0_2">Ranged</a></code> ability with this field set to this value will require a weapon with the corresponding <code><a href="../../files/ids/bgee/itemcat.htm#27">ITEMCAT.IDS</a></code> (Item category) in one of the <code><a href="../../files/ids/bgee/slots.htm#35">mainhand</a></code> weapon slots (not <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code>, <code><a href="../../files/ids/bgee/slots.htm#10">fist</a></code>, or <code><a href="../../files/ids/bgee/slots.htm#34">magical weapon</a></code> slot).</li>
    </ul>
  </li>
  <li>3 ⟶ <b><a name="itmv1_Extended_Header_0x10_3">Sling</a></b>
    <ul>
      <li>Any <code><a href="#itmv1_Extended_Header_0x0_2">Ranged</a></code> ability with this field set to this value will require a weapon with the corresponding <code><a href="../../files/ids/bgee/itemcat.htm#18">ITEMCAT.IDS</a></code> (Item category) in one of the <code><a href="../../files/ids/bgee/slots.htm#35">mainhand</a></code> weapon slots (not <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code>, <code><a href="../../files/ids/bgee/slots.htm#10">fist</a></code>, or <code><a href="../../files/ids/bgee/slots.htm#34">magical weapon</a></code> slot).</li>
    </ul>
  </li>
  <li>40 ⟶ Spear</li>
  <li>100 ⟶ Throwing Axe</li>
</ul>

<p>In particular:</p>
<ul>
  <li>It ONLY checks items for <code><a href="../../files/ids/bgee/itemcat.htm#15">BOW</a></code> / <code><a href="../../files/ids/bgee/itemcat.htm#27">XBOW</a></code> / <code><a href="../../files/ids/bgee/itemcat.htm#18">SLING</a></code> and will always use that item’s first ability header – it doesn’t matter what that ability’s <code><a href="#itmv1_Extended_Header_0x0">Type</a></code> is (<code><a href="#itmv1_Extended_Header_0x0_1">Melee</a></code>/<code><a href="#itmv1_Extended_Header_0x0_2">Ranged</a></code>/<code><a href="#itmv1_Extended_Header_0x0_3">Magical</a></code>/<code><a href="#itmv1_Extended_Header_0x0_4">Launcher</a></code>).
    <ul>
      <li>This also means that you can’t make an Arrow that requires being shot out of a Sword.</li>
    </ul>
  </li>
  <li><code><a href="../../files/ids/bgee/itemcat.htm">ITEMCAT</a></code> is offset <code><a href="#Header_ItemType">0x1C</a></code> of the ITM file (which is also linked to <code><a href="../../files/2da/2da_bgee/itemtype.htm">ITEMTYPE.2DA</a></code>).</li>
  <li>Only the <code><a href="../../files/ids/bgee/slots.htm#35">Mainhand</a></code>, <code><a href="../../files/ids/bgee/slots.htm#11">Ammo</a></code>, and <code><a href="../../files/ids/bgee/slots.htm#34">Magical Weapon</a></code> slots can utilize launchers. The <code><a href="../../files/ids/bgee/slots.htm#9">off-hand</a></code> ignores this field, while the <code><a href="../../files/ids/bgee/slots.htm#10">fist</a></code> slot uses it (only to crash).</li>
  <li>Weapons of any <code><a href="../../files/ids/bgee/itemcat.htm">ITEMCAT</a></code> can use this field, as long as it is equipped in one of the proper slots.
    <ul>
      <li>This also means that you can make a Sword that requires being shot out of a Bow.</li>
    </ul>
  </li>
  <li>Bows, Crossbows, and Slings with multiple abilities can even use themselves as their required launcher.</li>
</ul>
</td>
</tr>



<tr>










  <td>0x0011</td>
  <td>1 (byte)</td>
  <td><p>Alternative dice thrown</p>
</td>
</tr>



<tr>










  <td>0x0012</td>
  <td>1 (byte)</td>
  <td><p>Speed</p>
</td>
</tr>



<tr>










  <td>0x0013</td>
  <td>1 (byte)</td>
  <td><p>Alternative damage bonus</p>
</td>
</tr>



<tr>










  <td>0x0014</td>
  <td>2 (word)</td>
  <td><p>THAC0 bonus</p>

<p>A successful hit will always occur if any of the conditions below is true</p>
<ul>
  <li>This field is set to <code class="language-plaintext highlighter-rouge">32767</code>.</li>
  <li>The target creature(s) is <code class="language-plaintext highlighter-rouge">STATE_HELPLESS</code>.</li>
  <li>The target is affected by <a href="../../opcodes/bgee.htm#op231">Time Stop</a>.</li>
</ul>
</td>
</tr>



<tr>










  <td>0x0016</td>
  <td>1 (byte)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x16">Dice sides</a></b></p>
</td>
</tr>



<tr>










  <td>0x0017</td>
  <td>1 (byte)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x17">Primary Type (School)</a></b></p>

<ul>
  <li>See <code><a href="../../files/2da/2da_bgee/mschool.htm">MSCHOOL.2DA</a></code>.</li>
</ul>
</td>
</tr>



<tr>










  <td>0x0018</td>
  <td>1 (byte)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x18">Dice thrown</a></b></p>
</td>
</tr>



<tr>










  <td>0x0019</td>
  <td>1 (byte)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x19">Secondary Type</a></b></p>

<ul>
  <li>See <code><a href="../../files/2da/2da_bgee/msectype.htm">MSECTYPE.2DA</a></code>.</li>
</ul>
</td>
</tr>



<tr>










  <td>0x001a</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x1A">Damage bonus</a></b></p>
</td>
</tr>



<tr>










  <td>0x001c</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x1C">Damage type</a></b></p>

<ul>
  <li>0 ⟶ <b><a name="itmv1_Extended_Header_0x1C_0">None</a></b>
    <ul>
      <li>Deals Crushing damage, uses base AC (ignores all 4 specific AC).
        <ul>
          <li>If <code><a href="#itmv1_Extended_Header_0x18">#dice</a> = 0</code>: Deals damage as normal, just no dice amount.</li>
          <li>If <code><a href="#itmv1_Extended_Header_0x18">#dice</a> &gt; 0</code>: Sets target’s HP to <code class="language-plaintext highlighter-rouge">Damage Dealt</code>, ignores crushing resistance.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>1 ⟶ <b><a name="itmv1_Extended_Header_0x1C_1">Piercing</a></b></li>
  <li>2 ⟶ <b><a name="itmv1_Extended_Header_0x1C_2">Crushing</a></b></li>
  <li>3 ⟶ <b><a name="itmv1_Extended_Header_0x1C_3">Slashing</a></b></li>
  <li>4 ⟶ <b><a name="itmv1_Extended_Header_0x1C_4">Missile</a></b></li>
  <li>5 ⟶ <b><a name="itmv1_Extended_Header_0x1C_5">Fist</a></b>
    <ul>
      <li>Deals non-lethal damage, but uses Crushing AC.</li>
    </ul>
  </li>
  <li>6 ⟶ <b><a name="itmv1_Extended_Header_0x1C_6">Piercing/Crushing</a></b> (Better)
    <ul>
      <li>Uses whichever damage type and AC the creature has the worst damage resistance against (regardless if its AC is better or worse). Uses <code class="language-plaintext highlighter-rouge">Piercing</code> if equal resistance.</li>
    </ul>
  </li>
  <li>7 ⟶ <b><a name="itmv1_Extended_Header_0x1C_7">Piercing/Slashing</a></b> (Better)
    <ul>
      <li>Uses whichever damage type and AC the creature has the worst damage resistance against (regardless if its AC is better or worse). Uses <code class="language-plaintext highlighter-rouge">Piercing</code> if equal resistance.</li>
    </ul>
  </li>
  <li>8 ⟶ <b><a name="itmv1_Extended_Header_0x1C_8">Crushing/Slashing</a></b> (Worse)
    <ul>
      <li>Uses whichever damage type and AC the creature has the better damage resistance against (regardless if its AC is better or worse). Uses <code class="language-plaintext highlighter-rouge">Slashing</code> if equal resistance.</li>
    </ul>
  </li>
  <li>9 ⟶ <b><a name="itmv1_Extended_Header_0x1C_9">Blunt Missile</a></b>
    <ul>
      <li>Same as <code><a href="#itmv1_Extended_Header_0x1C_0">None</a></code>
        <ul>
          <li>Either it’s bugged or <code><a href="#itmv1_Extended_Header_0x1C_9">Blunt Missile</a></code> has always been an IWD2-only feature.</li>
          <li>It’s probably meant to deal crushing damage while using Missile AC.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>10+ ⟶ Same as <code><a href="#itmv1_Extended_Header_0x1C_0">None</a></code></li>
</ul>

<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
  <li>ALL values:
    <ul>
      <li>If <code><a href="#itmv1_Extended_Header_0x18">Dice thrown</a></code>, <code><a href="#itmv1_Extended_Header_0x16">Dice size</a></code>, and <code><a href="#itmv1_Extended_Header_0x1A">Damage bonus</a></code> are all <code class="language-plaintext highlighter-rouge">0</code>: Always deals zero damage (ignores all modifiers, like Weapon Proficiency).
        <ul>
          <li>If you want zero base damage + modifiers, you can use <code class="language-plaintext highlighter-rouge">1d1 - 1</code>.</li>
        </ul>
      </li>
      <li>Some edge cases:
        <ul>
          <li><code><a href="#itmv1_Extended_Header_0x18">Dice thrown</a>d<a href="#itmv1_Extended_Header_0x16">Dice size</a> + <a href="#itmv1_Extended_Header_0x1A">Damage bonus</a> = Xd0 + 0</code>: Deals <code class="language-plaintext highlighter-rouge">X</code> damage, regardless of other modifiers.</li>
          <li><code><a href="#itmv1_Extended_Header_0x18">Dice thrown</a>d<a href="#itmv1_Extended_Header_0x16">Dice size</a> + <a href="#itmv1_Extended_Header_0x1A">Damage bonus</a> = 0d0 + X</code>: Deals <code class="language-plaintext highlighter-rouge">X + modifiers</code> damage.</li>
          <li><code><a href="#itmv1_Extended_Header_0x18">Dice thrown</a>d<a href="#itmv1_Extended_Header_0x16">Dice size</a> + <a href="#itmv1_Extended_Header_0x1A">Damage bonus</a> = 0dX + 0</code>: Also deals <code class="language-plaintext highlighter-rouge">0</code> damage.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Values <code class="language-plaintext highlighter-rouge">1–4</code> don’t have any other quirks (<code><a href="#itmv1_Extended_Header_0x1C_1">Piercing</a></code>, <code><a href="#itmv1_Extended_Header_0x1C_2">Crushing</a></code>, <code><a href="#itmv1_Extended_Header_0x1C_3">Slashing</a></code>, <code><a href="#itmv1_Extended_Header_0x1C_4">Missile</a></code>), just each a different damage type.</li>
</ul>

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x001e</td>
  <td>2 (word)</td>
  <td><p>Count of feature blocks</p>
</td>
</tr>



<tr>










  <td>0x0020</td>
  <td>2 (word)</td>
  <td><p>Index into feature blocks</p>
</td>
</tr>



<tr>










  <td>0x0022</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x22">Max Charges</a></b></p>
</td>
</tr>



<tr>










  <td>0x0024</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x24">Charge depletion behaviour</a></b></p>

<ul>
  <li>0 ⟶ <b><a name="itmv1_Extended_Header_0x24_0">Item remains</a></b>
    <ul>
      <li>Item becomes unusable (except as a weapon) when <code><a href="#itmv1_Extended_Header_0x22">Max Charges</a></code> reaches zero. Can be recharged by selling or by resting if it has the <code><a href="#ExtHeader_Flags_BIT11">Recharge after resting</a></code> flag.</li>
    </ul>
  </li>
  <li>1 ⟶ <b><a name="itmv1_Extended_Header_0x24_1">Item vanishes</a></b>
    <ul>
      <li>Item disappears when <code><a href="#itmv1_Extended_Header_0x22">Max Charges</a></code> reaches zero. Can be recharged prior to reaching zero (through either method).</li>
    </ul>
  </li>
  <li>2 ⟶ <b><a name="itmv1_Extended_Header_0x24_2">Replace with used up</a></b>
    <ul>
      <li>When <code><a href="#itmv1_Extended_Header_0x22">Max Charges</a></code> reaches zero, item is replaced with the item specified at offset <code><a href="#itmv1_Header_0x10">0x10</a></code>. Can be recharged prior to reaching zero (through either method).</li>
    </ul>
  </li>
  <li>3 ⟶ <b><a name="itmv1_Extended_Header_0x24_3">Item recharges</a></b>
    <ul>
      <li>This is very likely no different from <code><a href="#itmv1_Extended_Header_0x24_0">Item remains</a></code> or <code class="language-plaintext highlighter-rouge">4+</code>, i.e. defaults to <code><a href="#itmv1_Extended_Header_0x24_0">0</a></code>.</li>
    </ul>
  </li>
</ul>

<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
  <li>This field is irrelevant when the <code><a href="#itmv1_Extended_Header_0x22">Max Charges</a></code> field is zero. Item can be used infinitely.</li>
  <li>If the item has a <code><a href="#itmv1_Header_0x38">Max Stack Size</a> &gt; 1</code>, this behavior will instead occur when the stack is depleted, not the charges (but still requires a non-zero <code><a href="#itmv1_Extended_Header_0x22">Max Charges</a></code>).</li>
</ul>

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0026</td>
  <td>4 (dword)</td>
  <td><p><a href="#ExtHeader_Flags">Flags</a></p>
</td>
</tr>



<tr>










  <td>0x002a</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x2A">Projectile Animation</a></b> (projectl.ids/missile.ids)</p>
</td>
</tr>



<tr>










  <td>0x002c</td>
  <td>2*3 (word)</td>
  <td><p><b><a href="#ExtendedHeader_MeleeAnimation">Melee animation</a></b></p>

<ul>
  <li>It should total 100, but not mandatory on EE games.</li>
  <li>Not needed if <code><a href="#itmv1_Extended_Header_0x32">Arrow</a></code>/<code><a href="#itmv1_Extended_Header_0x34">Bolt</a></code>/<code><a href="#itmv1_Extended_Header_0x36">Bullet</a></code> is used.</li>
  <li>It should work as such:<br />
Engine rolls <code class="language-plaintext highlighter-rouge">0 – 99</code>.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">overhand range = 0 to (overhand - 1)</code></li>
      <li><code class="language-plaintext highlighter-rouge">backhand range = overhand to (overhand + backhand - 1)</code></li>
      <li><code class="language-plaintext highlighter-rouge">thrust range = (overhand + backhand) to (overhand + backhand + thrust - 1)</code></li>
    </ul>

    <p>A couple of examples:</p>
    <ul>
      <li>With values <code class="language-plaintext highlighter-rouge">34</code>, <code class="language-plaintext highlighter-rouge">33</code>, and <code class="language-plaintext highlighter-rouge">33</code>:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">0 – 33</code>: Overhand</li>
          <li><code class="language-plaintext highlighter-rouge">34 – 66</code>: Backhand</li>
          <li><code class="language-plaintext highlighter-rouge">67 – 99</code>: Thrust</li>
        </ul>
      </li>
      <li>With values <code class="language-plaintext highlighter-rouge">100</code>, <code class="language-plaintext highlighter-rouge">100</code>, <code class="language-plaintext highlighter-rouge">100</code>:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">0 – 99</code>: Overhand</li>
          <li><code class="language-plaintext highlighter-rouge">100 – 199</code>: Backhand (never used)</li>
          <li><code class="language-plaintext highlighter-rouge">200 – 299</code>: Thrust (never used)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Along with <code><a href="#itmv1_Extended_Header_0x32">Is arrow?</a></code>/<code><a href="#itmv1_Extended_Header_0x34">Is bolt?</a></code>/<code><a href="#itmv1_Extended_Header_0x36">Is bullet?</a></code>, it is only used for attack animations. If all are zero, no animation will be used for attacking. Activated <code><a href="#itmv1_Extended_Header_0x2_3">Item</a></code> abilities can leave them all <code class="language-plaintext highlighter-rouge">0</code>, as they are not used.</li>
</ul>
</td>
</tr>



<tr>










  <td>0x0032</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x32">Arrow qualifier / Is arrow?</a></b></p>
<ul>
  <li>0 ⟶ No</li>
  <li>1 ⟶ Yes</li>
</ul>

<p>It controls which firing animation the ability will use.
It needs to be set on any launcher and/or ammo, but the launcher will override the ammo.</p>
</td>
</tr>



<tr>










  <td>0x0034</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x34">Bolt qualifier / Is bolt?</a></b></p>
<ul>
  <li>0 ⟶ No</li>
  <li>1 ⟶ Yes</li>
</ul>

<p>It controls which firing animation the ability will use.
It needs to be set on any launcher and/or ammo, but the launcher will override the ammo.</p>
</td>
</tr>



<tr>










  <td>0x0036</td>
  <td>2 (word)</td>
  <td><p><b><a name="itmv1_Extended_Header_0x36">Bullet qualifier / Is bullet?</a></b></p>
<ul>
  <li>0 ⟶ No</li>
  <li>1 ⟶ Yes</li>
</ul>

<p>It controls which firing animation the ability will use.
It needs to be set on any launcher and/or ammo, but the launcher will override the ammo.</p>
</td>
</tr>




    </tbody>
  </table>
</div>
<br />


    
    
    
    
    <div class="fileHeader">
  <a name="itmv1_Feature_Block">Feature Block</a>
</div>
<br />
<div class="indent1">
  
    Any action carried out by an item is done by feature blocks, each of which holds an effect number as well as targetting and timing information. The engine appears to roll a probability for each valid target type, rather than one probability per attack.<br /><br />
    
  
  <table border="1" width="98%" class="offset_table">
    <colgroup>
      <col width="5%" />
      <col width="12%" />
      <col width="*" />
    </colgroup>
    <thead>
      <tr>
        <th>Offset</th>
        <th>Size (datatype)</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      



<tr>










  <td>0x0000</td>
  <td>2 (word)</td>
  <td><p>Opcode Number</p>
</td>
</tr>



<tr>










  <td>0x0002</td>
  <td>1 (char)</td>
  <td><p><b><a name="V1_Feature_Block_0x2">Target type</a></b></p>

<ul>
  <li>0 ⟶ None</li>
  <li>1 ⟶ <b><a name="V1_Feature_Block_0x2_1">Self</a></b></li>
  <li>2 ⟶ <b><a name="V1_Feature_Block_0x2_2">Projectile target</a></b></li>
  <li>3 ⟶ <b><a name="V1_Feature_Block_0x2_3">Party</a></b></li>
  <li>4 ⟶ <b><a name="V1_Feature_Block_0x2_4">Everyone</a></b></li>
  <li>5 ⟶ <b><a name="V1_Feature_Block_0x2_5">Everyone except party</a></b></li>
  <li>6 ⟶ <b><a name="V1_Feature_Block_0x2_6">Caster group</a></b></li>
  <li>7 ⟶ <b><a name="V1_Feature_Block_0x2_7">Target group</a></b></li>
  <li>8 ⟶ <b><a name="V1_Feature_Block_0x2_8">Everyone except self</a></b></li>
  <li>9 ⟶ <b><a name="V1_Feature_Block_0x2_9">Original caster</a></b></li>
</ul>

<div class="note info">
  <div>
    <strong>Info:</strong> 
See <a href="../ie_formats/eff_v1.htm#effv1_Header_0x2">here</a> for further details.

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0003</td>
  <td>1 (char)</td>
  <td><p>Power</p>
</td>
</tr>



<tr>










  <td>0x0004</td>
  <td>4 (dword)</td>
  <td><p>Parameter 1</p>
</td>
</tr>



<tr>










  <td>0x0008</td>
  <td>4 (dword)</td>
  <td><p>Parameter 2</p>
</td>
</tr>



<tr>










  <td>0x000c</td>
  <td>1 (char)</td>
  <td><p><b><a name="V1_Feature_Block_0xC">Timing mode</a></b></p>

<ul>
  <li>0 ⟶ <b><a name="V1_Feature_Block_0xC_0">Instant/Limited</a></b></li>
  <li>1 ⟶ <b><a name="V1_Feature_Block_0xC_1">Instant/Permanent</a></b></li>
  <li>2 ⟶ <b><a name="V1_Feature_Block_0xC_2">Instant/While equipped</a></b></li>
  <li>3 ⟶ <b><a name="V1_Feature_Block_0xC_3">Delay/Limited</a></b></li>
  <li>4 ⟶ <b><a name="V1_Feature_Block_0xC_4">Delay/Permanent</a></b></li>
  <li>5 ⟶ <b><a name="V1_Feature_Block_0xC_5">Delay/While equipped</a></b></li>
  <li>6 ⟶ <b><a name="V1_Feature_Block_0xC_6">Limited after duration</a></b></li>
  <li>7 ⟶ <b><a name="V1_Feature_Block_0xC_7">Permanent after duration</a></b></li>
  <li>8 ⟶ <b><a name="V1_Feature_Block_0xC_8">Equipped after duration</a></b></li>
  <li>9 ⟶ <b><a name="V1_Feature_Block_0xC_9">Instant/Permanent</a></b> (after Death)</li>
  <li>10 ⟶ <b><a name="V1_Feature_Block_0xC_10">Instant/Limited</a></b></li>
  <li>4096 ⟶ <b><a name="V1_Feature_Block_0xC_4096">Absolute duration</a></b></li>
</ul>

<div class="note info">
  <div>
    <strong>Info:</strong> 
See <a href="../ie_formats/eff_v1.htm#effv1_Header_0xC">here</a> for further details.

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x000d</td>
  <td>1 (char)</td>
  <td><p><b><a name="V1_Feature_Block_0xD">Dispel / Resistance</a></b></p>

<p>The default behaviour is that effects cannot be dispelled and ignore magic resistance.</p>

<ul>
  <li>bit 0 ⟶ Can be dispelled, affected by magic resistance</li>
  <li>bit 1 ⟶ Ignores magic resistance (when used in combination with bit 0)</li>
</ul>

<p>This can also be presented in the more traditional way:</p>
<ul>
  <li>0 ⟶ Natural/Nonmagical</li>
  <li>1 ⟶ Can be dispelled/Affected by resistance</li>
  <li>2 ⟶ Cannot be dispelled/Ignores resistance</li>
  <li>3 ⟶ Can be dispelled/Ignores resistance</li>
</ul>

<p>The only difference between <code class="language-plaintext highlighter-rouge">0</code> and <code class="language-plaintext highlighter-rouge">2</code> is that <code class="language-plaintext highlighter-rouge">0</code> will automatically convert to <code class="language-plaintext highlighter-rouge">2</code> when targeting yourself.</p>
</td>
</tr>



<tr>










  <td>0x000e</td>
  <td>4 (dword)</td>
  <td><p><b><a name="V1_Feature_Block_0xE">Duration</a></b></p>
</td>
</tr>



<tr>










  <td>0x0012</td>
  <td>1 (char)</td>
  <td><p><b><a name="V1_Feature_Block_0x12">Probability 1</a></b></p>
</td>
</tr>



<tr>










  <td>0x0013</td>
  <td>1 (char)</td>
  <td><p><b><a name="V1_Feature_Block_0x13">Probability 2</a></b></p>

<div class="note info">
  <div>
    <strong>Info:</strong> 
See <a href="../ie_formats/eff_v1.htm#effv1_Header_0x13">here</a> for further details.

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0014</td>
  <td>8 (resref)</td>
  <td><p>Resource</p>
</td>
</tr>



<tr>










  <td>0x001c</td>
  <td>4 (dword)</td>
  <td><p><b><a name="V1_Feature_Block_0x1C">Dice Thrown / Maximum Level</a></b></p>

<div class="note info">
  <div>
    <strong>Info:</strong> 
See <a href="../ie_formats/eff_v1.htm#effv1_Header_0x1C">here</a> for further details.

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0020</td>
  <td>4 (dword)</td>
  <td><p><b><a name="V1_Feature_Block_0x20">Dice Sides / Minimum Level</a></b></p>

<div class="note info">
  <div>
    <strong>Info:</strong> 
See <a href="../ie_formats/eff_v1.htm#effv1_Header_0x20">here</a> for further details.

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0024</td>
  <td>4 (dword)</td>
  <td><p><b><a name="V1_Feature_Block_0x24">Saving throw type</a></b></p>

<ul>
  <li>bit 0 ⟶ <b><a name="V1_Feature_Block_0x24_BIT0">Spells</a></b></li>
  <li>bit 1 ⟶ <b><a name="V1_Feature_Block_0x24_BIT1">Breath</a></b></li>
  <li>bit 2 ⟶ <b><a name="V1_Feature_Block_0x24_BIT2">Paralyze / Poison / Death</a></b></li>
  <li>bit 3 ⟶ <b><a name="V1_Feature_Block_0x24_BIT3">Wands</a></b></li>
  <li>bit 4 ⟶ <b><a name="V1_Feature_Block_0x24_BIT4">Petrify / Polymorph</a></b></li>
  <li>bit 10 ⟶ <b><a name="V1_Feature_Block_0x24_BIT10">Ignore primary target</a></b> (EE only)</li>
  <li>bit 11 ⟶ <b><a name="V1_Feature_Block_0x24_BIT11">Ignore secondary target</a></b> (EE only)</li>
  <li>bit 24 ⟶ <b><a name="V1_Feature_Block_0x24_BIT24">Bypass mirror image</a></b> (EE/TobEx only)</li>
  <li>bit 25 ⟶
    <ul>
      <li><b><a name="V1_Feature_Block_0x24_BIT25_EE">Ignore difficulty</a></b> (EE only)</li>
      <li><b><a name="V1_Feature_Block_0x24_BIT25_ToBEx">Limit effect stacking</a></b> (ToBEx only)</li>
    </ul>
  </li>
  <li>bit 26 ⟶ TobEx internal (don’t use)</li>
</ul>

<div class="note info">
  <div>
    <strong>Info:</strong> 
See <a href="../ie_formats/eff_v1.htm#effv1_Header_0x24">here</a> for further details.

  </div>
</div>
</td>
</tr>



<tr>










  <td>0x0028</td>
  <td>4 (dword)</td>
  <td><p>Saving Throw Bonus</p>
</td>
</tr>



<tr>










  <td>0x002c</td>
  <td>4 (dword)</td>
  <td><p>TobEx: Stacking ID. Checked when bit 25 of the Saving Throw Type is set.</p>

<p>If two effects of the same opcode are applied, both have Limit Effect Stacking bit set, and both have the same stacking ID, then the latter applied effect is suspended in application until the former effect expires. Regardless of whether it is applied, the latter effect will expire at the same time that it would expire if it was applied. In other words, the total duration of some non-stacking effect opcode is not extended because more than one copy of the effect was applied.</p>

<p>Stacking IDs are unique to the opcode being applied. To maintain uniqueness of stacking IDs between different mods, one recommendation is to use the higher word of Special as the modder’s Infinity Engine Community Prefix, then use the lower word as an identifying ID. For example, 0x41360001 (‘A6’ 0x0001).</p>
</td>
</tr>




    </tbody>
  </table>
</div>
<br />

    
    <hr />
    <br />
    <a id="Header_Flags"><div class="actionheader">Header Flags</div></a>
    <br />
    <div class="indent1">
    <table border="1" width="98%">
      <thead>
        <tr>
          <th>Bit</th>
          <th>Byte 1</th>
          <th>Byte 2</th>
          <th>Byte 3</th>
          <th>Byte 4</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0</td>
          <td>
            <b><a name="Header_Flags_BIT0">Unsellable (critical item)</a></b>
            <ul>
              <li>In BG1, this flag does not affect whether the item can be sold.</li>
              <li>On EE games, <a href="../ie_formats/sto_v1.htm">Stores</a> can buy critical items if they are flagged as <code><a href="../ie_formats/sto_v1.htm#storv1_0_Header_0x10_BIT15">Can buy Critical</a></code>, provided they can buy its <code><a href="#Header_ItemType">itemtype</a></code>.</li>
              <li>Will also cause the item to be moved into Player1's Inventory if the character who has it leaves or is kicked from the party.</li>
            </ul>
          </td>
          <td>
            <b><a name="Header_Flags_BIT8">Silver</a></b>
            <ul>
              <li>Determines how the weapon interacts with <a href="../../opcodes/bgee.htm#op120">opcode #120</a>.</li>
            </ul>
          </td>
          <td><span class="unknown">Unused</span></td>
          <td>
            <b><a name="Header_Flags_BIT24">Undispellable</a></b>
            <ul>
              <li>Not dispellable in <a href="../../opcodes/bgee.htm#op111">magical weapon slot</a> (BGEE, TobEx)</li>
            </ul>
          </td>
        </tr>

        <tr>
          <td>1</td>
          <td>
            <b><a name="Header_Flags_BIT1">Two-handed</a></b>
            <ul>
              <li>Forces Two-handed weapon style and attack animation.</li>
              <li>Disables off-hand: attacks and equipped effects.</li>
            </ul>
          </td>
          <td>
            <b><a name="Header_Flags_BIT9">Cold iron</a></b>
            <ul>
              <li>Determines how the weapon interacts with <a href="../../opcodes/bgee.htm#op120">opcode #120</a>.</li>
            </ul>
          </td>
          <td><span class="unknown">Unused</span></td>
          <td>
            Toggle critical hit aversion (BGEE, TobEx)
            <ul>
              <li>Keep in mind that if you set this bit to <code>1</code> for an ITM whose <a href="#Header_ItemType">Item type</a> is <code><a href="#Header_ItemType_7">Headgear</a></code>, then you'll toggle off the Critical hit aversion.</li>
            </ul>
          </td>
        </tr>

        <tr>
          <td>2</td>
          <td>
            <b><a name="Header_Flags_BIT2">Movable / Droppable</a></b>
            <ul>
              <li>This flag is overridden by the <a href="../ie_formats/cre_v1.htm#CREV1_0_Item_0x10_BIT3">CRE</a>/<a href="../ie_formats/sto_v1.htm#storv1_0_Sale_0x10_BIT3">STO</a> item flag <code><a href="../../files/ids/bgee/invitem.htm#BIT3">NONDROPABLE</a></code>.</li>
            </ul>
          </td>
          <td>
            Stolen (unsellable) / <b><a name="Header_Flags_BIT10">Off-handed</a></b>
            <ul>
              <li>Set offhand animations for 0x5###-0x6### animId series (excluding 0x64##) when weapon placed in offhand.</li>
              <li>Forces Dual-Wield animation (overrides <code><a href="#Header_Flags_BIT1">BIT1</a></code>).</li>
            </ul>
          </td>
          <td><span class="unknown">Unused</span></td>
          <td><span class="unknown">Unused</span></td>
        </tr>

        <tr>
          <td>3</td>
          <td>
            <b><a name="Header_Flags_BIT3">Displayable</a></b>
            <ul>
              <li>Item will show up on the ground (when <code><a href="#Header_Flags_BIT2">dropped</a></code>). Setting the <code><a href="#itmv1_Header_0x44">Ground Icon</a></code> to <code>""</code> (empty) still uses a default icon, this gets around that. It can still be clicked on and picked up.</li>
              <li>The default icon if the <code><a href="#itmv1_Header_0x44">Ground Icon</a></code> is <code>""</code> (empty) is a small bag <code>"GSACK01.BAM"</code>, the icon without the <code><a href="#Header_Flags_BIT3">Displayable</a></code> flag is a 1x1 invisible pixel.</li>
            </ul>
          </td>
          <td>
            <b><a name="Header_Flags_BIT11">Conversable</a></b>
            <ul>
              <li>Dialog can be initiated with the weapon through right-clicking in the Inventory.</li>
              <li>
                Item needs to be listed in <a href="../../files/2da/2da_bgee/itemdial.htm">ITEMDIAL.2DA</a> as: <code>(Item ResRef) (Label StrRef) (Dialog ResRef)</code>.
                <ul>
                  <li><code>Label StrRef</code> is the label that will be on the button when right-clicking.</li>
                </ul>
              </li>
            </ul>
          </td>
          <td><span class="unknown">Unused</span></td>
          <td><span class="unknown">Unused</span></td>
        </tr>

        <tr>
          <td>4</td>
          <td>
            <b><a name="Header_Flags_BIT4">Cursed</a></b>
            <ul>
              <li>Determines how the item interacts with <a href="../../opcodes/bgee.htm#op26">opcode #26</a>.</li>
              <li>The item cannot be unequipped.</li>
              <li>Cursed weapons override the <code><a href="../../files/ids/bgee/slots.htm#34">Magical Weapon</a></code> slot.</li>
            </ul>
          </td>
          <td>
            <b><a name="Header_Flags_BIT12">Fake two-handed</a></b> (BGEE)
            <ul>
              <li>Forces Two-handed animation.</li>
            </ul>
          </td>
          <td><span class="unknown">Unused</span></td>
          <td><span class="unknown">Unused</span></td>
        </tr>

        <tr>
          <td>5</td>
          <td>
            <span class="unknown">Cannot scribe to spellbook (scrolls)</span>
            <ul>
              <li>Whether a scroll can be "Copy Note" to journal or "Write Magic" to spell book is determined by its <a href="#itmv1_Extended_Header">ability headers</a>. Setting this bit doesn't alter it either way.</li>
              <li>It doesn't prevent a "clone" from getting a duplicate (<a href="../../opcodes/bgee.htm#op236">opcode #236</a><code><small><sup>*</sup></small>p2=2</code>).</li>
              <li>It doesn't prevent the <code><a href="../../scripting/actions/bgeeactions.htm#264">CopyGroundPilesTo()</a></code> action from moving them.</li>
              <li>In original BG1, it was set on every item except for the Identify Scroll.</li>
              <li>In BGEE/SoD, only a few (16) random items added by Beamdog don't have it set, as well as the Identify and Chromatic Orb scrolls.</li>
            </ul>
          </td>
          <td>
            <b><a name="Header_Flags_BIT13">Forbid off-hand weapon</a></b> (BGEE)
            <ul>
              <li>Disables Two-Weapon Style.</li>
              <li>Does not disable off-hand equipped effects.</li>
              <li>In <a href="../../opcodes/bgee.htm#op111">Magical Weapon Slot</a>: Disables off-hand (Attacks only).</li>
            </ul>
          </td>
          <td><span class="unknown">Unused</span></td>
          <td><span class="unknown">Unused</span></td>
        </tr>

        <tr>
          <td>6</td>
          <td>
            <b><a name="Header_Flags_BIT6">Magical</a></b>
            <ul>
              <li>Determines how the weapon interacts with <a href="../../opcodes/bgee.htm#op120">opcode #120</a>.</li>
              <li>Has no relation to the <code><a href="#itmv1_Header_0x60">Enchantment</a></code> field. Both function independently.</li>
            </ul>
          </td>
          <td>Usable in inventory (PSTEE)</td>
          <td><span class="unknown">Unused</span></td>
          <td><span class="unknown">Unused</span></td>
        </tr>

        <tr>
          <td>7</td>
          <td>
            <b><a name="Header_Flags_BIT7">Left-handed</a></b>
            <ul>
              <li>Disables off-hand: attacks and equipped effects.</li>
              <li>Disables Two-Weapon Style (Inventory display is incorrect though).</li>
            </ul>
          </td>
          <td>
            <b><a name="Header_Flags_BIT15">Adamantine</a></b> (BGEE)
            <ul>
              <li>Used by Drow Equipment in SoD along with script action <code><a href="../../scripting/actions/bgeeactions.htm#280">DestroyAllFragileEquipment(ADAMANTINE)</a></code>.</li>
            </ul>
          </td>
          <td><span class="unknown">Unused</span></td>
          <td><span class="unknown">Unused</span></td>
        </tr>
      </tbody>
    </table>
    </div>

    <br />
    <a id="Header_ItemType"><div class="actionheader">Header Item Type</div></a>
    <div class="indent1">
    <br />
    The item type of an item affects the pick-up/put-down sound when moving the item in the inventory, whether stores will buy the item and the ability buttons shown on the item description screen.<br />
    <br />
    <table border="1" width="98%">
      <colgroup>
        <col width="10%">
         <col width="*" />
      </colgroup>
      <thead>
        <tr>
          <th>Code</th>
          <th>Item type</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0x0000</td>
          <td>Books/misc</td>
        </tr>
        <tr>
          <td>0x0001</td>
          <td>Amulets and necklaces</td>
        </tr>
        <tr>
          <td>0x0002</td>
          <td>Armor</td>
        </tr>
        <tr>
          <td>0x0003</td>
          <td>Belts and girdles</td>
        </tr>
        <tr>
          <td>0x0004</td>
          <td>Boots</td>
        </tr>
        <tr>
          <td>0x0005</td>
          <td><b><a name="Header_ItemType_5">Arrows</a></b></td>
        </tr>
        <tr>
          <td>0x0006</td>
          <td>Bracers and gauntlets</td>
        </tr>
        <tr>
          <td>0x0007</td>
          <td><b><a name="Header_ItemType_7">Headgear</a></b> (Helms, hats, and other head-wear)</td>
        </tr>
        <tr>
          <td>0x0008</td>
          <td>Keys (not in Icewind Dale?)</td>
        </tr>
        <tr>
          <td>0x0009</td>
          <td>Potions</td>
        </tr>
        <tr>
          <td>0x000a</td>
          <td>Rings</td>
        </tr>
        <tr>
          <td>0x000b</td>
          <td>Scrolls</td>
        </tr>
        <tr>
          <td>0x000c</td>
          <td>Shields (not in IWD)</td>
        </tr>
        <tr>
          <td>0x000d</td>
          <td>Food</td>
        </tr>
        <tr>
          <td>0x000e</td>
          <td><b><a name="Header_ItemType_14">Bullets</a></b> (for a sling)</td>
        </tr>
        <tr>
          <td>0x000f</td>
          <td>Bows</td>
        </tr>
        <tr>
          <td>0x0010</td>
          <td>Daggers</td>
        </tr>
        <tr>
          <td>0x0011</td>
          <td>Maces (in BG, this includes clubs)</td>
        </tr>
        <tr>
          <td>0x0012</td>
          <td>Slings</td>
        </tr>
        <tr>
          <td>0x0013</td>
          <td>Small swords</td>
        </tr>
        <tr>
          <td>0x0014</td>
          <td>Large swords</td>
        </tr>
        <tr>
          <td>0x0015</td>
          <td>Hammers</td>
        </tr>
        <tr>
          <td>0x0016</td>
          <td>Morning stars</td>
        </tr>
        <tr>
          <td>0x0017</td>
          <td>Flails</td>
        </tr>
        <tr>
          <td>0x0018</td>
          <td>Darts</td>
        </tr>
        <tr>
          <td>0x0019</td>
          <td>Axes (specifically, 1-handed axes -- halberds and 2-handed polearms not included)</td>
        </tr>
        <tr>
          <td>0x001a</td>
          <td>Quarterstaff</td>
        </tr>
        <tr>
          <td>0x001b</td>
          <td>Crossbow</td>
        </tr>
        <tr>
          <td>0x001c</td>
          <td>Hand-to-hand weapons (fist, fist irons, punch daggers, etc)</td>
        </tr>
        <tr>
          <td>0x001d</td>
          <td>Spears</td>
        </tr>
        <tr>
          <td>0x001e</td>
          <td>Halberds (2-handed polearms)</td>
        </tr>
        <tr>
          <td>0x001f</td>
          <td><b><a name="Header_ItemType_31">Crossbow bolts</a></b></td>
        </tr>
        <tr>
          <td>0x0020</td>
          <td>Cloaks and robes</td>
        </tr>
        <tr>
          <td>0x0021</td>
          <td>Gold pieces (not an inventory item, but can appear as &quot;monster dropped&quot; treasure)</td>
        </tr>
        <tr>
          <td>0x0022</td>
          <td>Gems</td>
        </tr>
        <tr>
          <td>0x0023</td>
          <td>Wands</td>
        </tr>
        <tr>
          <td>0x0024</td>
          <td>Containers/eye/broken armor</td>
        </tr>
        <tr>
          <td>0x0025</td>
          <td>Books/Broken shields/bracelets</td>
        </tr>
        <tr>
          <td>0x0026</td>
          <td>Familiars/Broken swords/earrings</td>
        </tr>
        <tr>
          <td>0x0027</td>
          <td>Tattoos (PST)</td>
        </tr>
        <tr>
          <td>0x0028</td>
          <td>Lenses (PST)</td>
        </tr>
        <tr>
          <td>0x0029</td>
          <td>Bucklers/teeth</td>
        </tr>
        <tr>
          <td>0x002a</td>
          <td>Candles</td>
        </tr>
        <tr>
          <td>0x002b</td>
          <td><div class="unknown">Unknown</div></td>
        </tr>
        <tr>
          <td>0x002c</td>
          <td>Clubs (IWD)</td>
        </tr>
        <tr>
          <td>0x002d</td>
          <td><div class="unknown">Unknown</div></td>
        </tr>
        <tr>
          <td>0x002e</td>
          <td><div class="unknown">Unknown</div></td>
        </tr>
        <tr>
          <td>0x002f</td>
          <td>Large Shields (IWD)</td>
        </tr>
        <tr>
          <td>0x0030</td>
          <td><div class="unknown">Unknown</div></td>
        </tr>
        <tr>
          <td>0x0031</td>
          <td>Medium Shields (IWD)</td>
        </tr>
        <tr>
          <td>0x0032</td>
          <td>Notes</td>
        </tr>
        <tr>
          <td>0x0033</td>
          <td><div class="unknown">Unknown</div></td>
        </tr>
        <tr>
          <td>0x0034</td>
          <td><div class="unknown">Unknown</div></td>
        </tr>
        <tr>
          <td>0x0035</td>
          <td>Small Shields (IWD)</td>
        </tr>
        <tr>
          <td>0x0036</td>
          <td><div class="unknown">Unknown</div></td>
        </tr>
        <tr>
          <td>0x0037</td>
          <td>Telescopes (IWD)</td>
        </tr>
        <tr>
          <td>0x0038</td>
          <td>Drinks (IWD)</td>
        </tr>
        <tr>
          <td>0x0039</td>
          <td>Great Swords (IWD)</td>
        </tr>
        <tr>
          <td>0x003a</td>
          <td>Container</td>
        </tr>
        <tr>
          <td>0x003b</td>
          <td>Fur/pelt</td>
        </tr>
        <tr>
          <td>0x003c</td>
          <td>Leather Armor</td>
        </tr>
        <tr>
          <td>0x003d</td>
          <td>Studded Leather Armor</td>
        </tr>
        <tr>
          <td>0x003e</td>
          <td>Chain Mail</td>
        </tr>
        <tr>
          <td>0x003f</td>
          <td>Splint Mail</td>
        </tr>
        <tr>
          <td>0x0040</td>
          <td>Half Plate</td>
        </tr>
        <tr>
          <td>0x0041</td>
          <td>Full Plate</td>
        </tr>
        <tr>
          <td>0x0042</td>
          <td>Hide Armor</td>
        </tr>
        <tr>
          <td>0x0043</td>
          <td>Robe</td>
        </tr>
        <tr>
          <td>0x0044</td>
          <td><div class="unknown">Unknown</div></td>
        </tr>
        <tr>
          <td>0x0045</td>
          <td>Bastard Sword</td>
        </tr>
        <tr>
          <td>0x0046</td>
          <td>Scarf</td>
        </tr>
        <tr>
          <td>0x0047</td>
          <td>Food (IWD2)</td>
        </tr>
        <tr>
          <td>0x0048</td>
          <td>Hat</td>
        </tr>
        <tr>
          <td>0x0049</td>
          <td>Gauntlet</td>
        </tr>
      </tbody>
    </table>
    </div>
    <br />
    
    <a id="Header_Usability"><div class="actionheader">Header Usability</div></a>
    <br />
    <div class="indent1">
    <table border="1" width="98%">
      <colgroup>
        <col width="20%">
        <col width="20%">
        <col width="20%">
        <col class="col4" width="20%">
        <col class="col4" width="20%">
      </colgroup>
      <thead>
        <tr>
          <th>Bit</th>
          <th>Byte 1</th>
          <th>Byte 2</th>
          <th>Byte 3</th>
          <th>Byte 4</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0</td>
          <td>Chaotic...</td>
          <td>Cleric/Mage</td>
          <td>Fighter/Mage/Thief</td>
          <td>Dwarf</td>
        </tr>
        <tr>
          <td>1</td>
          <td>...Evil</td>
          <td>Cleric/Thief</td>
          <td>Fighter/Thief</td>
          <td>Half-Elf</td>
        </tr>
        <tr>
          <td>2</td>
          <td>...Good</td>
          <td>Cleric/Ranger</td>
          <td>Mage</td>
          <td>Halfling</td>
        </tr>
        <tr>
          <td>3</td>
          <td>...Neutral</td>
          <td>Fighter</td>
          <td>Mage/Thief</td>
          <td>Human</td>
        </tr>
        <tr>
          <td>4</td>
          <td>Lawful...</td>
          <td>Fighter/Druid</td>
          <td>Paladin</td>
          <td>Gnome</td>
        </tr>
        <tr>
          <td>5</td>
          <td>Neutral...</td>
          <td>Fighter/Mage</td>
          <td>Ranger</td>
          <td>Monk</td>
        </tr>
        <tr>
          <td>6</td>
          <td>Bard</td>
          <td>Fighter/Cleric</td>
          <td>Thief</td>
          <td>Druid</td>
        </tr>
        <tr>
          <td>7</td>
          <td>Cleric</td>
          <td>Fighter/Mage/Cleric</td>
          <td>Elf</td>
          <td>Half-Orc</td>
        </tr>
      </tbody>
    </table>
    <br />
    Note: PSTEE uses <a href="itm_v1.1.htm#Header_Usability">ITM V1.1 usability flags</a>.
    </div>
    <br />
    
    <a id="Header_Animation"><div class="actionheader">Header Animation</div></a>
    <br />
    <div class="indent1">
      <table border="1" width="98%">
        <colgroup>
          <col width="30%">
          <col width="30%">
          <col width="30%">
        </colgroup>
        <thead>
          <tr>
            <th>Value(ASCII)</th>
            <th>Value(Hex)</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>&quot; &quot;</td>
            <td>2020h</td>
            <td>&lt;none&gt;</td>
          </tr>
          <tr>
            <td>&quot;2A&quot;</td>
            <td>3241h</td>
            <td>Leather Armor</td>
          </tr>
          <tr>
            <td>&quot;3A&quot;</td>
            <td>3341h</td>
            <td>Chainmail</td>
          </tr>
          <tr>
            <td>&quot;4A&quot;</td>
            <td>3441h</td>
            <td>Plate Mail</td>
          </tr>
          <tr>
            <td>&quot;2W&quot;</td>
            <td>3257h</td>
            <td>Robe</td>
          </tr>
          <tr>
            <td>&quot;3W&quot;</td>
            <td>3357h</td>
            <td>Robe</td>
          </tr>
          <tr>
            <td>&quot;4W&quot;</td>
            <td>3457h</td>
            <td>Robe</td>
          </tr>
          <tr>
            <td>&quot;AX&quot;</td>
            <td>4158h</td>
            <td>Axe</td>
          </tr>
          <tr>
            <td>&quot;BW&quot;</td>
            <td>4257h</td>
            <td>Bow</td>
          </tr>
          <tr>
            <td>&quot;CB&quot;</td>
            <td>4342h</td>
            <td>Crossbow</td>
          </tr>
          <tr>
            <td>&quot;CL&quot;</td>
            <td>434Ch</td>
            <td>Club</td>
          </tr>
          <tr>
            <td>&quot;D1&quot;</td>
            <td>4431h</td>
            <td>Buckler</td>
          </tr>
          <tr>
            <td>&quot;D2&quot;</td>
            <td>4432h</td>
            <td>Shield (Small)</td>
          </tr>
          <tr>
            <td>&quot;D3&quot;</td>
            <td>4433h</td>
            <td>Shield (Medium)</td>
          </tr>
          <tr>
            <td>&quot;D4&quot;</td>
            <td>4434h</td>
            <td>Shield (Large)</td>
          </tr>
          <tr>
            <td>&quot;DD&quot;</td>
            <td>4444h</td>
            <td>Dagger</td>
          </tr>
          <tr>
            <td>&quot;FL&quot;</td>
            <td>464Ch</td>
            <td>Flail</td>
          </tr>
          <tr>
            <td>&quot;FS&quot;</td>
            <td>4653h</td>
            <td>Flame Sword</td>
          </tr>
          <tr>
            <td>&quot;H0&quot;</td>
            <td>4830h</td>
            <td>Small Vertical Horns</td>
          </tr>
          <tr>
            <td>&quot;H1&quot;</td>
            <td>4831h</td>
            <td>Large Horizontal Horns</td>
          </tr>
          <tr>
            <td>&quot;H2&quot;</td>
            <td>4832h</td>
            <td>Feather Wings</td>
          </tr>
          <tr>
            <td>&quot;H3&quot;</td>
            <td>4833h</td>
            <td>Top Plume</td>
          </tr>
          <tr>
            <td>&quot;H4&quot;</td>
            <td>4834h</td>
            <td>Dragon Wings</td>
          </tr>
          <tr>
            <td>&quot;H5&quot;</td>
            <td>4835h</td>
            <td>Feather Sideburns</td>
          </tr>
          <tr>
            <td>&quot;H6&quot;</td>
            <td>4836h</td>
            <td>Large Curved Horns (incorrect paperdoll image)</td>
          </tr>
          <tr>
            <td>&quot;HB&quot;</td>
            <td>4842h</td>
            <td>Halberd</td>
          </tr>
          <tr>
            <td>&quot;MC&quot;</td>
            <td>4D43h</td>
            <td>Mace</td>
          </tr>
          <tr>
            <td>&quot;MS&quot;</td>
            <td>4D53h</td>
            <td>Morning Star</td>
          </tr>
          <tr>
            <td>&quot;QS&quot;</td>
            <td>5153h</td>
            <td>Quarter Staff (Metal)</td>
          </tr>
          <tr>
            <td>&quot;S1&quot;</td>
            <td>5331h</td>
            <td>Sword 1-Handed</td>
          </tr>
          <tr>
            <td>&quot;S2&quot;</td>
            <td>5332h</td>
            <td>Sword 2-Handed</td>
          </tr>
          <tr>
            <td>&quot;SL&quot;</td>
            <td>534Ch</td>
            <td>Sling</td>
          </tr>
          <tr>
            <td>&quot;SP&quot;</td>
            <td>5350h</td>
            <td>Spear</td>
          </tr>
          <tr>
            <td>&quot;SS&quot;</td>
            <td>5353h</td>
            <td>Short Sword</td>
          </tr>
          <tr>
            <td>&quot;WH&quot;</td>
            <td>5748h</td>
            <td>War Hammer</td>
          </tr>
          <tr>
            <td>&quot;S3&quot;</td>
            <td>5333h</td>
            <td>Katana #</td>
          </tr>
          <tr>
            <td>&quot;SC&quot;</td>
            <td>5343h</td>
            <td>Scimitar #</td>
          </tr>
        </tbody>
      </table>
    </div>
    <br />
    
    <a id="Header_KitUsability"><div class="actionheader">Header Kit Usability</div></a>
    <br />
    <div class="indent1">
    <table border="1" width="98%">
      <colgroup>
        <col width="20%">
        <col width="20%">
        <col width="20%">
        <col class="col4" width="20%">
        <col class="col4" width="20%">
      </colgroup>
      <thead>
        <tr>
          <th>Bit</th>
          <th>Byte 1</th>
          <th>Byte 2</th>
          <th>Byte 3</th>
          <th>Byte 4</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0</td>
          <td>Cleric of Talos</td>
          <td>Stalker Ranger</td>
          <td>Diviner</td>
          <td>Beserker Fighter</td>
        </tr>
        <tr>
          <td>1</td>
          <td>Cleric of Helm</td>
          <td>Beastmaster Ranger</td>
          <td>Enchanter</td>
          <td>Wizardslayer Fighter</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Cleric of Lathlander</td>
          <td>Assassin Thief</td>
          <td>Illusionist</td>
          <td>Kensai Fighter</td>
        </tr>
        <tr>
          <td>3</td>
          <td>Totemic Druid</td>
          <td>Bounty Hunter Thief</td>
          <td>Invoker</td>
          <td>Cavalier Paladin</td>
        </tr>
        <tr>
          <td>4</td>
          <td>Shapeshifter Druid</td>
          <td>Swashbuckler Thief</td>
          <td>Necromancer</td>
          <td>Inquisiter Paladin</td>
        </tr>
        <tr>
          <td>5</td>
          <td>Avenger Druid</td>
          <td>Blade Bard</td>
          <td>Transmuter</td>
          <td>Undead Hunter Paladin</td>
        </tr>
        <tr>
          <td>6</td>
          <td>Barbarian</td>
          <td>Jester Bard</td>
          <td>All (no kit)</td>
          <td>Abjurer</td>
        </tr>
        <tr>
          <td>7</td>
          <td>Wildmage</td>
          <td>Skald Bard</td>
          <td>Ferlain</td>
          <td>Conjurer</td>
        </tr>
      </tbody>
    </table>
    </div>
    <br />
    
    <a id="Header_Proficiency"><div class="actionheader">Header Proficiency</div></a>
    <br />
    <div class="indent1">
    <table border="1" width="400">
        <colgroup>
          <col width="5%" />
           <col width="*" />
        </colgroup>
        <thead>
          <tr>
            <th>Value (hex)</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td width="25%">00h</td>
            <td width="75%">None</td>
          </tr>
          <tr>
            <td width="25%">59h</td>
            <td width="75%">Bastard Sword</td>
          </tr>
          <tr>
            <td width="25%">5Ah</td>
            <td width="75%">Long Sword</td>
          </tr>
          <tr>
            <td width="25%">5Bh</td>
            <td width="75%">Short Sword</td>
          </tr>
          <tr>
            <td width="25%">5Ch</td>
            <td width="75%">Axe</td>
          </tr>
          <tr>
            <td width="25%">5Dh</td>
            <td width="75%">Two-Handed Sword</td>
          </tr>
          <tr>
            <td width="25%">5Eh</td>
            <td width="75%">Katana</td>
          </tr>
          <tr>
            <td width="25%">5Fh</td>
            <td width="75%">Scimitar/Wakizashi/Ninja-To</td>
          </tr>
          <tr>
            <td width="25%">60h</td>
            <td width="75%">Dagger</td>
          </tr>
          <tr>
            <td width="25%">61h</td>
            <td width="75%">War Hammer</td>
          </tr>
          <tr>
            <td width="25%">62h</td>
            <td width="75%">Spear</td>
          </tr>
          <tr>
            <td width="25%">63h</td>
            <td width="75%">Halberd</td>
          </tr>
          <tr>
            <td width="25%">64h</td>
            <td width="75%">Flail/Morningstar</td>
          </tr>
          <tr>
            <td width="25%">65h</td>
            <td width="75%">Mace</td>
          </tr>
          <tr>
            <td width="25%">66h</td>
            <td width="75%">Quarterstaff</td>
          </tr>
          <tr>
            <td width="25%">67h</td>
            <td width="75%">Crossbow</td>
          </tr>
          <tr>
            <td width="25%">68h</td>
            <td width="75%">Long Bow</td>
          </tr>
          <tr>
            <td width="25%">69h</td>
            <td width="75%">Short Bow</td>
          </tr>
          <tr>
            <td width="25%">6Ah</td>
            <td width="75%">Darts</td>
          </tr>
          <tr>
            <td width="25%">6Bh</td>
            <td width="75%">Sling</td>
          </tr>
          <tr>
            <td width="25%">6Ch</td>
            <td width="75%">Blackjack</td>
          </tr>
          <tr>
            <td width="25%">6Dh</td>
            <td width="75%">Gun</td>
          </tr>
          <tr>
            <td width="25%">6Eh</td>
            <td width="75%">Martial Arts</td>
          </tr>
          <tr>
            <td width="25%">6Fh</td>
            <td width="75%">Two-Handed Weapon Skill</td>
          </tr>
          <tr>
            <td width="25%">70h</td>
            <td width="75%">Sword and Shield Skill</td>
          </tr>
          <tr>
            <td width="25%">71h</td>
            <td width="75%">Single Weapon Skill</td>
          </tr>
          <tr>
            <td width="25%">72h</td>
            <td width="75%">Two Weapon skill</td>
          </tr>
          <tr>
            <td width="25%">73h</td>
            <td width="75%">Club</td>
          </tr>
          <tr>
            <td width="25%">74h</td>
            <td width="75%">Extra Proficiency 2</td>
          </tr>
          <tr>
            <td width="25%">75h</td>
            <td width="75%">Extra Proficiency 3</td>
          </tr>
          <tr>
            <td width="25%">76h</td>
            <td width="75%">Extra Proficiency 4</td>
          </tr>
          <tr>
            <td width="25%">77h</td>
            <td width="75%">Extra Proficiency 5</td>
          </tr>
          <tr>
            <td width="25%">78h</td>
            <td width="75%">Extra Proficiency 6</td>
          </tr>
          <tr>
            <td width="25%">79h</td>
            <td width="75%">Extra Proficiency 7</td>
          </tr>
          <tr>
            <td width="25%">7Ah</td>
            <td width="75%">Extra Proficiency 8</td>
          </tr>
          <tr>
            <td width="25%">7Bh</td>
            <td width="75%">Extra Proficiency 9</td>
          </tr>
          <tr>
            <td width="25%">7Ch</td>
            <td width="75%">Extra Proficiency 10</td>
          </tr>
          <tr>
            <td width="25%">7Dh</td>
            <td width="75%">Extra Proficiency 11</td>
          </tr>
          <tr>
            <td width="25%">7Eh</td>
            <td width="75%">Extra Proficiency 12</td>
          </tr>
          <tr>
            <td width="25%">7Fh</td>
            <td width="75%">Extra Proficiency 13</td>
          </tr>
          <tr>
            <td width="25%">80h</td>
            <td width="75%">Extra Proficiency 14</td>
          </tr>
          <tr>
            <td width="25%">81h</td>
            <td width="75%">Extra Proficiency 15</td>
          </tr>
          <tr>
            <td width="25%">82h</td>
            <td width="75%">Extra Proficiency 16</td>
          </tr>
          <tr>
            <td width="25%">83h</td>
            <td width="75%">Extra Proficiency 17</td>
          </tr>
          <tr>
            <td width="25%">84h</td>
            <td width="75%">Extra Proficiency 18</td>
          </tr>
          <tr>
            <td width="25%">85h</td>
            <td width="75%">Extra Proficiency 19</td>
          </tr>
          <tr>
            <td width="25%">86h</td>
            <td width="75%">Extra Proficiency 20</td>
          </tr>
        </tbody>
      </table>
    </div>
    <br />
    <a id="ExtendedHeader_MeleeAnimation"><div class="actionheader">Extended Header MeleeAnimation</div></a>
    <br />
    <div class="indent1">
      <table border="1" width="98%">
        <thead>
          <tr>
            <th width="10%">Value Word 1</th>
            <th width="10%">Value Word 2</th>
            <th width="10%">Value Word 3</th>
            <th width="75%">Data</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td width="10%">00h</td>
            <td width="10%">14h</td>
            <td width="10%">50h</td>
            <td width="70%">Dagger</td>
          </tr>
          <tr>
            <td width="10%">0Ah</td>
            <td width="10%">19h</td>
            <td width="10%">41h</td>
            <td width="70%">Short Sword</td>
          </tr>
          <tr>
            <td width="10%">32h</td>
            <td width="10%">32h</td>
            <td width="10%">00h</td>
            <td width="70%">Long Sword, Bastard Sword, Scimitar, Battle Axe,
              Warhammer, Club, Mace, Flail, Morning Star</td>
          </tr>
          <tr>
            <td width="10%">3Ch</td>
            <td width="10%">28h</td>
            <td width="10%">00h</td>
            <td width="70%">Two-Handed Sword</td>
          </tr>
          <tr>
            <td width="10%">00h</td>
            <td width="10%">23h</td>
            <td width="10%">41h</td>
            <td width="70%">Halberd</td>
          </tr>
          <tr>
            <td width="10%">00h</td>
            <td width="10%">00h</td>
            <td width="10%">64h</td>
            <td width="70%">Spear</td>
          </tr>
          <tr>
            <td width="10%">0Ah</td>
            <td width="10%">46h</td>
            <td width="10%">14h</td>
            <td width="70%">Staff</td>
          </tr>
          <tr>
            <td width="10%">00h</td>
            <td width="10%">00h</td>
            <td width="10%">00h</td>
            <td width="70%">Any Missile Weapon (Bow, Arrow, CrossBow, Bolt, Sling,
              Bullet, Throwing Axe, Dart, Throwing Dagger, etc.)</td>
          </tr>
          <tr>
            <td width="10%">22h</td>
            <td width="10%">21h</td>
            <td width="10%">21h</td>
            <td width="70%">Any Non-Weapon Item (Amulets, Rings, Wands, etc.)</td>
          </tr>
        </tbody>
      </table>
    </div>

    <br />
    <a id="ExtHeader_Flags"><div class="actionheader">Extension Header Flags</div></a>
    <br />
    <div class="indent1">
    <table border="1" width="98%">
      <colgroup>
        <col width="20%">
        <col width="20%">
        <col width="20%">
        <col width="20%">
        <col width="20%">
      </colgroup>
      <thead>
        <tr>
          <th>Bit</th>
          <th>Byte 1</th>
          <th>Byte 2</th>
          <th>Byte 3</th>
          <th>Byte 4</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0</td>
          <td>Add strength bonus</td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
        </tr>
        <tr>
          <td>1</td>
          <td>Breakable</td>
          <td>
            <b><a name="ExtHeader_Flags_BIT9">Breaks Sanctuary / Invisibility</a></b> (EE games)
            <ul>
              <li>Breaks both <a href="../../opcodes/bgee.htm#op153">Sanctuary</a> and <a href="../../opcodes/bgee.htm#op20">Invisibility</a>.</li>
            </ul>
          </td>
          <td><span class="unknown">Unknown</span></td>
          <td>ToBEx: Toggle backstab</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Damage strength bonus (BGEE split bit 0)</td>
          <td>
            <b><a name="ExtHeader_Flags_BIT10">Hostile</a></b>
            <ul>
              <li>Breaks both <a href="../../opcodes/bgee.htm#op153">Sanctuary</a> and <a href="../../opcodes/bgee.htm#op20">Invisibility</a>, triggers <code><a href="../../scripting/triggers/bgeetriggers.htm#0x0002">AttackedBy()</a></code>, and allows <a href="../../opcodes/bgee.htm#op102">opcode #102</a> to block effects from Self.</li>
            </ul>
          </td>
          <td><span class="unknown">Unknown</span></td>
          <td>EE/ToBEx: Cannot target invisible</td>
        </tr>
        <tr>
          <td>3</td>
          <td>THAC0 strength bonus (BGEE split bit 0)</td>
          <td><b><a name="ExtHeader_Flags_BIT11">Recharge after resting</a></b></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
        </tr>
        <tr>
          <td>4</td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
        </tr>
        <tr>
          <td>5</td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
        </tr>
        <tr>
          <td>6</td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
        </tr>
        <tr>
          <td>7</td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
          <td><span class="unknown">Unknown</span></td>
        </tr>
      </tbody>
    </table>
    </div>
    <br />

  </div>
</div>


<a href="#" class="go-up">
  &nbsp;
</a>


  </div>
</div>

<script>
window.addEventListener("scroll", function(event) {
  var top = window.pageYOffset || document.documentElement.scrollTop;
  var arrow = document.getElementsByClassName("go-up")[0];
  if (top > 100) {
    arrow.style.visibility = "visible";
  } else {
    arrow.style.visibility = "hidden";
  }
});
</script>

<footer class="site-footer">
  <hr />
  <div id="footer">

    <div class="">
      <a class="gh-icon-container" href="https://github.com/gibberlings3/iesdp/">
  <span class="icon icon--github"><svg viewBox="0 0 16 16"><path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span>
</a>

      <a href="https://github.com/gibberlings3/iesdp//blob/master/file_formats/ie_formats/itm_v1.htm">Edit this page</a>
    </div>

    <div class="">
      <form method="get" action="http://www.google.com/search">
        <div style="margin: 0px; padding: 0px; text-align: center">
          <input type="hidden" name="ie" value="UTF-8" />
          <input type="hidden" name="oe" value="UTF-8" />
          <input class="form_text" type="text" name="q" size="30" maxlength="255" value="" />
          <input class="form_button" type="submit" name="btnG" value="Search" />
          <input type="hidden" name="domains" value="https://gibberlings3.github.io/iesdp" />
          <input type="hidden" name="sitesearch" value="https://gibberlings3.github.io/iesdp" />
        </div>
      </form>
    </div>

  </div>
  <hr />
</footer>


</body>
</html>
