<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!--  <meta charset="utf-8"> -->
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>SPL file format</title>
  <meta name="description" content="The IESDP (Infinity Engine Structures Description Project) is an effort to research the workings of the Bioware Infinity Engine(R), and act as a collective resource for those interested in such workings.
">

  





  <link rel="stylesheet" href="../../css/main.css">

<!--
  <link rel="canonical" href="https://gibberlings3.github.io/iesdp/file_formats/ie_formats/spl_v1.htm">
  <link rel="alternate" type="application/rss+xml" title="IESDP" href="https://gibberlings3.github.io/iesdp/feed.xml">
-->
</head>


<body>

<header class="site-header">








    <hr />
    <div id="buttonboxtop">
      <div id="buttonstriptop">
        <a href="../../index.htm">Index</a> &nbsp;&bull;&nbsp;
        <a href="../../files/2da/index.htm">2DA</a> &nbsp;&bull;&nbsp;
        <a href="../../opcodes/index.htm">Effects</a> &nbsp;&bull;&nbsp;
        <a href="../../file_formats/index.htm">File Formats</a> &nbsp;&bull;&nbsp;
        <a href="../../scripting/actions/index.htm">Actions</a> &nbsp;&bull;&nbsp;
        <a href="../../files/ids/index.htm">Identifiers</a> &nbsp;&bull;&nbsp;
        <a href="../../scripting/triggers/index.htm">Triggers</a> &nbsp;&bull;&nbsp;
        <a href="../../appendices/index.htm">Appendices</a> &nbsp;&bull;&nbsp;
        <a href="../../site_info/index.htm">Site Info</a> &nbsp;&bull;&nbsp;
        <a href="../../site_info/legal.htm">Legal</a> &nbsp;&bull;&nbsp;
        <a href="https://www.gibberlings3.net/forums/forum/54-iesdp-updates-and-info/" target="_blank">Forum</a>
      </div>
    </div>
    <hr />
    <div id="logo">
      <a href="../../main.htm">
        <img src="../../images/iesdp_logo.gif" alt="IESDP Logo" width="120" height="120" />
      </a>
    </div>

</header>


<div id="nonFooter">
  <div id="content">

    <div class="title_main">SPL file format</div>
    <br />
    <div class="fileHeader">Applies to:</div>
    <div class="indent1">BG1, BG1: TotS, BG2, BG2: ToB, PST, IWD, IWD:HoW, IWD:TotL, BGEE</div>
    <br />
    
    <div class="fileHeader">General Description</div>
    <div class="indent1">
      This file format describes a "spell". Spells include mage spells, priest spells, innate abilities, special abilities and effects used for game advancement (e.g. animation effects, custom spells). SPL files have a similar structure to <a href="itm_v1.htm">ITM </a>files.<br />
    </div>
    <br />
    
    <div class="center"><img border="0" src="../../images/spl.gif"></div>
    <table align="center">
      <tr>
        <td><img src="../../images/red.jpg" width="10" height="10"></td>
        <td><strong>Header:</strong>Size=114 Bytes</td>
        <td><img src="../../images/blue.jpg" width="10" height="10"></td>
        <td><strong>Ext. Header:</strong> Size= 40 Bytes</td>
        <td><img src="../../images/green.jpg" width="10" height="10"></td>
        <td><strong>Feature Block:</strong> Size=48 Bytes</td>
      </table>
    <br />
    
    <div class="fileHeader">Detailed Description</div>
    <div class="indent1">
      SPL files consist of a main header, zero or more extended headers (each containing zero or more feature blocks) and zero or more casting feature blocks. All the feature blocks are stored as a continuous data segment, with each extended header containing an offset into this data, and the main header containing an offset into this data for the casting feature blocks.<br />
      <br />
      Overall structure:<br />
      <div class="indent1">
        <li>
          <a href="#splv1_Header">Header</a>
        <li>
          <a href="#splv1_Extended_Header">Extended Headers</a>
        <li>
           <a href="#splv1_Feature_Block">Feature Blocks</a>
      </div>
      <br />
    </div>
    
    
    
    
    <div class="fileHeader">
  <a name="splv1_Header">Header</a>
</div>
<br />
<div class="indent1">
  
  <table border="1" width="98%" class="offset_table">
    <colgroup>
      <col width="5%" />
      <col width="12%" />
      <col width="*" />
    </colgroup>
    <thead>
      <tr>
        <th>Offset</th>
        <th>Size (datatype)</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      



<tr>










  <td>0x0000</td>
  <td>4 (char array)</td>
  <td><p>Signature (‘SPL  ’)</p>
</td>
</tr>



<tr>










  <td>0x0004</td>
  <td>4 (char array)</td>
  <td><p>Version (‘V1  ‘)</p>
</td>
</tr>



<tr>










  <td>0x0008</td>
  <td>4 (dword)</td>
  <td><p>Spell Name - Unidentified (strref)</p>
</td>
</tr>



<tr>










  <td>0x000c</td>
  <td>4 (dword)</td>
  <td><p>Spell Name - Identified (strref) (usually -1)</p>
</td>
</tr>



<tr>










  <td>0x0010</td>
  <td>8 (resref)</td>
  <td><p>Completion Sound</p>
</td>
</tr>



<tr>










  <td>0x0018</td>
  <td>4 (dword)</td>
  <td><p><a href="#Header_Flags">Flags</a></p>
</td>
</tr>



<tr>










  <td>0x001c</td>
  <td>2 (word)</td>
  <td><p>Spell type:</p>
<ul>
  <li>0 = Special</li>
  <li>1 = Wizard</li>
  <li>2 = Cleric</li>
  <li>3 = Psionic</li>
  <li>4 = Innate</li>
  <li>5 = Bardsong</li>
</ul>
</td>
</tr>



<tr>










  <td>0x001e</td>
  <td>4 (dword)</td>
  <td><p><a href="#Exclusion_Flags">Exclusion Flags</a></p>
</td>
</tr>



<tr>










  <td>0x0022</td>
  <td>2 (word)</td>
  <td><p><a href="#Header_Casting_Graphics">Casting Graphics</a></p>
</td>
</tr>



<tr>










  <td>0x0024</td>
  <td>1 (char)</td>
  <td><p><span class="unknown">Min Level (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0025</td>
  <td>1 (byte)</td>
  <td><p>Primary Type (Spell school) (IWD: school.2da, BG2:mschool.2da)</p>
</td>
</tr>



<tr>










  <td>0x0026</td>
  <td>1 (byte)</td>
  <td><p><span class="unknown">Min Strength (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0027</td>
  <td>1 (char)</td>
  <td><p>Secondary Type (BG2:msectype.2da)</p>
</td>
</tr>



<tr>










  <td>0x0028</td>
  <td>1 (byte)</td>
  <td><p><span class="unknown">Min Strength Bonus (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0029</td>
  <td>1 (byte)</td>
  <td><p><span class="unknown">Usability 1 (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x002a</td>
  <td>1 (byte)</td>
  <td><p><span class="unknown">Min Int (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x002b</td>
  <td>1 (byte)</td>
  <td><p><span class="unknown">Usability 2 (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x002c</td>
  <td>1 (byte)</td>
  <td><p><span class="unknown">Min Dex (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x002d</td>
  <td>1 (byte)</td>
  <td><p><span class="unknown">Usability 3 (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x002e</td>
  <td>1 (byte)</td>
  <td><p><span class="unknown">Min Wis (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x002f</td>
  <td>1 (byte)</td>
  <td><p><span class="unknown">Usability 4 (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0030</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Min Con (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0032</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Min Cha (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0034</td>
  <td>4 (dword)</td>
  <td><p>Spell Level</p>
</td>
</tr>



<tr>










  <td>0x0038</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Stack amount (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x003a</td>
  <td>8 (resref)</td>
  <td><p>Spellbook icon (BAM). The engine replaces the last character of this filename with a C.</p>
</td>
</tr>



<tr>










  <td>0x0042</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Lore to ID (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0044</td>
  <td>8 (resref)</td>
  <td><p><span class="unknown">Ground icon (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x004c</td>
  <td>4 (dword)</td>
  <td><p><span class="unknown">Weight (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0050</td>
  <td>4 (dword)</td>
  <td><p>Spell Description - Unidentified (strref)</p>
</td>
</tr>



<tr>










  <td>0x0054</td>
  <td>4 (dword)</td>
  <td><p>Spell Description - Identified (strref) (usually -1)</p>
</td>
</tr>



<tr>










  <td>0x0058</td>
  <td>8 (resref)</td>
  <td><p><span class="unknown">Description icon (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0060</td>
  <td>4 (dword)</td>
  <td><p><span class="unknown">Enchantment (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0064</td>
  <td>4 (dword)</td>
  <td><p>Extended Header offset</p>
</td>
</tr>



<tr>










  <td>0x0068</td>
  <td>2 (word)</td>
  <td><p>Extended Header count</p>
</td>
</tr>



<tr>










  <td>0x006a</td>
  <td>4 (dword)</td>
  <td><p>Feature Block Table offset</p>
</td>
</tr>



<tr>










  <td>0x006e</td>
  <td>2 (word)</td>
  <td><p>Casting Feature Block offset (these feature blocks may not use target type 2)</p>
</td>
</tr>



<tr>










  <td>0x0070</td>
  <td>2 (word)</td>
  <td><p>Casting Feature Block count</p>
</td>
</tr>




    </tbody>
  </table>
</div>
<br />


    
    
    
    
    <div class="fileHeader">
  <a name="splv1_Extended_Header">Extended Header</a>
</div>
<br />
<div class="indent1">
  
    Extended headers represent the effects of a spell on the target. Multiple extended headers can be set in a spell, to allow the spell to use effects based on the level of the caster. Extended headers should be in the file in order of increasing level<br /><br />
    
  
  <table border="1" width="98%" class="offset_table">
    <colgroup>
      <col width="5%" />
      <col width="12%" />
      <col width="*" />
    </colgroup>
    <thead>
      <tr>
        <th>Offset</th>
        <th>Size (datatype)</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      



<tr>










  <td>0x0000</td>
  <td>1 (char)</td>
  <td><p>Spell form</p>
<ul>
  <li>1 - Standard</li>
  <li>2 - Projectile</li>
</ul>
</td>
</tr>



<tr>










  <td>0x0001</td>
  <td>1 (char)</td>
  <td><ul>
  <li>bit 2: ‘Friendly’ ability</li>
</ul>
</td>
</tr>



<tr>










  <td>0x0002</td>
  <td>2 (word)</td>
  <td><p>Location</p>
</td>
</tr>



<tr>










  <td>0x0004</td>
  <td>8 (resref)</td>
  <td><p>Memorised icon (BAM). The engine replaces the last character of this filename with a B.</p>
</td>
</tr>



<tr>










  <td>0x000c</td>
  <td>1 (char)</td>
  <td><p>Target:</p>
<ul>
  <li>0 = Invalid (target cannot be selected)</li>
  <li>1 = Creature / Living actor</li>
  <li>2 = Crash</li>
  <li>3 = Dead actor
    <ul>
      <li>To be precise, it can target living and dead actors. It really just ignores any range requirement, including being in the same area.</li>
    </ul>
  </li>
  <li>4 = Area</li>
  <li>5 = Self</li>
  <li>6 = Crash</li>
  <li>7 = None (Self, ignores game pause)</li>
</ul>
</td>
</tr>



<tr>










  <td>0x000d</td>
  <td>1 (char)</td>
  <td><p>Target Number</p>
</td>
</tr>



<tr>










  <td>0x000e</td>
  <td>2 (word)</td>
  <td><p>Range</p>
</td>
</tr>



<tr>










  <td>0x0010</td>
  <td>2 (word)</td>
  <td><p>Level Required</p>
</td>
</tr>



<tr>










  <td>0x0012</td>
  <td>2 (word)</td>
  <td><p>Casting Time</p>
</td>
</tr>



<tr>










  <td>0x0014</td>
  <td>2 (word)</td>
  <td><p>Times per day</p>
</td>
</tr>



<tr>










  <td>0x0016</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Dice Sides (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0018</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Dice Thrown (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x001a</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Enchanted (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x001c</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Damage Type (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x001e</td>
  <td>2 (word)</td>
  <td><p>Count of feature blocks</p>
</td>
</tr>



<tr>










  <td>0x0020</td>
  <td>2 (word)</td>
  <td><p>Offset to feature blocks</p>
</td>
</tr>



<tr>










  <td>0x0022</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Charges (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0024</td>
  <td>2 (word)</td>
  <td><p><span class="unknown">Charge depletion behaviour (unused)</span></p>
</td>
</tr>



<tr>










  <td>0x0026</td>
  <td>2 (word)</td>
  <td><p>Projectile (BG2: <a href="../../ids/bg2/projectl.htm">projectl.ids</a>. <strong>Note:</strong> in BG2, this value is off-by-one from projectl.ids value. I.e. binary value of 2 corresponds to 0x1 - ARROW)</p>
</td>
</tr>




    </tbody>
  </table>
</div>
<br />


    
    
    
    
    <div class="fileHeader">
  <a name="splv1_Feature_Block">Feature Block</a>
</div>
<br />
<div class="indent1">
  
    Any action carried out by a spell is done by feature blocks, each of which holds an effect number as well as targetting and timing information. The engine appears to roll a probability for each valid target type, rather than one probability per attack.<br /><br />
    
  
  <table border="1" width="98%" class="offset_table">
    <colgroup>
      <col width="5%" />
      <col width="12%" />
      <col width="*" />
    </colgroup>
    <thead>
      <tr>
        <th>Offset</th>
        <th>Size (datatype)</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      



<tr>










  <td>0x0000</td>
  <td>2 (word)</td>
  <td><p>Opcode Number</p>
</td>
</tr>



<tr>










  <td>0x0002</td>
  <td>1 (char)</td>
  <td><p>Target type</p>
<ul>
  <li>0 = None</li>
  <li>1 = Self (pre-projectile)</li>
  <li>2 = Pre-target</li>
  <li>3 = Party</li>
  <li>4 = Everyone (inc. party)</li>
  <li>5 = Everyone (excl. party)</li>
  <li>6 = Everyone matching specific value of caster (or Party if cast by party member)</li>
  <li>7 = Everyone matching specific value of target (In ITM: ranged ability type only, otherwise no target)</li>
  <li>8 = Everyone (excl. caster)</li>
  <li>9 = Self (post-projectile)</li>
</ul>
</td>
</tr>



<tr>










  <td>0x0003</td>
  <td>1 (char)</td>
  <td><p>Power</p>
</td>
</tr>



<tr>










  <td>0x0004</td>
  <td>4 (dword)</td>
  <td><p>Parameter 1</p>
</td>
</tr>



<tr>










  <td>0x0008</td>
  <td>4 (dword)</td>
  <td><p>Parameter 2</p>
</td>
</tr>



<tr>










  <td>0x000c</td>
  <td>1 (char)</td>
  <td><p>Timing Mode</p>

<ul>
  <li>0 = Duration</li>
  <li>1 = Permanent</li>
  <li>2 = While equipped</li>
  <li>3 = Delayed Duration</li>
  <li>4 = Delayed</li>
  <li>5 = Delayed (transforms to 8)</li>
  <li>6 = Duration?</li>
  <li>7 = Permanent?</li>
  <li>8 = Permanent (unsaved)</li>
  <li>9 = Permanent (after Death)</li>
  <li>10 = Trigger</li>
  <li>4096 = Absolute duration</li>
</ul>

<p>NB. all effects except those with Timing mode ‘9’ are removed by death.</p>
</td>
</tr>



<tr>










  <td>0x000d</td>
  <td>1 (char)</td>
  <td><p>Resistance</p>

<p>The default behaviour is that effects cannot be dispelled and ignore magic resistance.</p>

<ul>
  <li>bit 0: Can be dispelled, affected by magic resistance</li>
  <li>bit 1: Ignores magic resistance (when used in combination with bit 0)</li>
  <li>bit 2: Bypasses deflection/reflection/trap opcodes (only in EE games patched to v2.0+ / external <a href="../ie_formats/eff_v2.htm">EFF</a> files)</li>
  <li>bit 31: Effect was applied by an ITM (only present in EE games patched to v2.0+ / external <a href="../ie_formats/eff_v2.htm">EFF</a> files). It is set by the engine if the effect’s source ITM is identified. This bit is only used by <a href="../../opcodes/bgee.htm#op324">opcode #324</a> which checks it to determine whether it should set STRREF_FEEDBACK_IMMUNE_RESOURCE (see <a href="../../files/2da/2da_bgee/enginest.htm">ENGINEST.2DA</a>) to the ITM’s general or identified name</li>
</ul>

<p>The only difference between 0 and 2 is that 0 will automatically convert to 2 when targeting yourself.</p>

<p>This can also be presented in the more traditional way:</p>
<ul>
  <li>0 = Natural/Nonmagical</li>
  <li>1 = Can be dispelled/Affected by resistance</li>
  <li>2 = Cannot be dispelled/Ignores resistance</li>
  <li>3 = Can be dispelled/Ignores resistance</li>
</ul>
</td>
</tr>



<tr>










  <td>0x000e</td>
  <td>4 (dword)</td>
  <td><p>Duration</p>
</td>
</tr>



<tr>










  <td>0x0012</td>
  <td>1 (char)</td>
  <td><p>Probability 1</p>
</td>
</tr>



<tr>










  <td>0x0013</td>
  <td>1 (char)</td>
  <td><p>Probability 2</p>

<p>Note: The BG1 engine treats probability as a single word, effects are applied in the range 0-probability.<br />
Note: Other engines treat probability as two values, effects are applied in the range probability &lt;= x &lt;= probability.<br />
Probability range is 0-99</p>
</td>
</tr>



<tr>










  <td>0x0014</td>
  <td>8 (resref)</td>
  <td><p>Resource</p>
</td>
</tr>



<tr>










  <td>0x001c</td>
  <td>4 (dword)</td>
  <td><p>Dice Thrown</p>
</td>
</tr>



<tr>










  <td>0x0020</td>
  <td>4 (dword)</td>
  <td><p>Dice Sides</p>
</td>
</tr>



<tr>










  <td>0x0024</td>
  <td>4 (dword)</td>
  <td><p>Saving Throw Type</p>
<ul>
  <li>bit 0: Spells</li>
  <li>bit 1: Breathe</li>
  <li>bit 2: Death</li>
  <li>bit 3: Wands</li>
  <li>bit 4: Polymorph</li>
  <li>bit 10: Ignore primary target – Line AoE projectile doesn’t affect end target (EE only)</li>
  <li>bit 11: Ignore secondary target – Line AoE projectile doesn’t affect bystanders (EE only)</li>
  <li>bit 24: Bypass mirror image (EE/TobEx only)</li>
  <li>bit 25: EE - ignore difficulty; TobEx - limit effect stacking</li>
  <li>bit 26: TobEx internal (don’t use) - suspend effect application</li>
</ul>

<p>NB. If more than 1 saving throw type is specified, the target rolls against their best save.</p>
</td>
</tr>



<tr>










  <td>0x0028</td>
  <td>4 (dword)</td>
  <td><p>Saving Throw Bonus</p>
</td>
</tr>



<tr>










  <td>0x002c</td>
  <td>4 (dword)</td>
  <td><p>TobEx: Stacking ID. Checked when bit 25 of the Saving Throw Type is set.</p>

<p>If two effects of the same opcode are applied, both have Limit Effect Stacking bit set, and both have the same stacking ID, then the latter applied effect is suspended in application until the former effect expires. Regardless of whether it is applied, the latter effect will expire at the same time that it would expire if it was applied. In other words, the total duration of some non-stacking effect opcode is not extended because more than one copy of the effect was applied.</p>

<p>Stacking IDs are unique to the opcode being applied. To maintain uniqueness of stacking IDs between different mods, one recommendation is to use the higher word of Special as the modder’s Infinity Engine Community Prefix, then use the lower word as an identifying ID. For example, 0x41360001 (‘A6’ 0x0001).</p>
</td>
</tr>




    </tbody>
  </table>
</div>
<br />


    <hr />
    <br />
    <a id="Header_Flags"><div class="actionheader"> Header Flags </a></div>
    <br />
    <div class="indent1">
    <table border="1" width="98%">
      <colgroup>
        <col width="20%">
        <col width="20%">
        <col width="20%">
        <col class="col4" width="20%">
        <col class="col4" width="20%">
      </colgroup>
      <thead>
        <tr>
          <th>Bit </th>
          <th>Byte 1</th>
          <th>Byte 2</th>
          <th>Byte 3</th>
          <th>Byte 4</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>0</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> Not in combat </td>
          <td> Can target invisible (BGEE, TobEx) </td>
        </tr>
        <tr>
          <td>1</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> Breaks Sanctuary (BGEE) </td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> Castable when silenced (BGEE, TobEx)</td>
        </tr>
        <tr>
          <td>2</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> Hostile/Breaks Invisibility</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> <span class="unknown"> Unknown </span></td>
        </tr>
        <tr>
          <td>3</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> No LOS required</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> <span class="unknown"> Unknown </span></td>
        </tr>
        <tr>
          <td>4</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> <span class="unknown"> Allow spotting </span></td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> <span class="unknown"> Unknown </span></td>
        </tr>
        <tr>
          <td>5</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> Outdoors only</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> <span class="unknown"> Unknown </span></td>
        </tr>
        <tr>
          <td>6</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> Ignore dead-magic and wild surge effect</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> <span class="unknown"> Unknown </span></td>
        </tr>
        <tr>
          <td>7</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> Ignore wild surge effect (i.e. trigger/contingency)</td>
          <td> <span class="unknown"> Unknown </span></td>
          <td> <span class="unknown"> Unknown </span></td>
        </tr>
      </tbody>
    </table>
    </div>
    <br />
    <a id="Exclusion_Flags"><div class="actionheader"> Exclusion Flags</a></div>
    <br />
    <div class="indent1">
    bit 0: Exclude Chaotic priests. (BG2 & HoW)<br />
    bit 1: Exclude Evil priests. (BG2 & HoW)<br />
    bit 2: Exclude Good priests. (BG2 & HoW)<br />
    bit 3: Exclude GENeutral priests. (BG2 & HoW)<br />
    bit 4: Exclude Lawful priests. (BG2 & HoW)<br />
    bit 5: Exclude LCNeutral priests. (BG2 & HoW)<br />
    bit 6: Exclude Abjurers<br />
    bit 7: Exclude Conjurers<br />
    bit 8: Exclude Diviners<br />
    bit 9: Exclude Enchanters<br />
    bit 10: Exclude Illusionists<br />
    bit 11: Exclude Invokers<br />
    bit 12: Exclude Necromancers<br />
    bit 13: Exclude Transmuters<br />
    bit 14: Wild Magic (exclude Generalists) (BG2)<br />
    bit 15 - 29: Unused<br />
    bit 30: Exclude Cleric/Paladin<br />
    bit 31: Exclude Druid/Ranger<br />
    <br />
    NB.Alignment and School exclusion bits cannot be combined.<br />
    </div>
    <br />
    <a id="Header_Casting_Graphics"><div class="actionheader"> Casting Graphics</a></div>
    <br />
    <strong>BG1,BG2,IWD</strong><br />
    <div class="indent1">
    00<br />
    &nbsp;&nbsp;&nbsp;&nbsp;...No animation<br />
    08<br />
    09 Necromancy<br />
    10 Alteration<br />
    11 Enchantment<br />
    12 Abjuration<br />
    13 Illusion<br />
    14 Conjuration<br />
    15 Invocation<br />
    16 Divination<br />
    17 White sparks<br />
    18 Black sparks<br />
    19 White sparks<br />
    20 White sparks<br />
    21 White sparks<br />
    22 White -> red sparks<br />
    23 White -> purple/red sparks<br />
    24 White -> red sparks<br />
    26 White sparks<br />
    32 White sparks<br />
    34 White sparks<br />
    56461 No animation<br />
    65535 No animation<br />
    <br />
    NB. The 'spark' entries are related to sprklclr.2da (and probably opcode #41)<br />
    </div>
    <br />
    <strong>PST</strong><br />
    <div class="indent1">
    35: Abjuration<br />
    36: Alteration<br />
    37: Conjuration<br />
    38: Enchantment<br />
    39: Divination<br />
    40: Illusion<br />
    41: Invocation<br />
    42: Necromancy<br />
    44: Special (Innate) Skill<br />
    </div>
  </div>
</div>


<a href="#" class="go-up">
  &nbsp;
</a>


  </div>
</div>

<script>
window.addEventListener("scroll", function(event) {
  var top = window.pageYOffset || document.documentElement.scrollTop;
  var arrow = document.getElementsByClassName("go-up")[0];
  if (top > 100) {
    arrow.style.visibility = "visible";
  } else {
    arrow.style.visibility = "hidden";
  }
});
</script>

<footer class="site-footer">
  <hr />
  <div id="footer">

    <div class="">
      <a class="gh-icon-container" href="https://github.com/gibberlings3/iesdp/">
  <span class="icon icon--github"><svg viewBox="0 0 16 16"><path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span>
</a>

      <a href="https://github.com/gibberlings3/iesdp//blob/master/file_formats/ie_formats/spl_v1.htm">Edit this page</a>
    </div>

    <div class="">
      <form method="get" action="http://www.google.com/search">
        <div style="margin: 0px; padding: 0px; text-align: center">
          <input type="hidden" name="ie" value="UTF-8" />
          <input type="hidden" name="oe" value="UTF-8" />
          <input class="form_text" type="text" name="q" size="30" maxlength="255" value="" />
          <input class="form_button" type="submit" name="btnG" value="Search" />
          <input type="hidden" name="domains" value="https://gibberlings3.github.io/iesdp" />
          <input type="hidden" name="sitesearch" value="https://gibberlings3.github.io/iesdp" />
        </div>
      </form>
    </div>

  </div>
  <hr />
</footer>


</body>
</html>
