---
title: "SRC file format"
---
    <div class="title_main">SRC file format</div>
    <br />
    <div class="fileHeader">Applies to:</div>
    <div class="indent1">PST, PSTEE</div>
    <br />
    
    <div class="fileHeader">General Description</div>
    <div class="indent1">
      This file format contains strrefs for out-of-dialog text (e.g text displayed over the character on the game screen). Text is usually displayed over the creature's head, and the associated sound is played.<br />
    </div>
    <br />
    
    <div class="fileHeader">Detailed Description</div>
    <div class="indent1">
      SRC files have a very simple header, only containing the count of strref entries. Each strref entry is eight bytes and consists of a strref and the relative weight of the entry (usually set to 1).<br />
      The weight defines how often an entry is picked in relation to the other entries. Higher weights increase the probability for the entry to be picked more often by the engine. It can be approximated by this formula: <code>probability = weight * 100 / sum_of_all_weights</code>.</br />
      <br />
      Overall structure<br />
      <div class="indent1">
        <li><a href="#srcv1_0_Header">Header</a>
        <li><a href="#srcv1_0_Strref">Strref Entry</a>
      </div>
    <br />
    </div>

    <div class="fileHeader"><a name="srcv1_0_Header">SRC V1.0 Header</a></div>
    <div class="indent1">
      <br />
      <table border="1" width="98%">
        <colgroup>
          <col width="5%" />
          <col width="12%" />
           <col width="*" />
        </colgroup>
        <thead>
          <tr>
            <th>Offset</th>
            <th>Size (data type)</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>0x0000</td>
            <td>4 (dword)</td>
            <td>Entry count</td>
          </tr>
        </tbody>
      </table>
    </div>

    <br />

    <div class="fileHeader"><a name="srcv1_0_Strref">SRC V1.0 Strref Entry</a></div>
    <div class="indent1">
      <br />
      <table border="1" width="98%">
        <colgroup>
          <col width="5%" />
          <col width="12%" />
           <col width="*" />
        </colgroup>
        <thead>
          <tr>
            <th>Offset</th>
            <th>Size (data type)</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>0x0004</td>
            <td>4 (dword)</td>
            <td>Strref</td>
          </tr>
          <tr>
            <td>0x0008</td>
            <td>4 (dword)</td>
            <td>Weight</td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>

