<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!--  <meta charset="utf-8"> -->
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>PSTEE Opcodes</title>
  <meta name="description" content="The IESDP (Infinity Engine Structures Description Project) is an effort to research the workings of the Bioware Infinity Engine(R), and act as a collective resource for those interested in such workings.
">

  
  <link rel="stylesheet" href="../css/main.css">

<!--
  <link rel="canonical" href="https://gibberlings3.github.io/iesdp/opcodes/pstee.htm">
  <link rel="alternate" type="application/rss+xml" title="IESDP" href="https://gibberlings3.github.io/iesdp/feed.xml">
-->
</head>


<body>

<header class="site-header">



    <hr />
    <div id="buttonboxtop">
      <div id="buttonstriptop">
        <a href="../index.htm">Index</a> &nbsp;&bull;&nbsp;
        <a href="../files/2da/index.htm">2DA</a> &nbsp;&bull;&nbsp;
        <a href="../opcodes/index.htm">Effects</a> &nbsp;&bull;&nbsp;
        <a href="../file_formats/index.htm">File Formats</a> &nbsp;&bull;&nbsp;
        <a href="../scripting/actions/index.htm">Actions</a> &nbsp;&bull;&nbsp;
        <a href="../files/ids/index.htm">Identifiers</a> &nbsp;&bull;&nbsp;
        <a href="../scripting/triggers/index.htm">Triggers</a> &nbsp;&bull;&nbsp;
        <a href="../appendices/index.htm">Appendices</a> &nbsp;&bull;&nbsp;
        <a href="../site_info/index.htm">Site Info</a> &nbsp;&bull;&nbsp;
        <a href="../site_info/legal.htm">Legal</a> &nbsp;&bull;&nbsp;
        <a href="https://www.gibberlings3.net/forums/forum/54-iesdp-updates-and-info/" target="_blank">Forum</a>
      </div>
    </div>
    <hr />
    <div id="logo">
      <a href="../main.htm">
        <img src="../images/iesdp_logo.gif" alt="IESDP Logo" width="120" height="120" />
      </a>
    </div>

</header>


<div id="nonFooter">
  <div id="content">

    <div class="title_main">PSTEE Opcodes</div><br />

  <div class="center">
    <a href="#op20"> 20 </a> || <a href="#op40"> 40 </a> || <a href="#op60"> 60 </a> ||
    <a href="#op80"> 80 </a> || <a href="#op100"> 100 </a> || <a href="#op120"> 120 </a> || <a href="#op140"> 140 </a> ||
    <a href="#op160"> 160 </a> || <a href="#op180"> 180 </a> || <a href="#op200"> 200 </a> ||
    <a href="#op220"> 220 </a> || <a href="#op240"> 240 </a> || <a href="#op260"> 260 </a> ||
    <a href="#op280"> 280 </a> || <a href="#op300"> 300 </a> || <a href="#op320"> 320 </a> ||
    <a href="#op340"> 340 </a> || <a href="#op360"> 360 </a> || <a href="#op380"> 380 </a> || <a href="#op383"> 383 </a>
  </div>
  <br />

  



	<div id="op0" class="opcode">
		<span class="opnumberdata">#0 (0x0)</span>

		<span class="opnamedata">Stat: AC vs. Damage Type Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op0">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">AC Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>AC Modifier</code> field to the category specified
 by the <code>Type</code> field.<br/><br/>

Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; All</li>
	<li>1 &longrightarrow; Crushing</li>
	<li>2 &longrightarrow; Missile</li>
	<li>4 &longrightarrow; Piercing</li>
	<li>8 &longrightarrow; Slashing</li>
	<li>
		16 &longrightarrow; Base AC setting
		<ul>
			<li>Sets the targets AC to the value specified by the <code>AC Modifier</code> field. If the targets AC is already <code>AC Modifier</code> or below, this effect will do nothing.</li>
		</ul>
	</li>
</ul>
<br/>

<p>
Each modifier type to AC from this opcode is capped to the range <code>[-20,20]</code>. Each AC type total is capped to the range <code>[-32768,32767]</code>.
</p>



<div class="note info">
  <div>
    <strong>Note:</strong> 
IWD1 and PST use a slightly different version. The “Base AC” sets to <strong>field - 1</strong> 
instead.<br />
IWD2 uses different parameters altogether.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>
		<code>Type=0</code>:
		<ul>
			<li>Modifies <a href="../files/ids/bgee/stats.htm#2">ARMORCLASS</a>.</li>
			<li>With <code>Timing Mode</code>s <code>1/4/7</code>, alters target's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x48">Armor Class</a></code>.</li>
		</ul>
	</li>
	<li>
		<code>Type=1</code>:
		<ul>
			<li>Modifies <a href="../files/ids/bgee/stats.htm#3">ACCRUSHINGMOD</a>.</li>
			<li>With <code>Timing Mode</code>s <code>1/4/7</code>, alters target's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x4A">Crushing AC</a></code>.</li>
		</ul>
	</li>
	<li>
		<code>Type=2</code>:
		<ul>
			<li>Modifies <a href="../files/ids/bgee/stats.htm#4">ACMISSILEMOD</a>.</li>
			<li>With <code>Timing Mode</code>s <code>1/4/7</code>, alters target's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x4C">Missile AC</a></code>.</li>
		</ul>
	</li>
	<li>
		<code>Type=4</code>:
		<ul>
			<li>Modifies <a href="../files/ids/bgee/stats.htm#5">ACPIERCINGMOD</a>.</li>
			<li>With <code>Timing Mode</code>s <code>1/4/7</code>, alters target's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x4E">Piercing AC</a></code>.</li>
		</ul>
	</li>
	<li>
		<code>Type=8</code>:
		<ul>
			<li>Modifies <a href="../files/ids/bgee/stats.htm#6">ACSLASHINGMOD</a>.</li>
			<li>With <code>Timing Mode</code>s <code>1/4/7</code>, alters target's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x50">Slashing AC</a></code>.</li>
		</ul>
	</li>
	<li>
		<code>Type=16</code>:
		<ul>
			<li>Modifies <a href="../files/ids/bgee/stats.htm#2">ARMORCLASS</a>.</li>
			<li>With <code>Timing Mode</code>s <code>1/4/7</code>, alters target's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x48">Armor Class</a></code>, still subject to "only if better/lower", checked against base value, not current effective value.</li>
		</ul>
	</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op1" class="opcode">
		<span class="opnumberdata">#1 (0x1)</span>

		<span class="opnamedata">Stat: Attacks Per Round Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op1">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Key Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters a characters Attacks per Round, by changing the Key by the modifier value specified by the <code>Key Value</code> field, in the style specified by <code>Type</code> field.
<br/><br/>

<table border="1" width="98%">
	<colgroup>
		<col width="50%" />
		<col width="50%" />
	</colgroup>
	<thead>
		<tr>
			<th>Key</th>
			<th>Attacks per Round</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>0</td>
			<td>0</td>
		</tr>
		<tr>
			<td>1</td>
			<td>1</td>
		</tr>
		<tr>
			<td>2</td>
			<td>2</td>
		</tr>
		<tr>
			<td>3</td>
			<td>3</td>
		</tr>
		<tr>
			<td>4</td>
			<td>4</td>
		</tr>
		<tr>
			<td>5</td>
			<td>5</td>
		</tr>
		<tr>
			<td>6</td>
			<td>0.5</td>
		</tr>
		<tr>
			<td>7</td>
			<td>1.5</td>
		</tr>
		<tr>
			<td>8</td>
			<td>2.5</td>
		</tr>
		<tr>
			<td>9</td>
			<td>3.5</td>
		</tr>
		<tr>
			<td>10</td>
			<td>4.5</td>
		</tr>
	</tbody>
</table>

<br><br>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Key = Key + 'Key Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Key = 'Key Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Key = (Key * 'Key Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Final Value Modifier: <code>Key = 'Key Modifier' value</code></li>
</ul>

<br/><br/>This effect modifies <a href="../files/ids/bgee/stats.htm#8">NUMBEROFATTACKS</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
When this opcode is stacked, the number of attacks are stacked, not the values of the Key Modifier.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Key Modifier</code> can take negative values. These values match their positive counterparts (e.g., <code>"-6"</code> corresponds to <code>"-0.5"</code>).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<code>Type=3</code> (Set Final):
<ul>
	<li>Only functions when using <code>Timing Mode</code>s <code>2/5/8</code> (even in <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Feature_Block">SPL</a>s</code>).</li>
	<li><a href="#op16">Haste</a> and <a href="#op40">Slow</a> affect it as normal, though the displayed APR in the Record Screen won't change.</li>
	<li>
		Overrides base, <code>Type=0</code>, <code>Type=1</code>, <code>Type=2</code>, proficiency and warrior class APR bonuses.
		<ul>
			<li><code>Type=1</code> just overrides the base and previous <code>Type=1</code> and <code>Type=2</code> effects.</li>
		</ul>
	</li>
	<li>Only the first <code>Type=3</code> effect will take hold; any later ones will be skipped.</li>
</ul>

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Timing Mode</code>s <code>1/4/7</code> alters the creature's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x53">APR</a></code> stat, leaving behind no removable effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op2" class="opcode">
		<span class="opnumberdata">#2 (0x2)</span>

		<span class="opnamedata">Cure: Sleep</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes <a href="#op39">opcode #39</a> effects and the <a href="../files/ids/bgee/state.htm#BIT0">STATE_SLEEPING</a> flag from the targeted creature(s).
<br/>This effect ignores durations attributed to it.



<div class="note info">
  <div>
    <strong>Note:</strong> 
Does not remove the <a href="../files/ids/bgee/state.htm#BIT5">STATE_HELPLESS</a> flag.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in EEs, it can remove <a href="#op177">opcode #177</a> effects targeting an EFF with <a href="#op39">opcode #39</a>. Does not always work when delayed.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op3" class="opcode">
		<span class="opnumberdata">#3 (0x3)</span>

		<span class="opnamedata">State: Berserking</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op3">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the berserk effect to the targeted creature(s) in the style specified by the <code>Type</code> field.

<br/>Target will uncontrollably attack enemies if any are in view, and will occasionally attack neutral creatures.

<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Default/In Combat: only berserk while in combat.</li>
	<li>1 &longrightarrow; Constant: always berserk, maintains <a href="../files/ids/bgee/splstate.htm#33">BERSERK_ALWAYS_ACTIVE</a> and sets <a href="../files/ids/bgee/stats.htm#144">BERSERKSTAGE2</a> to 1.</li>
	<li>2 &longrightarrow; Blood Rage: doesn't exist in EE's, values <code>2+</code> function the same as <code>0</code>.</li>
</ul>

<p>
This opcode sets the <a href="../files/ids/bgee/state.htm#BIT1">STATE_BERSERK</a> flag.
</p>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Being “in combat” is reliant upon the presence of visible, non-sleeping enemies, but they will attack anyone they can see (including sleeping creatures), ally, neutral, or enemy, without preference (beyond whom is closer).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<a href="../files/ids/bgee/state.htm#BIT1">STATE_BERSERK</a> specs:
<ul>
	<li>Grants a +2 bonus to THAC0 and Damage.</li>
	<li>
		While "in combat" or "Constant":
		<ul>
			<li>Creature is unseletectable, Inventory is disabled.</li>
			<li>The creature's AI scripts are disabled.</li>
			<li>The creature will randomly execute action ~ <a href="../scripting/actions/bgeeactions.htm#134">AttackReevaluate([ANYONE],15)</a> (or similar, the exact attack action is unknown).</li>
			<li>Disables Saving while affecting a Party Member (Displayed message: "You do not control all your Party Members")</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>
		Forces creature(s) to use a melee weapon if possible.
		<ul>
			<li>If a certain creature is equipped with a <code><a href="../file_formats/ie_formats/itm_v1.htm#Header_Flags_BIT4">Cursed</a></code> ranged weapon, this opcode will not force it to switch to a melee weapon.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This effect only affects party members (this is not true for EE games, it works fine on non-party creatures.)

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The second paragraph hasn’t been verified for PST and BG1 yet, but likely holds.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
Used with <code>Timing Mode</code>s <code>1/4/7</code> results in setting <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT1">STATE_BERSERK</a></code> when it triggers (and using its default behavior), rather than attaching a removable effect with selected behavior.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
“Morale Failure: Berserk” does NOT use this or any of the other berserk opcodes, nor does it set <a href="../files/ids/bgee/state.htm#BIT1">STATE_BERSERK</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op4" class="opcode">
		<span class="opnumberdata">#4 (0x4)</span>

		<span class="opnamedata">Cure: Berserking</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes <a href="#op3">opcode #3</a> effects and <a href="../files/ids/bgee/state.htm#BIT1">STATE_BERSERK</a> from the targeted creature(s). Does not remove <a href="#op245">opcode #245</a>, <a href="#op246">opcode #246</a> and <a href="#op247">opcode #247</a> effects.
<br/>This effect ignores durations attributed to it.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in BG2 and EEs, this effect only affects player characters.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in BG2 and EEs, this effect can remove <a href="#op177">opcode #177</a> effects targeting an EFF with <a href="#op3">opcode #3</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op5" class="opcode">
		<span class="opnumberdata">#5 (0x5)</span>

		<span class="opnamedata">Charm: Charm Specific Creature</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op5">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op5">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op5">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">General Type</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Charm Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Charms the targeted creature(s) according to value in the <code>Charm Type</code> field, if the target is matched by the value in the <code>General Type</code> field. Values for <code>General Type</code> are from <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a>.
<br/>Known values for <code>Charm Type</code> are:
<ul>
  <li>
    0 &longrightarrow; Neutral Charm
    <ul>
      <li>Does not alter targets allegiance stat.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm">REALLYCHARMED</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a>.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm#254">CHARMED_PC</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#31">NOTGOOD</a>.</li>
      <li>Maintains Portrait Icon <code><a href="../files/2da/2da_bgee/statdesc.htm#0">Charm</a></code> on the target.</li>
      <li>Effect ends if the creature is attacked by <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a>.</li>
      <li>Target displays "charmed" string.</li>
    </ul>
  </li>
  <li>
    1 &longrightarrow; Hostile Charm
    <ul>
      <li>Sets targets allegiance to <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a> if the caster is <a href="../files/ids/bgee/ea.htm#200">EVILCUTOFF</a>.</li>
      <li>Sets targets allegiance to <a href="../files/ids/bgee/ea.htm#200">EVILCUTOFF</a> if the caster is <a href="../files/ids/bgee/ea.htm#199">NOTEVIL</a>.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm">REALLYCHARMED</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a>.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm#254">CHARMED_PC</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#31">NOTGOOD</a>.</li>
      <li>Maintains Portrait Icon <code><a href="../files/2da/2da_bgee/statdesc.htm#0">Charm</a></code> on the target.</li>
      <li>Effect ends if the creature is attacked by <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a>.</li>
      <li>Target displays "Charmed" string.</li>
    </ul>
  </li>
  <li>
    2 &longrightarrow; Neutral Dire Charm
    <ul>
      <li>Does not alter targets allegiance stat.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm#5">CONTROLLED</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a>.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm#255">ENEMY</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#31">NOTGOOD</a>.</li>
      <li>Maintains Portrait Icon <code><a href="../files/2da/2da_bgee/statdesc.htm#1">Dire Charm</a></code> on the target.</li>
      <li>Effect ends if the creature is attacked by <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a>.</li>
      <li>Target displays "dire charmed" string.</li>
    </ul>
  </li>
  <li>
    3 &longrightarrow; Hostile Dire Charm
    <ul>
      <li>Sets targets allegiance to <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a> if the caster is <a href="../files/ids/bgee/ea.htm#200">EVILCUTOFF</a>.</li>
      <li>Sets targets allegiance to <a href="../files/ids/bgee/ea.htm#200">EVILCUTOFF</a> if the caster is <a href="../files/ids/bgee/ea.htm#199">NOTEVIL</a>.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm#5">CONTROLLED</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a>.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm#255">ENEMY</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#31">NOTGOOD</a>.</li>
      <li>Maintains Portrait Icon <code><a href="../files/2da/2da_bgee/statdesc.htm#1">Dire Charm</a></code> on the target.</li>
      <li>Effect ends if the creature is attacked by <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a>.</li>
      <li>Target displays "dire charmed" string.</li>
    </ul>
  </li>
  <li>
    4 &longrightarrow; Controlled by Cleric
    <ul>
      <li>Sets targets allegiance to <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a> if the caster is <a href="../files/ids/bgee/ea.htm#200">EVILCUTOFF</a>.</li>
      <li>Sets targets allegiance to <a href="../files/ids/bgee/ea.htm#200">EVILCUTOFF</a> if the caster is <a href="../files/ids/bgee/ea.htm#199">NOTEVIL</a>.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm#5">CONTROLLED</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#30">GOODCUTOFF</a>.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm#255">ENEMY</a> on the target if the caster is <a href="../files/ids/bgee/ea.htm#31">NOTGOOD</a>.</li>
      <li>Target displays "turned" string.</li>
    </ul>
  </li>
  <li>
    5 &longrightarrow; Thrull Charm
    <ul>
      <li>Does not alter targets allegiance stat.</li>
      <li>Maintains <a href="../files/ids/bgee/ea.htm#255">ENEMY</a> on the target (regardless of casters Allegience).</li>
      <li>Sets <a href="../files/ids/bgee/stats.htm#149">THRULLCHARM</a> to <code>1</code>.</li>
      <li>Maintains Portrait Icon <code><a href="../files/2da/2da_bgee/statdesc.htm#0">Charm</a></code> on the target.</li>
      <li>Target displays "Charmed" string.</li>
    </ul>
  </li>
  <li>
    1000 &longrightarrow; Neutral Charm (no Feedback)
    <ul>
      <li>Same as <code>0</code>, but target does not display any string.</li>
    </ul>
  </li>
  <li>
    1001 &longrightarrow; Hostile Charm (no Feedback)
    <ul>
      <li>Same as <code>1</code>, but target does not display any string.</li>
    </ul>
  </li>
  <li>
    1002 &longrightarrow; Neutral Domination. Same as <code>2</code>, except:
    <ul>
      <li>Maintains Portrait Icon <code><a href="../files/2da/2da_bgee/statdesc.htm#43">Domination</a></code> on the target.</li>
      <li>Target does not display any string.</li>
    </ul>
  </li>
  <li>
    1003 &longrightarrow; Hostile Domination. Same as <code>3</code>, except:
    <ul>
      <li>Maintains Portrait Icon <code><a href="../files/2da/2da_bgee/statdesc.htm#43">Domination</a></code> on the target.</li>
      <li>Target does not display any string.</li>
    </ul>
  </li>
  <li>
    1004 &longrightarrow; Controlled by Cleric (no Feedback)
    <ul>
      <li>Same as <code>4</code>, but target does not display any string.</li>
    </ul>
  </li>
  <li>
    1005 &longrightarrow; Thrull Charm (no Feedback)
    <ul>
      <li>Same as <code>5</code>, but target does not display any string.</li>
    </ul>
  </li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
If this effect turns a party member hostile, it will disable all of their scripts.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
In EEs, the <code>Dice Thrown</code> parameter can be used to override the maintained <code>EA</code> Value. It is used in all but the first application of the effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op6" class="opcode">
		<span class="opnumberdata">#6 (0x6)</span>

		<span class="opnamedata">Stat: Charisma Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op6">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op6">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Charisma = Charisma + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Charisma = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Charisma = (Charisma * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#42">CHR</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
All games but EEs:
<ul>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type = 0</code> and <code>Statistic Modifier</code> is positive, the statistic will alter and remain shown in white text, and a message 'Charisma raised permanently' will be shown.</li>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>1</code> or <code>2</code>, or <code>Statistic Modifier</code> is negative, the statistic will alter and remain shown in white text, though no message is shown.</li>
	<li>With all other Timing Modes, the statistic will alter and be shown in red text.</li>
</ul>
On EEs:
<ul>
	<li>There's no feedback message about stat being raised permanently in the EE's – it must be done separately with <a href="#op139">opcode #139</a>.</li>
	<li>
		The opcode itself provides no coloring anymore (it's been externalized through "UI.menu")
		<ul>
			<li>An effective value &gt; base value &longrightarrow; <font color="green">green</font>.</li>
			<li>An effective value &lt; base value &longrightarrow; <font color="red">red</font>.</li>
			<li>An effective value &equals; base value &longrightarrow; white/default.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
With <code>Timing Mode</code>s <code>1/4/7</code>, the creature's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x23E">Charisma</a></code> is altered, leaving behind no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Final values are capped to the bound range <code>(0,25)</code> in game (<code>40</code> in IWD2).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op7" class="opcode">
		<span class="opnumberdata">#7 (0x7)</span>

		<span class="opnamedata">Colour: Set Character colours by Palette</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op7">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Gradient Number</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Location</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the colour of the area specified by the <code>Location</code> field, to the <a href="../appendices/colourgradients.htm">colour gradient</a> specified by the <code>Gradient Number</code> field.
<br/>Known values for <code>Location</code> are:
<ul>
	<li>
		0 – 6: Avatar/Armor
		<ul>
			<li>00 &longrightarrow; Belt Buckle (on armour) or amulets (on robes) – entire body for some animations</li>
			<li>01 &longrightarrow; Minor colour</li>
			<li>02 &longrightarrow; Major colour</li>
			<li>03 &longrightarrow; Skin colour</li>
			<li>04 &longrightarrow; Strap colour (on armour) or minor trimming (on robes – the centre strip down a robe and the hem on some robes)</li>
			<li>05 &longrightarrow; Armor colour (and major trimming on robe – cross trim and cape trim on Robe of Archmagi)</li>
			<li>06 &longrightarrow; Hair colour</li>
		</ul>
	</li>
	<li>
		16 – 22: Weapon
		<ul>
			<li>16 &longrightarrow; Quillons or Crossguard</li>
			<li>20 &longrightarrow; Grip (usually not visible as it's in the characters hand)</li>
			<li>21 &longrightarrow; Blade or major portion of weapon</li>
		</ul>
	</li>
	<li>
		32 – 40: Shield
		<ul>
			<li>32 &longrightarrow; Shield hub</li>
			<li>33 &longrightarrow; Shield interior</li>
			<li>34 &longrightarrow; Shield panelling</li>
			<li>37 &longrightarrow; Shield rim</li>
		</ul>
	</li>
	<li>
		48 – 54: Helmet
		<ul>
			<li>48 &longrightarrow; Helm ornamentation – i.e. wings</li>
			<li>49 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>50 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>52 &longrightarrow; Helm face</li>
			<li>53 &longrightarrow; Helm – the main covering</li>
		</ul>
	</li>
	<li>255 &longrightarrow; Whole Body (at least in IWD2 and EEs)</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Other values crash immediately or when opening or manipulating Inventory.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>Each Item Type has 7 slots/locations, corresponding to a different set of Palette indexes that they will replace.</li>
	<li>Near Infinity lists them as Grey, Cyan/Teal, Magenta/Pink, Yellow, Red, Blue, and Green.<br />
		While these colors are arbitrary, they best represent the palette used in animation/paperdoll BAMs by default (before being recolored), so you can look at the BAM file and know which colors will be replaced.
	</li>
	<li>
		<code>0=Grey, 1=Cyan, 2=Magenta, 3=Yellow, 4=Red, 5=Blue, 6=Green</code>.<br />
		<code>+16</code> for weapons, <code>+32</code> for shields, <code>+48</code> for helmets.
	</li>
	<li>The names already listed for some of these locations in IESDP are accurate, as they correspond to their general use in the vanilla game, but all 7 slots can be used for each item, provided their BAM file makes use of them.</li>
	<li>
		Palette indexes will be replaced by the gradient specified for those locations:
		<ul>
			<li>Index 0–3 are reserved for Transparency and Shadows, they are not replaced.</li>
			<li>Index 4–15: Grey</li>
			<li>Index 16–27: Cyan</li>
			<li>Index 28–39: Pink</li>
			<li>Index 40–51: Yellow</li>
			<li>Index 52–63: Red</li>
			<li>Index 64–75: Blue</li>
			<li>
				Index 76–87: Green<br />
				(7 groups of 12 indexes, each exclusive to one location)
			</li>
			<li>Index 88–95: (Grey + Cyan)</li>
			<li>Index 96–103: (Grey + Magenta)</li>
			<li>Index 104–111: (Grey + Yellow)</li>
			<li>Index 112–119: (Grey + Red)</li>
			<li>Index 120–127: (Grey + Blue)</li>
			<li>Index 128–135: (Grey + Green)</li>
			<li>Index 136–143: (Cyan + Magenta)</li>
			<li>Index 144–151: (Cyan + Yellow)</li>
			<li>Index 152–159: (Cyan + Red)</li>
			<li>Index 160–167: (Cyan + Blue)</li>
			<li>Index 168–175: (Cyan + Green)</li>
			<li>Index 176–183: (Magenta + Yellow)</li>
			<li>Index 184–191: (Magenta + Red)</li>
			<li>Index 192–199: (Magenta + Blue)</li>
			<li>Index 200–207: (Magenta + Green)</li>
			<li>Index 208–215: (Yellow + Red)</li>
			<li>Index 216–223: (Yellow + Blue)</li>
			<li>Index 224–231: (Yellow + Green)</li>
			<li>Index 232–239: (Red + Blue)</li>
			<li>Index 240–247: (Red + Green)</li>
			<li>
				Index 248–255: (Blue + Green)<br />
				(21 groups of 8 indexes, each shared by a different combination of two locations)
			</li>
		</ul>
	</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op8" class="opcode">
		<span class="opnumberdata">#8 (0x8)</span>

		<span class="opnamedata">Colour: Change by RGB</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op8">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op8">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op8">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB colour</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Location</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the colour of the area specified by the <code>Location</code> field, to the colour specified by the <code>RGB Colour</code> field.
<br/>The <code>RGB Colour</code> field is handled as follows:
<ul>
	<li>Second byte = Red (<code>0–255</code>)</li>
	<li>Third byte = Green (<code>0–255</code>)</li>
	<li>Fourth byte = Blue (<code>0–255</code>)</li>
</ul>

<br/>Known values for <code>Location</code> are:
<ul>
	<li>
		0 – 6: Avatar/Armor
		<ul>
			<li>00 &longrightarrow; Belt Buckle (on armour) or amulets (on robes) – entire body for some animations</li>
			<li>01 &longrightarrow; Minor colour</li>
			<li>02 &longrightarrow; Major colour</li>
			<li>03 &longrightarrow; Skin colour</li>
			<li>04 &longrightarrow; Strap colour (on armour) or minor trimming (on robes – the centre strip down a robe and the hem on some robes)</li>
			<li>05 &longrightarrow; Armor colour (and major trimming on robe – cross trim and cape trim on Robe of Archmagi)</li>
			<li>06 &longrightarrow; Hair colour</li>
		</ul>
	</li>
	<li>
		16 – 22: Weapon
		<ul>
			<li>16 &longrightarrow; Quillons or Crossguard</li>
			<li>20 &longrightarrow; Grip (usually not visible as it's in the characters hand)</li>
			<li>21 &longrightarrow; Blade or major portion of weapon</li>
		</ul>
	</li>
	<li>
		32 – 40: Shield
		<ul>
			<li>32 &longrightarrow; Shield hub</li>
			<li>33 &longrightarrow; Shield interior</li>
			<li>34 &longrightarrow; Shield panelling</li>
			<li>37 &longrightarrow; Shield rim</li>
		</ul>
	</li>
	<li>
		48 – 54: Helmet
		<ul>
			<li>48 &longrightarrow; Helm ornamentation – i.e. wings</li>
			<li>49 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>50 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>52 &longrightarrow; Helm face</li>
			<li>53 &longrightarrow; Helm – the main covering</li>
		</ul>
	</li>
	<li>255 &longrightarrow; Whole Body (at least in IWD2 and EEs)</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Other values crash immediately or when opening or manipulating Inventory.<br />
See <a href="#op7">opcode #7</a> for further details about this topic.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op9" class="opcode">
		<span class="opnumberdata">#9 (0x9)</span>

		<span class="opnamedata">Colour: Glow Pulse</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op9">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op9">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op9">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB Colour</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Location and Speed</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Pulses the area specified by the <code>Location</code> field, at the rate specified by the <code>Speed</code> field, with the colour specified by the <code>RGB Colour</code> field. If the colour values are all set to <code>0</code>, the glow effect only occurs if the creature is in darkness; outside at night, inside a building, or standing in shadows.
<br/>The <code>RGB Colour</code> field is handled as follows:
<ul>
	<li>Second byte = Red (<code>0–255</code>)</li>
	<li>Third byte = Green (<code>0–255</code>)</li>
	<li>Fourth byte = Blue (<code>0–255</code>)</li>
</ul>

<br/>The <code>Location and Speed</code> field is handled as follows:
<ul>
	<li>First byte = Location</li>
	<li>Third byte = Speed (<code>0–255</code>)</li>
</ul>

<br/>A speed of 0 does not pulsate. A speed of <code>1</code> is fastest, and a speed of <code>255</code> is slowest.

<br/>Known values for <code>Location</code> are:
<ul>
	<li>
		0 – 6: Avatar/Armor
		<ul>
			<li>00 &longrightarrow; Belt Buckle (on armour) or amulets (on robes) – entire body for some animations</li>
			<li>01 &longrightarrow; Minor colour</li>
			<li>02 &longrightarrow; Major colour</li>
			<li>03 &longrightarrow; Skin colour</li>
			<li>04 &longrightarrow; Strap colour (on armour) or minor trimming (on robes – the centre strip down a robe and the hem on some robes)</li>
			<li>05 &longrightarrow; Armor colour (and major trimming on robe – cross trim and cape trim on Robe of Archmagi)</li>
			<li>06 &longrightarrow; Hair colour</li>
		</ul>
	</li>
	<li>
		16 – 22: Weapon
		<ul>
			<li>16 &longrightarrow; Quillons or Crossguard</li>
			<li>20 &longrightarrow; Grip (usually not visible as it's in the characters hand)</li>
			<li>21 &longrightarrow; Blade or major portion of weapon</li>
		</ul>
	</li>
	<li>
		32 – 40: Shield
		<ul>
			<li>32 &longrightarrow; Shield hub</li>
			<li>33 &longrightarrow; Shield interior</li>
			<li>34 &longrightarrow; Shield panelling</li>
			<li>37 &longrightarrow; Shield rim</li>
		</ul>
	</li>
	<li>
		48 – 54: Helmet
		<ul>
			<li>48 &longrightarrow; Helm ornamentation – i.e. wings</li>
			<li>49 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>50 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>52 &longrightarrow; Helm face</li>
			<li>53 &longrightarrow; Helm – the main covering</li>
		</ul>
	</li>
	<li>255 &longrightarrow; Whole Body (at least in IWD2 and EEs)</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Other values crash immediately or when opening or manipulating Inventory.<br />
See <a href="#op7">opcode #7</a> for further details about this topic.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op10" class="opcode">
		<span class="opnumberdata">#10 (0xA)</span>

		<span class="opnamedata">Stat: Constitution Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op10">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op10">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Constitution = Constitution + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Constitution = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Constitution = (Constitution * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#41">CON</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
All games but EEs:
<ul>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type = 0</code> and <code>Statistic Modifier</code> is positive, the statistic will alter and remain shown in white text, and a message 'Constitution raised permanently' will be shown.</li>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>1</code> or <code>2</code>, or <code>Statistic Modifier</code> is negative, the statistic will alter and remain shown in white text, though no message is shown.</li>
	<li>With all other Timing Modes, the statistic will alter and be shown in red text.</li>
</ul>
On EEs:
<ul>
	<li>There's no feedback message about stat being raised permanently in the EE's – it must be done separately with <a href="#op139">opcode #139</a>.</li>
	<li>
		The opcode itself provides no coloring anymore (it's been externalized through "UI.menu")
		<ul>
			<li>An effective value &gt; base value &longrightarrow; <font color="green">green</font>.</li>
			<li>An effective value &lt; base value &longrightarrow; <font color="red">red</font>.</li>
			<li>An effective value &equals; base value &longrightarrow; white/default.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
With <code>Timing Mode</code>s <code>1/4/7</code>, the creature's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x23D">Constitution</a></code> is altered, leaving behind no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Final values are capped to the bound range <code>(0,25)</code> in game (<code>40</code> in IWD2).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op11" class="opcode">
		<span class="opnumberdata">#11 (0xB)</span>

		<span class="opnamedata">Cure: Poison</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes <a href="#op25">opcode #25</a> poison effects and <a href="../files/ids/bgee/state.htm#BIT14">STATE_POISONED</a> from the targeted creature(s).



<div class="note info">
  <div>
    <strong>Info:</strong> 
This effect ignores durations attributed to it.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
At least in EEs, this effect can remove <a href="#op177">opcode #177</a> effects targeting an EFF with <a href="#op25">opcode #25</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op12" class="opcode">
		<span class="opnumberdata">#12 (0xC)</span>

		<span class="opnamedata">HP: Damage</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op12">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="pst.htm#op12">PST</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op12">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Damage Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode &amp; Damage Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Flags</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Damages the target by the value specified by the <code>Damage Amount</code> field, with the damage type specified by the <code>Type</code> field.
<br/>Known values for <code>Mode &amp; Damage Type</code> are:
<br/><br/>

<table border="1" width="98%">
	<colgroup>
		<col width="20%" />
		<col width="20%" />
		<col width="20%" />
	</colgroup>
	<thead>
		<tr>
			<th>Value (hex)</th>
			<th><code>Damage Type</code></th>
			<th><code>Mode</code></th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>0x00000000</td>
			<td>CRUSHING</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00000001</td>
			<td>CRUSHING</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00000002</td>
			<td>CRUSHING</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00000003</td>
			<td>CRUSHING</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00010000</td>
			<td>ACID</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00010001</td>
			<td>ACID</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00010002</td>
			<td>ACID</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00010003</td>
			<td>ACID</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00020000</td>
			<td>COLD</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00020001</td>
			<td>COLD</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00020002</td>
			<td>COLD</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00020003</td>
			<td>COLD</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00040000</td>
			<td>ELECTRICITY</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00040001</td>
			<td>ELECTRICITY</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00040002</td>
			<td>ELECTRICITY</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00040003</td>
			<td>ELECTRICITY</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00080000</td>
			<td>FIRE</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00080001</td>
			<td>FIRE</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00080002</td>
			<td>FIRE</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00080003</td>
			<td>FIRE</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00100000</td>
			<td>PIERCING</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00100001</td>
			<td>PIERCING</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00100002</td>
			<td>PIERCING</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00100003</td>
			<td>PIERCING</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00200000</td>
			<td>POISON</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00200001</td>
			<td>POISON</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00200002</td>
			<td>POISON</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00200003</td>
			<td>POISON</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00400000</td>
			<td>MAGIC</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00400001</td>
			<td>MAGIC</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00400002</td>
			<td>MAGIC</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00400003</td>
			<td>MAGIC</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x00800000</td>
			<td>MISSILE</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x00800001</td>
			<td>MISSILE</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x00800002</td>
			<td>MISSILE</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x00800003</td>
			<td>MISSILE</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x01000000</td>
			<td>SLASHING</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x01000001</td>
			<td>SLASHING</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x01000002</td>
			<td>SLASHING</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x01000003</td>
			<td>SLASHING</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x02000000</td>
			<td>MAGICFIRE</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x02000001</td>
			<td>MAGICFIRE</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x02000002</td>
			<td>MAGICFIRE</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x02000003</td>
			<td>MAGICFIRE</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x04000000</td>
			<td>MAGICCOLD</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x04000001</td>
			<td>MAGICCOLD</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x04000002</td>
			<td>MAGICCOLD</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x04000003</td>
			<td>MAGICCOLD</td>
			<td>Reduce by Percentage</td>
		</tr>

		<tr>
			<th></th>
			<th></th>
			<th></th>
		</tr>

		<tr>
			<td>0x08000000</td>
			<td>STUNNING</td>
			<td>Normal</td>
		</tr>
		<tr>
			<td>0x08000001</td>
			<td>STUNNING</td>
			<td>Set to Value</td>
		</tr>
		<tr>
			<td>0x08000002</td>
			<td>STUNNING</td>
			<td>Set to Percentage</td>
		</tr>
		<tr>
			<td>0x08000003</td>
			<td>STUNNING</td>
			<td>Reduce by Percentage</td>
		</tr>
	</tbody>
</table>

<p>
	The Dice values can be used to inflict varying damage amounts – e.g. <code>2d6</code> would do <code>2–12</code> damage (Damage type is still specified by the <code>Type</code> value).
</p>

<p>
	<code>Damage Amount</code> can be positive or negative (though the damage sound will play in either case).
	<br/>If <code>Damage Amount</code> and the Dice values are both non-zero, the total damage inflicted is: <code>'Damage Amount' + Dice value</code>.
</p>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>STUNNING</code> damage does not stun the target. <code>STUNNING</code> damage cannot kill a creature, creatures are reduced to 1 HP and are knocked unconscious.

  </div>
</div>


<p>
	Useful bit values for <code>Save Type</code> are:
	<ul>
		<li>Bit 24 &longrightarrow; <code><a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0x24_BIT24">Bypass Mirror Image</a></code></li>
		<li>Bit 25 &longrightarrow; <code><a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0x24_BIT25_EE">Ignore difficulty</a></code></li>
	</ul>
</p>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Damage type <code>POISON</code> automatically uses save flag <code>Bypass Mirror Image</code>.

  </div>
</div>


<br/><br/>Known bit values for <code><a name="op12_flags">Flags</a></code> are:
<ul>
	<li>Bit 0 &longrightarrow; Drain HP to caster (cumulative)</li>
	<li>Bit 1 &longrightarrow; As bit 0 but caster and target are reversed (cumulative)</li>
	<li>Bit 2 &longrightarrow; Fist damage only (source has to have fists equipped, delays later effects)</li>
	<li>Bit 3 &longrightarrow; Drain HP to caster (non-cumulative)</li>
	<li>Bit 4 &longrightarrow; As bit 3 but caster and target are reversed (non-cumulative)</li>
	<li>Bit 5 &longrightarrow; Suppress combat log feedback string</li>
	<li>Bit 6 &longrightarrow; Damage inflicted is limited to amount available by target (checks <a href="../files/ids/bgee/stats.htm#83">MINHITPOINTS</a> and works in reverse if bits 1 or 4 are set)</li>
	<li>Bit 7 &longrightarrow; Damage inflicted is limited to the caster's <code>(<a href="../files/ids/bgee/stats.htm#1">MAXHITPOINTS</a> - <a href="../files/ids/bgee/stats.htm#0">CURRENTHP</a>)</code> (works in reverse if bits 1 or 4 are set)</li>
	<li>Bit 8 &longrightarrow; Save for half</li>
	<li>Bit 9 &longrightarrow; Fail for half: A failed (or lack of) saving throw results in half damage.</li>
	<li>Bit 10 &longrightarrow; Does not wake sleepers</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		Bits 0, 1, 3, and 4 are mutually exclusive, while bits 6 and 7 do not require any of the HP drain bits to be set to function.
		<ul>
			<li>However, bits 6 and 7 are often used together to achieve desired HP drain behavior. For instance, bit7 in conjunction with bit1 is used in IWD:EE/SoD's "Shadow Pact" ability (<code>"SPIN195.spl"</code>/<code>"BDSHPACT.spl"</code>) for shadows to prevent them from inflicting more damage on reverse HP drain than necessary to heal them to normal max HP.</li>
		</ul>
	</li>
	<li>
		In all cases, HP drain now only increases maximum HP if the character is at full health and there are extra HP remaining from the drain, which can happen even during the drain. Current HP gained is always cumulative (bits 0,1,3,4) if the caster is injured. Extra HP gained by non-cumulative HP drain (bits 3,4) may still coexist on the same creature. This means that the caster can still benefit from lower HP drain if the effect expires later than the higher HP drain effect.
	</li>
	<li>
		Example: The caster at 3/4 HP can increase his/her HP to 7/7 with one casting of Larloch's Minor Drain (if 4 is rolled) and 8/8 with another casting if 4 is rolled again, otherwise nothing seems to happen despite the damage inflicted. The caster may further benefit with additional castings if injured, but cannot go beyond 8/8 HP. This all assumes there is sufficient HP to drain (since bit 6 is now set in <code>"SPWI119.spl"</code>).
	</li>
	<li>
		Extra maximum HP effects carried on the creature now have their <code>mschool</code>, <code>msectype</code>, <code>resource</code>, <code>resist_dispel</code>, <code>dispel_level</code> etc properly set. See <a href="#op18">opcode #18</a> for how non-cumulative HP gain is stored.
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
If this effect reduces target to <code>-20</code> (Allegiance: <a href="../files/ids/bgee/ea.htm#2">PC</a>) or <code>-9</code> (any other Allegiance value) hit points, it also applies <a href="#op13">opcode #13</a> of the specified type:
<ul>
	<li><code>CRUSHING</code>/<code>SLASHING</code>/<code>PIERCING</code>: Exploding Death</li>
	<li><code>ACID</code>/Unlisted: Acid Death</li>
	<li><code>COLD</code>/<code>MAGICCOLD</code>: Frozen Death</li>
	<li><code>FIRE</code>/<code>MAGICFIRE</code>: Burning Death</li>
	<li><code>ELECTRICITY</code>: Electrified Death</li>
	<li><code>MAGIC</code>/<code>MISSILE</code>/<code>POISON</code>: Normal Death</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Just in case anyone is doing UI feedback text replacement, these are the hex colors for the various damage types:<br />
<code>^0xaabbggrr</code> (<code>aa</code> = alpha/transparency, <code>bb</code> = Blue, <code>gg</code> = Green, <code>rr</code> = Red)

<ul>
	<li><code>CRUSHING</code>, <code>SLASHING</code>, <code>PIERCING</code>, <code>MISSILE</code>, <code>STUNNING</code>: <code>0xffbed7d7</code></li>
	<li><code>POISON</code>: <code>0xff76e4c7</code></li>
	<li><code>FIRE</code>, <code>MAGICFIRE</code>: <code>0xff002a9c</code></li>
	<li><code>COLD</code>, <code>MAGICCOLD</code>: <code>0xffffbf00</code></li>
	<li><code>ELECTRICITY</code>: <code>0xfffff97d</code></li>
	<li><code>ACID</code>: <code>0xff19bba8</code></li>
	<li><code>MAGIC</code>: <code>0xff00d7ff</code></li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op13" class="opcode">
		<span class="opnumberdata">#13 (0xD)</span>

		<span class="opnamedata">Death: Instant Death</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op13">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op13">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op13">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Text Notification</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Death Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Instantly kills the targeted creature(s), in the style specified by the <code>Death Type</code> value.
<br/>Known values for <code>Text Notification</code> are:
<ul>
  <li>0 &longrightarrow; Show death message</li>
  <li>1 &longrightarrow; Don't show death message</li>
</ul>
<br />

<br/>Known values for <code>Death Type</code> are:
<ul>
  <li>0 &longrightarrow; Acid death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT10">STATE_ACID_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a></li>
      <li>Kicked from party, drops inventory</li>
    </ul>
  </li>

  <li>1 &longrightarrow; Burning death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT9">STATE_FLAME_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a></li>
      <li>Character Tint Solid, character color ~[0x00404040] (Darkens avatar)</li>
      <li>Kicked from party, drops inventory</li>
    </ul>
  </li>

  <li>2 &longrightarrow; Crushed death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT8">STATE_EXPLODING_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a></li>
      <li>Kicked from party, drops inventory</li>
    </ul>
  </li>

  <li>4 &longrightarrow; Normal death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a></li>
      <li>Drops inventory</li>
    </ul>
  </li>

  <li>8 &longrightarrow; Chunked death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT8">STATE_EXPLODING_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a></li>
      <li>Sets ANIMATE[0x230][EXPLODING_TORSO]</li>
      <li>Plays sound ("GORE.WAV")/("GORE2.WAV")</li>
      <li>Kicked from party, drops inventory, sets all color indexes to 70</li>
    </ul>
  </li>

  <li>16 &longrightarrow; Stoned death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT7">STATE_STONE_DEATH</a></li>
      <li>Any hostile action against the creature(s) applies an Exploding Stoned Death to them</li>
      <li>Kicked from party, retains inventory, overlay's color index 72</li>
    </ul>
  </li>

  <li>32 &longrightarrow; Freezing death
    <ul>
      <li>Applies Exploding Freezing Death to the target with a (random) 0-5 second delay</li>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT6">STATE_FROZEN_DEATH</a></li>
      <li>Any hostile action against the creature applies an Exploding Freezing Death to the target</li>
      <li>Kicked from party, retains inventory, overlay's color index 71</li>
    </ul>
  </li>

  <li>64 &longrightarrow; Exploding stoned death/Level Drain death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT8">STATE_EXPLODING_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a></li>
      <li>Sets <code>ANIMATE[0x100][CHUNKS]</code></li>
      <li>Kicked from party, retains inventory, sets all color indexes to 72</li>
    </ul>
  </li>

  <li>128 &longrightarrow; Exploding freezing death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT8">STATE_EXPLODING_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a></li>
      <li>Sets <code>ANIMATE[0x100][CHUNKS]</code></li>
      <li>Kicked from party, retains inventory, sets all color indexes to 71</li>
    </ul>
  </li>

  <li>256 &longrightarrow; Electrified death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT9">STATE_FLAME_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a></li>
      <li>Character Tint Solid, character color ~[0x00404040] (Darkens avatar)</li>
      <li>Kicked from party, drops inventory</li>
    </ul>
  </li>

  <li>512 &longrightarrow; Disintegration death
    <ul>
      <li>Sets <a href="../files/ids/bgee/state.htm#BIT8">STATE_EXPLODING_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a></li>
      <li>Sets <code>ANIMATE[0x100][CHUNKS]</code></li>
      <li>Kicked from party, retains inventory, sets all color indexes to 72</li>
    </ul>
  </li>

  <li>1024 &longrightarrow; Destruction (in IWD2)
    <ul>
      <li>Sets STATE_EXPLODING_DEATH (0x00000100), STATE_DEAD (0x00000800)</li>
      <li>Sets <code>ANIMATE[0x230][EXPLODING_TORSO]</code></li>
      <li>Plays sound ("GORE.WAV")/("GORE2.WAV")</li>
      <li>Kicked from party, retains inventory, sets all color indexes to 70</li>
    </ul>
  </li>

  <li>Other
    <ul>
      <li>Removes all death states, but does not restore HP</li>
      <li>Drops inventory</li>
    </ul>
  </li>

  <li>Any &longrightarrow; Removes death states that they do not set (e.g, a normal Death will remove <a href="../files/ids/bgee/state.htm#BIT6">STATE_FROZEN_DEATH</a>).</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op14" class="opcode">
		<span class="opnumberdata">#14 (0xE)</span>

		<span class="opnamedata">Graphics: Defrost</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op14">PST</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes <a href="../files/ids/bgee/state.htm#BIT6">STATE_FROZEN_DEATH</a> from the targeted creatures and restores them to 1 HP. Does not affect creatures without <a href="../files/ids/bgee/state.htm#BIT6">STATE_FROZEN_DEATH</a>.
 </div>
		<hr />

	</div>

	<div id="op15" class="opcode">
		<span class="opnumberdata">#15 (0xF)</span>

		<span class="opnamedata">Stat: Dexterity Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op15">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op15">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op15">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Dexterity = Dexterity + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Dexterity = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Dexterity = (Dexterity * 'Statistic Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Cat's Grace (EE only)</li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#40">DEX</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
All games but EEs:
<ul>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>0</code> and <code>Statistic Modifier</code> is positive, the statistic will alter and remain shown in white text, and a message 'Dexterity raised permanently' will be shown.</li>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>1</code> or <code>2</code>, or <code>Statistic Modifier</code> is negative, the statistic will alter and remain shown in white text, though no message is shown.</li>
	<li>With all other Timing Modes, the statistic will alter and be shown in red text.</li>
</ul>
On EEs:
<ul>
	<li>There's no feedback message about stat being raised permanently in the EE's – it must be done separately with <a href="#op139">opcode #139</a>.</li>
	<li>
		The opcode itself provides no coloring anymore (it's been externalized through "UI.menu")
		<ul>
			<li>An effective value &gt; base value &longrightarrow; <font color="green">green</font>.</li>
			<li>An effective value &lt; base value &longrightarrow; <font color="red">red</font>.</li>
			<li>An effective value &equals; base value &longrightarrow; white/default.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type=3</code>:
<ul>
	<li><code>Statistic Modifier</code> is unused: it uses the value listed in <a href="../files/2da/2da_bgee/clssplab.htm">CLSSPLAB.2da</a> for the creature's base class, or defaults to <code>1</code> if the file isn't present (it only exists by default in IWDEE).</li>
	<li>
		A single instance of this opcode (using <code>Type=3</code>) cannot raise Dexterity above 20 (hardcoded), but multiple instances of it can.
		<ul>
			<li>This is because it only checks the limit against the creature's base score, not its effective score.</li>
		</ul>
	</li>
	<li>Like the other modes, applying the effect with Timing Mode 1 will affect the creature's base stat, leaving no removable effect.</li>
	<li>Once applied to a creature, <code>Statistic Modifier</code> will store the exact DEX increase granted (only useful for lookup/editing through EEkeeper/NI).</li>
	<li>
		When you apply this effect in an External <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>, (via <a href="#op177">op177</a> / <a href="#op283">op283</a>):
		<ul>
			<li><code>Parameter1</code> in the EFF will determine the exact Dexterity increase (so it must be set manually, and ignores any limit).</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
With <code>Timing Mode</code>s <code>1/4/7</code>, the creature's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x23C">Dexterity</a></code> is altered, leaving behind no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Final values are capped to the bound range <code>(0,25)</code> in game (<code>40</code> in IWD2).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op16" class="opcode">
		<span class="opnumberdata">#16 (0x10)</span>

		<span class="opnamedata">State: Haste</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op16">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the Haste effect, in the style specified by the <code>Type</code> value.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Normal Haste – double the movement rate and grants an additional Attack Per Round (APR), rounded down (capped at <code>6</code>)</li>
	<li>1 &longrightarrow; Improved Haste – double the movement rate and doubles APR (capped at <code>10</code>)</li>
	<li>2 &longrightarrow; Weak Haste – Speed haste without attack bonuses, round APR up (capped at <code>5</code>)</li>
</ul>

<br/><br/>All of them set <a href="../files/ids/bgee/state.htm#BIT15">STATE_HASTED</a>. <code>Improved/Weak</code> function by setting an additional <code>STAT</code> value, which modifies the behavior of <a href="../files/ids/bgee/state.htm#BIT15">STATE_HASTED</a>:
<ul>
	<li><a href="../files/ids/bgee/stats.htm#155">IMPROVEDHASTE</a>.</li>
	<li><a href="../files/ids/bgee/stats.htm#185">ANIMATION_ONLY_HASTE</a>.</li>
</ul>

<p>
The <code>Normal</code> and <code>Improved</code> haste types grant a <code>-2</code> initiative (Weapon Speed) bonus. All types:
<ul>
	<li>grant portrait icons (<code><a href="../files/2da/2da_bgee/statdesc.htm#38">Haste</a></code> / <code><a href="../files/2da/2da_bgee/statdesc.htm#110">Improved Haste</a></code>)</li>
	<li>increase the creature's animation speed and the animation speed of <a href="#op140">opcode 140</a> effects</li>
	<li>halve the creature's round timer used by attacks, modal abilities and "Auto-Pause: End of Round"</li>
	<li>increase frequency of application of <a href="#op25">poison</a>, <a href="#op78">disease</a>, <a href="#op98">regeneration</a>, <a href="#op232">Cast on Condition</a> and <a href="#op272">Use EFF File (at Frequency)</a>, but not below <code>1s</code></li>
</ul>
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
This effect will cancel out the <a href="#op40">slow opcode</a>.

  </div>
</div>




<div class="note warning">
  <div>
    <strong>Warning:</strong> 
BG1 only supports haste type <code>0</code>.<br /><br />
This opcode will set the <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT15">STATE_HASTED</a></code> flag and nothing else when applied with <code>Timing Mode 1</code>, and cannot be removed within the game by any means, only suppressed by <a href="#op40">Slow</a>.<br />
This only works when applying <code>Normal/Improved</code> haste (there’s no difference, since the <code>STAT</code> for <code>Improved</code> haste doesn’t get set this way), <code>Weak</code> haste does not do anything with <code>Timing Mode 1</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op17" class="opcode">
		<span class="opnumberdata">#17 (0x11)</span>

		<span class="opnamedata">HP: Current HP Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op17">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op17">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>HP = HP + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>HP = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>HP = (HP * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><br/><code>Statistic Modifier</code> can be positive or negative.



<div class="note info">
  <div>
    <strong>Note:</strong> 
If <code>Statistic Modifier</code> and the Dice values are both non-zero, the total HP change is: <code>'Statistic Modifier' + Dice value</code>.

  </div>
</div>


<br/><br/>The upper word of the <code>Type</code> field can further control the style.
<br/>Known values for the upper word of <code>Type</code> are:
<ul>
	<li>BIT0 &longrightarrow; Raise dead</li>
	<li>BIT1 &longrightarrow; Remove all effects with a limited Timing Mode (<code>not equipped(2)</code> or <code>permanent(9)</code>), but also any <a href="../file_formats/ie_formats/itm_v1.htm">ITM</a> in the <code><a href="../files/ids/bgee/slots.htm#34">Magical Weapon Slot</a></code>.</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
Unlike <a href="#op12">opcode #12</a>, this opcode does not apply any death effect (<a href="#op13">opcode #13</a>) to the creature if it reduces their hit points to zero or less. The creature will remain in a bugged state (no HP but not dead) until they take further damage, or the game is saved &amp; reloaded, at which point they will die properly.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op18" class="opcode">
		<span class="opnumberdata">#18 (0x12)</span>

		<span class="opnamedata">HP: Maximum HP Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Mode</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>HP = HP + 'Statistic Modifier' value</code> (affects current and max HP)</li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>HP = 'Statistic Modifier' value</code> (affects current and max HP)</li>
	<li>2 &longrightarrow; Percentage Modifier: <code>HP = (HP * 'Statistic Modifier' value) / 100</code> (affects current and max HP)</li>
	<li>3 &longrightarrow; As <code>0</code> (does not affect current HP)</li>
	<li>4 &longrightarrow; As <code>1</code> (does not affect current HP)</li>
	<li>5 &longrightarrow; As <code>2</code> (does not affect current HP)</li>
	<li>6 &longrightarrow; Non-cumulative Modifier: <code>HP = HP + 'Statistic Modifier' value</code> (affects current and max HP) (EE only)</li>
</ul>

<br/><br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Normal: Effect functions as dictated by the <code>Type</code> field.</li>
	<li>
		1 &longrightarrow; Do not update current HP.
		<ul>
			<li>This value is set automatically once the effect has been initially processed on a creature.</li>
			<li>For normal operation, the special field MUST be zero.</li>
		</ul>
	</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
To differentiate non-cumulative HP gain from other forms of HP gain, <code>Type</code> is set internally to <code>6</code>. As mentioned <a href="#op12_flags">here</a>, multiple effects of <code>Type=6</code> can be carried by the creature at the same time and only the largest value is used when calculating extra HP. Hence the term <i>“noncumulative coexisting”</i>. This functionality doesn’t interact with other forms (<code>Type != 6</code>) of HP gain, and cumulative HP drain doesn’t use <code>Type=6</code>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
For non-permanent timing modes of <code>Type</code> <code>2</code> or <code>5</code> use the base maximum HP value, and therefore override other <code>Type</code> <code>2</code> or <code>5</code> modifiers.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
If <code>Statistic Modifier</code> and the Dice values are both non-zero, the total HP change is: <code>'Statistic Modifier' + Dice value</code>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>Maximum HP cannot be reduced below a creature's level/HD (average level rounded up for multiclasses).</li>
	<li>It is still able to reduce current HP below the creature's level/HD, and has the same bugged death as <a href="#op17">opcode #17</a> if it reduces a creature to zero or less HP.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op19" class="opcode">
		<span class="opnumberdata">#19 (0x13)</span>

		<span class="opnamedata">Stat: Intelligence Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op19">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Intelligence = Intelligence + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Intelligence = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Intelligence = (Intelligence * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#38">INT</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
All games but EEs:
<ul>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>0</code> and <code>Statistic Modifier</code> is positive, the statistic will alter and remain shown in white text, and a message 'Intelligence raised permanently' will be shown.</li>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>1</code> or <code>2</code>, or <code>Statistic Modifier</code> is negative, the statistic will alter and remain shown in white text, though no message is shown.</li>
	<li>With all other Timing Modes, the statistic will alter and be shown in red text.</li>
</ul>
On EEs:
<ul>
	<li>There's no feedback message about stat being raised permanently in the EE's – it must be done separately with <a href="#op139">opcode #139</a>.</li>
	<li>
		The opcode itself provides no coloring anymore (it's been externalized through "UI.menu")
		<ul>
			<li>An effective value &gt; base value &longrightarrow; <font color="green">green</font>.</li>
			<li>An effective value &lt; base value &longrightarrow; <font color="red">red</font>.</li>
			<li>An effective value &equals; base value &longrightarrow; white/default.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
With <code>Timing Mode</code>s <code>1/4/7</code>, the creature's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x23A">Intelligence</a></code> is altered, leaving behind no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Final values are capped to the bound range <code>(0,25)</code> in game (<code>40</code> in IWD2).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op20" class="opcode">
		<span class="opnumberdata">#20 (0x14)</span>

		<span class="opnamedata">State: Invisibility</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op20">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op20">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op20">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op20">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the invisibility effect, in the style specified by the <code>Type</code> value.
<br/><br/>

Known values for <code>Type</code> are:
<ul>
	<li>
		0 &longrightarrow; Normal Invisibility
		<ul>
			<li>Grants a <code>+4</code> bonus to melee attacks only.</li>
			<li>Applying <code>Normal</code> Invisibility with <code>Timing Mode</code>s other than <code>1/4/7</code> in an external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> through <a href="#op183">opcode #183</a> will NOT terminate early due to hostile/aggressive action (similar to the constant invisibility provided by Mislead). Applying the same through <a href="#op177">opcode #177</a> or <a href="#op283">opcode #283</a> DOES terminate due to hostile/aggressive action as normal.</li>
			<li>Applying <code>Normal</code> Invisibility with <code>Timing Mode</code>s <code>1/4/7</code> will set the creature's base state <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT4">STATE_INVISIBLE</a></code>, while still leaving behind a removable (but irrelevant) effect. This state is not cleared on death, but it is still terminated by any hostile/aggressive action that would normally terminate invisibility.</li>
		</ul>
	</li>
	<li>
		1 &longrightarrow; Improved Invisibility
		<ul>
			<li>Affected creature stays invisible after attack.</li>
			<li>Does not provide saving throw bonuses outside EEs, where it provides a bonus of <code>4</code> to all.</li>
			<li>Lingers after the duration is spent and act as permanent if used as a 'While Equipped' effect.</li>
			<li>Applying <code>Improved</code> Invisibility will cause the effect to be duplicated, with the duplicate using <code>Normal</code> invisibility. There's no reason to apply both <code>Normal</code> and <code>Improved</code> invisibility in the same spell/item (unless you want them to have different probabilities/hd limits).</li>
			<li>Applying <code>Improved</code> Invisibility with <code>Timing Mode</code>s <code>1/4/7</code> will set the creature's base state <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT22">STATE_IMPROVEDINVISIBILITY</a></code>, and because it duplicates itself as <code>Normal</code> invisibility, <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT4">STATE_INVISIBLE</a></code> as well, while still leaving behind a removable (but irrelevant) effect for each. These states are not cleared on death.</li>
			<li>The effects that remain when setting the base <code>STATE</code>s are irrelevant, at least in-game, because everything that can remove the <code>STATE</code>s will also remove the effect. The <code>STATE</code>s can however be removed separately through NI or EEkeeper, at which point the effect will once again reapply its <code>STATE</code> immediately upon loading the game.</li>
		</ul>
	</li>
	<li>
		2 &longrightarrow; Weak Invisibility (EE only)
		<ul>
			<li>It's the same type of invisibility as <code>Improved</code> Invisibility after you take a hostile action and reveal yourself.</li>
			<li>Applying "Weak" Invisibility with <code>Timing Mode</code>s <code>1/4/7</code> will function no differently than <code>Timing Mode 0</code>, aside from having no natural expiration timer.</li>
			<li>Applying "Weak" Invisibility is otherwise the same as <code>Improved</code> Invisibility, except it doesn't duplicate itself with a <code>Normal</code> version, which is why it doesn't quality for backstabs.</li>
		</ul>
	</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
Any attack a character makes while invisible will ignore the target’s AC dexterity bonus (see <code><a href="../files/2da/2da_bgee/dexmod.htm">dexmod.2da</a></code>)
<br /><br />

To be exact, the attack must follow these rules:
<ol>
	<li>Attacker must have a backstab multiplier of <code>2</code> or higher (see <code><a href="../files/2da/2da_bgee/backstab.htm">backstab.2da</a></code>)</li>
	<li>Attacker must be <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT4">STATE_INVISIBLE</a></code></li>
	<li>Attacker's weapon must <u>not</u> be <code><a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x0_2">RANGED</a></code></li>
</ol>
<code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x273">Class</a></code> / <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x244">Kit</a></code> doesn’t matter, <code><a href="../files/2da/2da_bgee/sneakatt.htm">sneakatt.2da</a></code> doesn’t matter (even though the backstab multiplier isn’t used to calculate damage under “Game Option: 3E Sneak Attack”, the creature still has its multiplier calculated / assigned), weapon backstab suitability doesn’t matter.
<br /><br />

<details>
	In the following example:
	<ul>
		<li>Attacking character <code>THAC0 &equals; 17</code></li>
		<li>Attacked character <code>AC &equals; 0</code>, (dexterity contributing <code>-4</code> bonus)</li>
	</ul>
	The thief's attack only requires a total roll of <code>13</code> to hit, even though a roll of <code>17</code> is required normally:
	<details>
		<video width="960" height="600" controls="" autoplay="" loop=""> <!-- 16:10 aspect ratio -->
			<source src="../images/thief attacking while invisible.mp4" type="video/mp4" />
			Your browser does not support the video tag.
		</video>
	</details>
	<br />

	<b>However, this mechanic isn't implemented properly...</b>
	<br /><br />

	If the attacked character has a <i>penalty</i> to AC due to dexterity, they will be harder to hit while being attacked under the above conditions.<br />
	In the following example:
	<ul>
		<li>Attacking character <code>THAC0 &equals; 17</code></li>
		<li>Attacked character <code>AC &equals; 9</code>, (dexterity contributing <code>+5</code> penalty)</li>
	</ul>
	The thief's attack should only require a total roll of <code>8</code> to hit, though a roll of <code>13</code> is now required:
	<details>
		<video width="960" height="600" controls="" autoplay="" loop=""> <!-- 16:10 aspect ratio -->
			<source src="../images/thief attacking while invisible - bug.mp4" type="video/mp4" />
			Your browser does not support the video tag.
		</video>
	</details>
</details>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The “Stealth” modal ability of Thieves/Rangers/Monks applies this effect with the following values:
<ul>
	<li><code>Parameter1 = 1</code> (unknown if any purpose)</li>
	<li><code>Parameter2 = 0</code></li>
	<li><code>Duration = 20</code></li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Creatures attacking an invisible creature suffer a <code>-4</code> penalty to hit, unless they are affected by <a href="#op193">opcode #193</a>. Moreover, you cannot target an <code>improved</code>/<code>weak</code> invisible creature with spells unless you’re affected by <a href="#op193">opcode #193</a> or the spell <a href="../file_formats/ie_formats/spl_v1.htm#Header_Flags_BIT24">can target invisible creatures</a>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode itself just sets or maintains (with a duration) the relevant STATEs. Everything else is a feature of <a href="../files/ids/bgee/state.htm#BIT4">STATE_INVISIBLE</a> and/or <a href="../files/ids/bgee/state.htm#BIT22">STATE_IMPROVEDINVISIBILITY</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op21" class="opcode">
		<span class="opnumberdata">#21 (0x15)</span>

		<span class="opnamedata">Stat: Lore Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op21">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Lore = Lore + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Lore = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Lore = (Lore * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#25">LORE</a>.



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
This effect does not work with <code>Timing Mode 1</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op22" class="opcode">
		<span class="opnumberdata">#22 (0x16)</span>

		<span class="opnamedata">Stat: Cumulative Luck Bonus</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op22">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field. Luck affects the minimum damage caused by a weapon (up to the normal maximum damage of the weapon) and the attack roll modifier (up to a maximum of 20, excluding natural attack roll modifiers, e.g. high STR, invisibility etc) by <code>Statistic Modifier</code> amount. <code>Statistic Modifier</code> also affects the damge rolls of opponents (in feature blocks, not extension headers). The effect does not set <a href="../files/ids/bgee/state.htm#BIT26">STATE_LUCK</a>.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Luck = Luck + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Luck = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Luck = (Luck * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
Effects of Luck:
<ul>
	<li>Modifies a creature's weapon damage die rolls (up/down to its maximum/minimum).</li>
	<li>Modifies a creatures's attack roll <code>[1d20]</code> (up/down to its maximum/minimum).</li>
	<li>Modifies non-weapon damage die rolls dealt to the creature (up/down to its maximum/minimum).</li>
	<li>Modifies a creatures's initiative roll <code>[1d6 - 4]</code> for weapon attacks (up/down to its maximum/minimum). See <a href="#op190">opcode #190</a> for further details about weapon/attack speed.</li>
	<li>Modifies a creatures's initiative roll <code>[1d8 - 1]</code> for movement (up/down to its maximum/minimum).</li>
	<li>Modifies a creatures's skill roll <code>[1d100]</code> for Hiding in Shadows (up/down to its maximum/minimum).</li>
	<li>Modifies a creatures's skill roll <code>[1d100]</code> for Set Traps (up/down to its maximum/minimum).</li>
	<li>Modifies a creatures's skill roll <code>[1d10]</code> for Open Locks (up/down to its maximum/minimum).</li>
	<li>Modifies a creatures's skill roll <code>[1d10]</code> for Bash Doors (up/down to its maximum/minimum).</li>
	<li>Modifies a creatures's skill roll <code>[1d10]</code> for Disarm Trap (up/down to its maximum/minimum).</li>
	<li>Modifies the chance for a Mirror Image to be struck, <code>chance = ('number of images' + 'Statistic Modifier') / ('number of images' + 1)</code>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Here’s more info about <i>initiative roll for movement</i>:
<ul>
	<li>
		Apparently, there is intentionally a random wait time between when a creature attempts to move to another creature, and when they will actually start pathing. Luck helps with this...<br />
		<code>Wait Time = 0, when roll = 0</code><br />
		<code>Wait Time = (8 - roll), when roll != 0</code>
	</li>
	<li>The natural roll range is <code>[0,7]</code>, but like many other rolls Luck alters this slightly. For every point in Luck the highest bound of the roll is converted into the lower bound.</li>
	<li>So with <code>1</code> Luck the roll becomes <code>[0,6]</code>, with <code>0</code> having a probability of 25&percnt; instead of 12.5&percnt;. Negative luck works the same, but in reverse.</li>
	<li>
		<code>1</code> is the worst roll you can get, yet it is neither of the extremes. So, <code>-1</code> Luck is bad because it prevents you from bypassing the wait time, (rolling a <code>0</code>), but <b>if Luck must be negative, the lower the better</b>.
		<ul>
			<li><code>Luck = "-1"</code>: Worst roll possible is a <code>1</code>, you will be waiting for 7 AI updates (or, if you prefer, <small><sup>7</sup>&frasl;<sub>15</sub></small>ths of a second).</li>
			<li><code>Luck = "-7"</code>: Worst roll possible is a <code>7</code>, you will be waiting for 1 AI update (or, if you prefer, <small><sup>1</sup>&frasl;<sub>15</sub></small>th of a second)!!</li>
		</ul>
	</li>
	<li>Positive Luck will always increase the likelihood of instantaneous pathing.</li>
	<li>Note that this wait time is only applied to creature-to-creature pathing, and never to on-the-ground destinations.</li>
	<li>Also, every creature rolls for their own delay when they go to target a creature.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op23" class="opcode">
		<span class="opnumberdata">#23 (0x17)</span>

		<span class="opnamedata">Stat: Morale Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op23">BG2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Mode</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Morale = Morale + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Morale = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Morale = (Morale * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>At least in EEs, known values for <code>Mode</code> are:
<ul>
	<li>
    0 &longrightarrow; BG2 mode – It's hardcoded to fill the following values:
    <ul>
      <li><code>Statistic Modifier = 10</code></li>
      <li><code>Type = 1</code></li>
      <li><code>m_done = 1</code> (internal field that immediately removes the effect from creature, no matter <code>duration</code>)</li>
      <li>In addition, it checks if the creature is berserking, and if it is, it returns without doing anything.</li>
    </ul>
  </li>
	<li>1 &longrightarrow; BG1 mode – Default (functions as expected)</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Any Morale-based effect (i.e. Panic) may be added or removed by this effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op24" class="opcode">
		<span class="opnumberdata">#24 (0x18)</span>

		<span class="opnamedata">State: Horror</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op24">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the horror effect to the targeted creature(s) in the style specified by the <code>Type</code> field, which is suspected to be an EE extension. It sets the STATE_PANIC state.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Default</li>
	<li>Non-zero &longrightarrow; Bypass <a href="#op101">opcode #101</a> (Immunity to effect)</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op25" class="opcode">
		<span class="opnumberdata">#25 (0x19)</span>

		<span class="opnamedata">State: Poison</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op25">BG1</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op25">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op25">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op25">PST</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op25">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount_1</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Amount_2</span><br />
		
		
			<span class="parameterheading">Parameter #4:</span> <span class="parameterdata">Frequency Multiplier</span><br />
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Icon</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Damages the target by a certain amount, in the style specified by the <code>Type</code> field. It sets the STATE_POISONED state.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>
		0 &longrightarrow; Inflict 1 HP per second
		<ul>
			<li><code>Amount_2</code> and <code>Frequency Multiplier</code> are ignored – <code>Amount_1</code> needs to be non-zero</li>
		</ul>
	</li>
	<li>1 &longrightarrow; Inflict 1 HP per second
		<ul>
			<li>for best results, leave <code>Amount_2</code> and <code>Frequency Multiplier</code> at <code>0</code>, <code>Amount_1</code> between <code>1</code> and <code>101</code></li>
		</ul>
	</li>
	<li>2 &longrightarrow; Deal <code>Amount_1</code> damage every <code>Frequency Multiplier</code> second(s)</li>
	<li>3 &longrightarrow; Deal one damage every <code>'Amount_1' * 'Frequency Multiplier' second(s)</code></li>
	<li>4 &longrightarrow; Deal <code>Amount_2</code> damage every <code>'Amount_1' * 'Frequency Multiplier' second(s)</code> – This is the only one that must be in external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files</li>
	<li>5+ &longrightarrow; Crash</li>
</ul>

<p>
	<code>Icon</code> defines the index from <a href="../files/2da/2da_bgee/statdesc.htm">STATDESC.2DA</a> for custom portrait icons. Default value is <code><a href="../files/2da/2da_bgee/statdesc.htm#6">Poisoned</a></code>.
</p>



<div class="note important">
  <div>
    <strong>Important:</strong> 
The Damage Amount parameters should be set to a positive value.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
If <code>Frequency Multiplier = 0</code>, its value is treated as <code>1</code>. This is the default value for SPL/ITM effects.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
When the effect is NOT attached through <a href="#op177">opcode #177</a>, <code>Frequency Multiplier</code> will be replaced when using <a href="#op329">opcode #329</a> (Slow Poison) – not necessarily “slow” though, as it can increase or decrease the frequency.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
When the <code>Type</code> field is <code>1</code>:
<ul>
	<li>if the <code>Frequency Multiplier</code> field is non-zero, damage is always dealt.</li>
	<li>if the <code>Amount_1</code> field is less than <code>256</code>, damage is dealt while <code>HP &gt;= 100 / 'Amount_1'</code>.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op26" class="opcode">
		<span class="opnumberdata">#26 (0x1A)</span>

		<span class="opnamedata">Item: Remove Curse</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op26">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes <code><a href="../file_formats/ie_formats/itm_v1.htm#Header_Flags_BIT4">Cursed</a></code> items in addition to all <a href="#op283">opcode #283</a> effects from the targeted creature(s).
 </div>
		<hr />

	</div>

	<div id="op27" class="opcode">
		<span class="opnumberdata">#27 (0x1B)</span>

		<span class="opnamedata">Stat: Acid Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op27">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#17">RESISTACID</a>.
 </div>
		<hr />

	</div>

	<div id="op28" class="opcode">
		<span class="opnumberdata">#28 (0x1C)</span>

		<span class="opnamedata">Stat: Cold Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op28">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#15">RESISTCOLD</a>.
 </div>
		<hr />

	</div>

	<div id="op29" class="opcode">
		<span class="opnumberdata">#29 (0x1D)</span>

		<span class="opnamedata">Stat: Electricity Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op29">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#16">RESISTELECTRICITY</a>.
 </div>
		<hr />

	</div>

	<div id="op30" class="opcode">
		<span class="opnumberdata">#30 (0x1E)</span>

		<span class="opnamedata">Stat: Fire Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op30">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#14">RESISTFIRE</a>.
 </div>
		<hr />

	</div>

	<div id="op31" class="opcode">
		<span class="opnumberdata">#31 (0x1F)</span>

		<span class="opnamedata">Stat: Magic Damage Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op31">BG1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#73">MAGICDAMAGERESISTANCE</a>.
 </div>
		<hr />

	</div>

	<div id="op32" class="opcode">
		<span class="opnumberdata">#32 (0x20)</span>

		<span class="opnamedata">Cure: Death (Raise Dead)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op32">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Restore creature animation?</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Raises the targeted creature(s) from the dead.<br/>

Known values for <code>Restore creature animation?</code> are:
<ul>
	<li>0 &longrightarrow; No</li>
	<li>1 &longrightarrow; Yes</li>
</ul>

<br/>This effect ignores durations attributed to it.



<div class="note info">
  <div>
    <strong>Info:</strong> 
The new animation is selected just as it would be at Character Generation.<br />
<code>Base Animation = 0x6000</code>
<ul>
	<li>
		+ Class:
		<ul>
			<li><code>0x0000</code> (Cleric/Druid/Shaman/Default)</li>
			<li><code>0x0100</code> (Fighter/Paladin/Ranger)</li>
			<li><code>0x0200</code> (Mage/Sorcerer)</li>
			<li><code>0x0300</code> (Thief/Bard)</li>
			<li><code>0x0500</code> (Monk)</li>
			<li>Mutliclasses prioritize (Warrior &gt; Priest &gt; Rogue &gt; Wizard)</li>
		</ul>
	</li>
	<li>
		+ Gender:
		<ul>
			<li><code>0x0000</code> (Male/Default)</li>
			<li><code>0x0010</code> (Female)</li>
		</ul>
	</li>
	<li>
		+ Race:
		<ul>
			<li><code>0x0000</code> (Human/Default)</li>
			<li><code>0x0001</code> (Elf/Half-Elf/Tiefling)</li>
			<li><code>0x0002</code> (Dwarf)</li>
			<li><code>0x0003</code> (Halfling)</li>
			<li><code>0x0004</code> (Gnome)</li>
			<li><code>0x0005</code> (Halforc)</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>This opcode will only restore life to creatures with <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a>. Frozen and Petrified creatures do not qualify until after they shatter (at which point you can no longer target them outside of scripts, so it doesn't really matter).</li>
	<li>The animation reset is not dependent on the target's death state.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
The presence of this opcode in any of a spell’s ability headers will force any Wild Surge of that spell to use the “Cast Normally” result.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op33" class="opcode">
		<span class="opnumberdata">#33 (0x21)</span>

		<span class="opnamedata">Stat: Save vs. Death Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op33">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:

<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Save = Save + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Save = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Save = (Save * 'Statistic Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Increment Instantly: <code>Save = Save + 'Statistic Modifier' value</code> (EE only)</li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#9">SAVEVSDEATH</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type = 3</code>, this opcode processes before saving throws are checked for effects proceeding it in the same effect stack; when <code>Type = 0</code>, it processes after.

  </div>
</div>




<div class="note bug">
	<div>
		<strong>Bug:</strong> 
Since at least version 2.5, <code>Type = 3</code> modifies instantly <a href="../files/ids/bgee/stats.htm#10">SAVEVSWANDS</a> instead of <a href="../files/ids/bgee/stats.htm#9">SAVEVSDEATH</a>.<br />
As a result, saving throws for effects in the same effect stack and after this opcode are not processed as expected.<br />
Effects proceeded after the stack are treated normaly like <code>Type = 0</code>.

	</div>
</div>

 </div>
		<hr />

	</div>

	<div id="op34" class="opcode">
		<span class="opnumberdata">#34 (0x22)</span>

		<span class="opnamedata">Stat: Save vs. Wands Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op34">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:

<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Save = Save + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Save = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Save = (Save * 'Statistic Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Increment Instantly: <code>Save = Save + 'Statistic Modifier' value</code> (EE only)</li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#10">SAVEVSWANDS</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type = 3</code>, this opcode processes before saving throws are checked for effects proceeding it in the same effect stack; when <code>Type = 0</code>, it processes after.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op35" class="opcode">
		<span class="opnumberdata">#35 (0x23)</span>

		<span class="opnamedata">Stat: Save vs. Petrification/Polymorph Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op35">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:

<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Save = Save + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Save = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Save = (Save * 'Statistic Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Increment Instantly: <code>Save = Save + 'Statistic Modifier' value</code> (EE only)</li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#11">SAVEVSPOLY</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type = 3</code>, this opcode processes before saving throws are checked for effects proceeding it in the same effect stack; when <code>Type = 0</code>, it processes after.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op36" class="opcode">
		<span class="opnumberdata">#36 (0x24)</span>

		<span class="opnamedata">Stat: Save vs. Breath Weapons Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op36">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:

<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Save = Save + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Save = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Save = (Save * 'Statistic Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Increment Instantly: <code>Save = Save + 'Statistic Modifier' value</code> (EE only)</li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#12">SAVEVSBREATH</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type = 3</code>, this opcode processes before saving throws are checked for effects proceeding it in the same effect stack; when <code>Type = 0</code>, it processes after.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op37" class="opcode">
		<span class="opnumberdata">#37 (0x25)</span>

		<span class="opnamedata">Stat: Save vs. Spells Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op37">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:

<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Save = Save + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Save = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Save = (Save * 'Statistic Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Increment Instantly: <code>Save = Save + 'Statistic Modifier' value</code> (EE only)</li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#13">SAVEVSSPELL</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type = 3</code>, this opcode processes before saving throws are checked for effects proceeding it in the same effect stack; when <code>Type = 0</code>, it processes after.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op38" class="opcode">
		<span class="opnumberdata">#38 (0x26)</span>

		<span class="opnamedata">State: Silence</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the silence effect to the targeted creature(s). Sets <a href="../files/ids/bgee/state.htm#BIT12">STATE_SILENCED</a> to true.<br/>
A silenced creature cannot cast spells / use special abilities (unless flagged as <code><a href="../file_formats/ie_formats/spl_v1.htm#Header_Flags_BIT25">Castable when silenced</a></code>), bard song or initiate dialog.<br/>
The engine is hard-coded to allow these spells to be cast by a silenced creature:
<ul>
	<li><code>"SPWI219"</code> (Vocalize)</li>
	<li><code>"SPIN649"</code> (Teleport to Pocket Plane) in BG2/BGEE</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op39" class="opcode">
		<span class="opnumberdata">#39 (0x27)</span>

		<span class="opnamedata">State: Unconsciousness</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op39">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op39">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Wake on Damage?</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Icon</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the unconsciousness effect to the targeted creature(s).<br />
Known values for <code>Wake on Damage?</code> are (only in EEs):
<ul>
	<li>0 &longrightarrow; Yes</li>
	<li>1 &longrightarrow; No</li>
</ul>

<p>
	<code>Icon</code> defines the index from <a href="../files/2da/2da_bgee/statdesc.htm">STATDESC.2DA</a> for custom portrait icons (EE only). Default value is <code><a href="../files/2da/2da_bgee/statdesc.htm#14">Sleep</a></code>. If it is set, also  spell state <code><a href="../files/ids/bgee/splstate.htm#249">PRONE</a></code> will be set. Otherwise the creature will be moved to the backlist and become <a href="https://www.gibberlings3.net/forums/topic/35548-ee-additional-op39-info/" target="_blank" rel="noopener">untargettable by most scripts</a>.
</p>

<p>
	This opcode sets the <code><a href="../files/ids/bgee/state.htm#BIT0">STATE_SLEEPING</a></code> and <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT5">STATE_HELPLESS</a></code> flag bits.
</p>



<div class="note info">
  <div>
    <strong>Note:</strong> 
In case of <code>Timing Mode</code>s <code>1/4/7</code> the bits cannot be removed in-game.<br />
Moreover, the <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT0">STATE_SLEEPING</a></code> works as the <code>Wake on Hit</code> option. It’s just not usable because of the unremovable <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT5">STATE_HELPLESS</a></code>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Immunity to this opcode does not prevent unconsciousness from <code><a href="../files/ids/bgee/damages.htm">stunning</a></code> damage done by normal fists.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op40" class="opcode">
		<span class="opnumberdata">#40 (0x28)</span>

		<span class="opnamedata">State: Slow</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the slow effect to the targeted creature(s). It automatically grants the <code><a href="../files/2da/2da_bgee/statdesc.htm#41">Slow</a></code> portrait icon.



<div class="note info">
  <div>
    <strong>Info:</strong> 
This effect will cancel out the <a href="#op16">haste opcode</a>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This effect doubles the <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x12">Casting Time</a></code> of all spells. Not verified for IWD2.

  </div>
</div>




<div class="note warning">
  <div>
    <strong>Warning:</strong> 
This opcode will set the <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT16">STATE_SLOWED</a></code> flag and nothing else when applied with <code>Timing Mode 1</code>, and cannot be removed within the game by any means, only suppressed by <a href="#op16">Haste</a>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op41" class="opcode">
		<span class="opnumberdata">#41 (0x29)</span>

		<span class="opnamedata">Graphics: Sparkle</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op41">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op41">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op41">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op41">PST</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="bg2tob.htm#op41">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Produces a sparkle effect by playing BAM animation instances specified by the <code>resource</code> key, with the behavior defined by <code>Type</code>. <code>Amount</code> defines the number of additional BAM copies displayed by each animation instance.

<p>
A non-zero Dice Number value appears to influence the probability of showing the effect. Higher values indicate higher probabilities of showing the effect. Value seems to be capped at 256.
</p>

Known values for <code>Type</code> are:
<ul>
	<li>1 &longrightarrow; Explosion
		<ul>
      <li>Plays a random amount of animation instances, including no instances at all, which follow a random path away from the target to simulate an "explosion" effect.</li>
			<li>Duration is defined by the number of BAM animation frames.</li>
		</ul>
	</li>
	<li>2 &longrightarrow; Swirl
    <ul>
      <li>Plays a number of animation instances a certain distance over the target, with each instance using a slightly shifted offset to simulate a "swirl" effect.</li>
      <li>Duration is defined by the number of BAM animation frames.</li>
    </ul>
  </li>
	<li>3 &longrightarrow; Sparkle Shower
		<ul>
      <li>Plays a number of animation instances a certain distance over the target. Each instance is generated following a circular pattern and slowly falling down to simulate a "shower" effect.</li>
      <li>Duration is defined by the number of BAM animation frames.</li>
		</ul>
	</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op42" class="opcode">
		<span class="opnumberdata">#42 (0x2A)</span>

		<span class="opnamedata">Spell: Wizard Spell Slots Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op42">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Slot Amount Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Spell Level</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the number of wizard spell slots available to the targeted creature(s), as specified by the <code>Slot Amount Modifier</code> field, at the level specified by the <code>Spell Level</code> field. Wizard spells are used by Bards, Sorcerers and Wizards in IWD2.<br/>

<br/>Known values for <code>Spell Level</code> are:
<ul>
	<li>
		0 &longrightarrow; Double spells
		<ul>
			<li>The amount of spell slots is doubled for the level specified by the <code>Slot Amount Modifier</code> value and <u>all levels below</u></li>
		</ul>
	</li>
	<li>BIT0 &longrightarrow; Level 1</li>
	<li>BIT1 &longrightarrow; Level 2</li>
	<li>BIT2 &longrightarrow; Level 3</li>
	<li>BIT3 &longrightarrow; Level 4</li>
	<li>BIT4 &longrightarrow; Level 5</li>
	<li>BIT5 &longrightarrow; Level 6</li>
	<li>BIT6 &longrightarrow; Level 7</li>
	<li>BIT7 &longrightarrow; Level 8</li>
	<li>BIT8 &longrightarrow; Level 9</li>
	<li>
		BIT9 &longrightarrow; Double spells
		<ul>
			<li>The amount of spell slots is doubled <u>exclusively for</u> the level specified by <code>Slot Amount Modifier</code></li>
		</ul>
	</li>
</ul>

<p>
	The target creature(s) must have at least 1 slot at the selected level to have their slot count changed.
</p>

<p>
	Negative slots start at <code>65535 (-1)</code>, and go from there. Even though the spellbook has room to display only 12 slots at once, the slots are still there and usable.
</p>

<p>
	<code>Slot Amount Modifier</code> can be positive or negative.
</p>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>
		If the number of current spell slots is 1:
		<ul>
			<li>applying a <code>-1</code> modifier will result in zero current slots and prevent further applications of this opcode from altering spell slots (until this effect terminates or is removed, or the base amount changes).</li>
			<li>applying a <code>-2</code> modifier instead would bypass zero and result in <code>65535 (-1)</code>. Then applying a <code>+1</code> modifier would result in zero current slots and a repeat of the above.</li>
		</ul>
	</li>
	<li>Regardless of whether the value can be altered, the effect is still attached to the creature, rather than being discarded entirely. They can still take effect should the creature's base spell slots be altered (such as from leveling up).</li>
	<li>Applying multiple effects in increments of <code>-1</code> will insure that spell slots do not go below zero (and thus will not wrap around to maximum).</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op43" class="opcode">
		<span class="opnumberdata">#43 (0x2B)</span>

		<span class="opnamedata">Cure: Stone to Flesh</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes <a href="../files/ids/bgee/state.htm#BIT7">STATE_STONE_DEATH</a> from the targeted creatures and restores them to 1 HP. Does not affect creatures without <a href="../files/ids/bgee/state.htm#BIT7">STATE_STONE_DEATH</a>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be 0 (zero).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>Will not remove a currently delayed (untriggered) <a href="#op134">Petrification</a> effect.</li>
	<li>Nor will it remove the False Petrification mode of <a href="#op109">opcode #109</a>.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op44" class="opcode">
		<span class="opnumberdata">#44 (0x2C)</span>

		<span class="opnamedata">Stat: Strength Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op44">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op44">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op44">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Strength = Strength + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Strength = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Strength = (Strength * 'Statistic Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Bull's Strength (EE only)</li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#36">STR</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
All games but EEs:
<ul>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>0</code> and <code>Statistic Modifier</code> is positive, the statistic will alter and remain shown in white text, and a message 'Strength raised permanently' will be shown.</li>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>1</code> or <code>2</code>, or <code>Statistic Modifier</code> is negative, the statistic will alter and remain shown in white text, though no message is shown.</li>
	<li>With all other Timing Modes, the statistic will alter and be shown in red text.</li>
</ul>
On EEs:
<ul>
	<li>There's no feedback message about stat being raised permanently in the EE's – it must be done separately with <a href="#op139">opcode #139</a>.</li>
	<li>
		The opcode itself provides no coloring anymore (it's been externalized through "UI.menu")
		<ul>
			<li>An effective value &gt; base value &longrightarrow; <font color="green">green</font>.</li>
			<li>An effective value &lt; base value &longrightarrow; <font color="red">red</font>.</li>
			<li>An effective value &equals; base value &longrightarrow; white/default.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type=3</code>:
<ul>
	<li><code>Statistic Modifier</code> is unused: it uses the value listed in <a href="../files/2da/2da_bgee/clssplab.htm">CLSSPLAB.2da</a> for the creature's base class, or defaults to <code>1</code> if the file isn't present (it only exists by default in IWDEE).</li>
	<li>
		A single instance of this opcode (using <code>Type=3</code>) cannot raise Strength above 18 (hardcoded), but multiple instances of it can.
		<ul>
			<li>
				This is because it only checks the limit against the creature's base score, not its effective score.
				<ul>
					<li>A Cleric with 12 base STR could gain up to +6 from the effect each time. Two max roll effects would take them to 24 STR.</li>
					<li>A Cleric with 16 base STR could only gain up to +2 from the effect each time.</li>
				</ul>
			</li>
			<li>
				Warrior classes also gain a &percnt; Strength score, their maximum is actually <code>18/100</code>. Every <code>/10</code> is counted as <code>+1</code> from their die roll. Warriors will not exceed <code>18/100</code> though, as once they hit <code>18</code>, the remaining dice roll converts to a &percnt; increase, preventing their score from exceeding <code>18/100</code> (<code>18/100 + /10</code> doesn't convert to <code>19</code>).<br />
				For instance, if a PALADIN with <code>17</code> STR rolls, say, <code>5</code>, he will end up with <code>18/40</code> STR.
			</li>
		</ul>
	</li>
	<li>Like the other modes, applying the effect with Timing Mode 1 will affect the creature's base stat, leaving no removable effect.</li>
	<li>Once applied to a creature, <code>Statistic Modifier</code> will store the exact STR increase granted, while the <code>Special</code> field will store any Exceptional STR increase granted (only useful for lookup/editing through EEkeeper/NI).</li>
	<li>
		When you apply this effect in an External <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>, (via <a href="#op177">op177</a> / <a href="#op283">op283</a>):
		<ul>
			<li><code>Parameter1</code> in the EFF will determine the exact Strength increase (so it must be set manually, and ignores any limit).</li>
			<li>
				If <code>Parameter1</code> is non-zero, Exceptional STR will still be rolled as normal (and only for appropriate Classes).
				<ul>
					<li>It will be equal to <code>10 * (Roll - (18 - Base))</code>, capped (0,100).</li>
				</ul>
			</li>
			<li>If <code>Parameter1</code> is zero, no Exceptional STR will be granted.</li>
			<li>The actual increase for Exceptional STR will be stored in the <code>Special</code> field of <a href="#op177">op177</a> / <a href="#op283">op283</a> (after it's been applied to the creature).</li>
			<li>Basically, it works exactly like <code>Type=0</code>, except that warriors will still gain a random Exceptional STR increase (of course it's only noticeable if their resulting STR is 18).</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
With <code>Timing Mode</code>s <code>1/4/7</code>, the creature's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x238">Strength</a></code> is altered, leaving behind no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Final values are capped to the bound range <code>(0,25)</code> in game (<code>40</code> in IWD2).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op45" class="opcode">
		<span class="opnumberdata">#45 (0x2D)</span>

		<span class="opnamedata">State: Stun</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op45">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Stuns the targeted creature(s) and sets HELD to 1. In particular:
<ul>
	<li>Maintains Portrait Icon <code><a href="../files/2da/2da_bgee/statdesc.htm#55">Stun</a></code> (EE only).</li>
	<li>Immobilizes the creature, limiting it to instantaneous actions (<a href="../files/ids/bgee/instant.htm">INSTANT.IDS</a>).</li>
	<li>
		Maintains <a href="../files/ids/bgee/state.htm#BIT3">STATE_STUNNED</a>.
		<ul>
			<li>Renders the creature unselectable and disable the Inventory.</li>
		</ul>
	</li>
	<li>
		Maintains <a href="../files/ids/bgee/state.htm#BIT5">STATE_HELPLESS</a>.
		<ul>
			<li>Renders the creature unselectable and disable the Inventory.</li>
			<li>Causes all attacks against the creature to automatically hit, disabling Critical Hits and misses.</li>
		</ul>
	</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Applied with <code>Timing Mode</code>s <code>1/4/7</code>: will set the creature’s base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT3">STATE_STUNNED</a></code> flag, while still leaving behind a separate removable effect.
<ul>
	<li>Should you remove the effect without removing the state (through means other than <a href="#op46">opcode #46</a>), the creature will be fully functional, just not controllable by the player (if it was).</li>
	<li>By itself, <a href="../files/ids/bgee/state.htm#BIT3">STATE_STUNNED</a> does not disable any scripts or limit which actions the creature may take. It needs its opcode's immobilization effect as well as <a href="../files/ids/bgee/state.htm#BIT5">STATE_HELPLESS</a> to fully work.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op46" class="opcode">
		<span class="opnumberdata">#46 (0x2E)</span>

		<span class="opnamedata">Cure: Stun (Unstun)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op46">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Unstuns the targeted creature(s) (<a href="#op45">opcode #45</a> and <a href="#op109">opcode #109</a>). Also removes <a href="../files/ids/bgee/state.htm#BIT3">STATE_STUNNED</a> from the creature.
<br/>This effect ignores durations attributed to it.
 </div>
		<hr />

	</div>

	<div id="op47" class="opcode">
		<span class="opnumberdata">#47 (0x2F)</span>

		<span class="opnamedata">Cure: Invisibility</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <a href="#op20">invisibility effect</a> from the targeted creature(s) if they don't have STATE_NONDETECTION set. Also removes <a href="../files/ids/bgee/state.htm#BIT4">STATE_INVISIBLE</a> and <a href="../files/ids/bgee/state.htm#BIT22">STATE_IMPROVEDINVISIBILITY</a>.
<br/>This effect ignores durations attributed to it.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op48" class="opcode">
		<span class="opnumberdata">#48 (0x30)</span>

		<span class="opnamedata">Cure: Silence (Vocalize)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <a href="#op38">silence effect</a> and <a href="../files/ids/bgee/state.htm#BIT12">STATE_SILENCED</a> from the targeted creature(s).
<br/>This effect ignores durations attributed to it.
 </div>
		<hr />

	</div>

	<div id="op49" class="opcode">
		<span class="opnumberdata">#49 (0x31)</span>

		<span class="opnamedata">Stat: Wisdom Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op49">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op49">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Wisdom = Wisdom + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Wisdom = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Wisdom = (Wisdom * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#39">WIS</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
All games but EEs:
<ul>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>0</code> and <code>Statistic Modifier</code> is positive, the statistic will alter and remain shown in white text, and a message 'Wisdom raised permanently' will be shown.</li>
	<li>With a Timing Modes of Permanent or Delayed, if <code>Type</code> is <code>1</code> or <code>2</code>, or <code>Statistic Modifier</code> is negative, the statistic will alter and remain shown in white text, though no message is shown.</li>
	<li>With all other Timing Modes, the statistic will alter and be shown in red text.</li>
</ul>
On EEs:
<ul>
	<li>There's no feedback message about stat being raised permanently in the EE's – it must be done separately with <a href="#op139">opcode #139</a>.</li>
	<li>
		The opcode itself provides no coloring anymore (it's been externalized through "UI.menu")
		<ul>
			<li>An effective value &gt; base value &longrightarrow; <font color="green">green</font>.</li>
			<li>An effective value &lt; base value &longrightarrow; <font color="red">red</font>.</li>
			<li>An effective value &equals; base value &longrightarrow; white/default.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
With <code>Timing Mode</code>s <code>1/4/7</code>, the creature's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x23B">Wisdom</a></code> is altered, leaving behind no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Final values are capped to the bound range <code>(0,25)</code> in game (<code>40</code> in IWD2).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op50" class="opcode">
		<span class="opnumberdata">#50 (0x32)</span>

		<span class="opnamedata">Colour: Glow by RGB (Brief)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op50">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op50">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op50">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op50">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB Colour</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Location and Speed</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) entire animation glows the colour specified by the <code>RGB Colour</code> field, at the speed specified by the (3<small><sup>rd</sup></small> byte of the) <code>Speed</code> field.
<br/>The <code>RGB Colour</code> field is handled as follows:
<ul>
	<li>Second byte = Red (<code>0 &mdash; 255</code>)</li>
	<li>Third byte = Green (<code>0 &mdash; 255</code>)</li>
	<li>Fourth byte = Blue (<code>0 &mdash; 255</code>)</li>
</ul>

<br/>The <code>Location and Speed</code> field is handled as follows:
<ul>
	<li>First byte = Location (not implemented in 2.5)</li>
	<li>Third byte = Speed (<code>0 &mdash; 255</code>)</li>
</ul>

<br/>A speed of 0 does not pulsate. A speed of <code>1</code> is fastest, and a speed of <code>255</code> is slowest. The duration of the effect is controlled by the <code>Speed</code> field.

<br/>Known values for <code>Location</code> are:
<ul>
	<li>
		0 &mdash; 6: Avatar/Armor
		<ul>
			<li>00 &longrightarrow; Belt Buckle (on armour) or amulets (on robes) &mdash; entire body for some animations</li>
			<li>01 &longrightarrow; Minor colour</li>
			<li>02 &longrightarrow; Major colour</li>
			<li>03 &longrightarrow; Skin colour</li>
			<li>04 &longrightarrow; Strap colour (on armour) or minor trimming (on robes &mdash; the centre strip down a robe and the hem on some robes)</li>
			<li>05 &longrightarrow; Armor colour (and major trimming on robe &mdash; cross trim and cape trim on Robe of Archmagi)</li>
			<li>06 &longrightarrow; Hair colour</li>
		</ul>
	</li>
	<li>
		16 &mdash; 22: Weapon
		<ul>
			<li>16 &longrightarrow; Quillons or Crossguard</li>
			<li>20 &longrightarrow; Grip (usually not visible as it's in the characters hand)</li>
			<li>21 &longrightarrow; Blade or major portion of weapon</li>
		</ul>
	</li>
	<li>
		32 &mdash; 40: Shield
		<ul>
			<li>32 &longrightarrow; Shield hub</li>
			<li>33 &longrightarrow; Shield interior</li>
			<li>34 &longrightarrow; Shield panelling</li>
			<li>37 &longrightarrow; Shield rim</li>
		</ul>
	</li>
	<li>
		48 &mdash; 54: Helmet
		<ul>
			<li>48 &longrightarrow; Helm ornamentation &mdash; i.e. wings</li>
			<li>49 &longrightarrow; Helm ornamentation &mdash; i.e. feathers/horsehair</li>
			<li>50 &longrightarrow; Helm ornamentation &mdash; i.e. feathers/horsehair</li>
			<li>52 &longrightarrow; Helm face</li>
			<li>53 &longrightarrow; Helm &mdash; the main covering</li>
		</ul>
	</li>
	<li>255 &longrightarrow; Whole Body (at least in IWD2 and EEs)</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Other values crash immediately or when opening or manipulating Inventory.<br />
See <a href="#op7">opcode #7</a> for further details about this topic.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op51" class="opcode">
		<span class="opnumberdata">#51 (0x33)</span>

		<span class="opnamedata">Colour: Strong/Dark by RGB</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op51">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op51">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op51">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB Colour</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Location</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the colour of the area specified by the <code>Location and Speed</code> field, to the colour specified by the <code>RGB Colour</code> field.
<br/>The <code>RGB Colour</code> field is handled as follows:
<ul>
	<li>Second byte = Red (<code>0–255</code>)</li>
	<li>Third byte = Green (<code>0–255</code>)</li>
	<li>Fourth byte = Blue (<code>0–255</code>)</li>
</ul>

<br/>Known values for <code>Location</code> are:
<ul>
	<li>
		0 – 6: Avatar/Armor
		<ul>
			<li>00 &longrightarrow; Belt Buckle (on armour) or amulets (on robes) – entire body for some animations</li>
			<li>01 &longrightarrow; Minor colour</li>
			<li>02 &longrightarrow; Major colour</li>
			<li>03 &longrightarrow; Skin colour</li>
			<li>04 &longrightarrow; Strap colour (on armour) or minor trimming (on robes – the centre strip down a robe and the hem on some robes)</li>
			<li>05 &longrightarrow; Armor colour (and major trimming on robe – cross trim and cape trim on Robe of Archmagi)</li>
			<li>06 &longrightarrow; Hair colour</li>
		</ul>
	</li>
	<li>
		16 – 22: Weapon
		<ul>
			<li>16 &longrightarrow; Quillons or Crossguard</li>
			<li>20 &longrightarrow; Grip (usually not visible as it's in the characters hand)</li>
			<li>21 &longrightarrow; Blade or major portion of weapon</li>
		</ul>
	</li>
	<li>
		32 – 40: Shield
		<ul>
			<li>32 &longrightarrow; Shield hub</li>
			<li>33 &longrightarrow; Shield interior</li>
			<li>34 &longrightarrow; Shield panelling</li>
			<li>37 &longrightarrow; Shield rim</li>
		</ul>
	</li>
	<li>
		48 – 54: Helmet
		<ul>
			<li>48 &longrightarrow; Helm ornamentation – i.e. wings</li>
			<li>49 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>50 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>52 &longrightarrow; Helm face</li>
			<li>53 &longrightarrow; Helm – the main covering</li>
		</ul>
	</li>
	<li>255 &longrightarrow; Whole Body (at least in IWD2 and EEs)</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Other values crash immediately or when opening or manipulating Inventory.<br />
See <a href="#op7">opcode #7</a> for further details about this topic.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op52" class="opcode">
		<span class="opnumberdata">#52 (0x34)</span>

		<span class="opnamedata">Colour: Very Bright by RGB</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op52">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op52">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op52">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op52">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB Colour</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Location</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the colour of the area specified by the <code>Location</code> field, to the colour specified by the <code>RGB Colour</code> field.
<br/>The <code>RGB Colour</code> field is handled as follows:
<ul>
	<li>Second byte = Red (<code>0–255</code>)</li>
	<li>Third byte = Green (<code>0–255</code>)</li>
	<li>Fourth byte = Blue (<code>0–255</code>)</li>
</ul>

<br/><br/>Known values for <code>Location</code> are:
<ul>
	<li>
		0 – 6: Avatar/Armor
		<ul>
			<li>00 &longrightarrow; Belt Buckle (on armour) or amulets (on robes) – entire body for some animations</li>
			<li>01 &longrightarrow; Minor colour</li>
			<li>02 &longrightarrow; Major colour</li>
			<li>03 &longrightarrow; Skin colour</li>
			<li>04 &longrightarrow; Strap colour (on armour) or minor trimming (on robes – the centre strip down a robe and the hem on some robes)</li>
			<li>05 &longrightarrow; Armor colour (and major trimming on robe – cross trim and cape trim on Robe of Archmagi)</li>
			<li>06 &longrightarrow; Hair colour</li>
		</ul>
	</li>
	<li>
		16 – 22: Weapon
		<ul>
			<li>16 &longrightarrow; Quillons or Crossguard</li>
			<li>20 &longrightarrow; Grip (usually not visible as it's in the characters hand)</li>
			<li>21 &longrightarrow; Blade or major portion of weapon</li>
		</ul>
	</li>
	<li>
		32 – 40: Shield
		<ul>
			<li>32 &longrightarrow; Shield hub</li>
			<li>33 &longrightarrow; Shield interior</li>
			<li>34 &longrightarrow; Shield panelling</li>
			<li>37 &longrightarrow; Shield rim</li>
		</ul>
	</li>
	<li>
		48 – 54: Helmet
		<ul>
			<li>48 &longrightarrow; Helm ornamentation – i.e. wings</li>
			<li>49 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>50 &longrightarrow; Helm ornamentation – i.e. feathers/horsehair</li>
			<li>52 &longrightarrow; Helm face</li>
			<li>53 &longrightarrow; Helm – the main covering</li>
		</ul>
	</li>
	<li>255 &longrightarrow; Whole Body (at least in IWD2 and EEs)</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Other values crash immediately or when opening or manipulating Inventory.<br />
See <a href="#op7">opcode #7</a> for further details about this topic.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op53" class="opcode">
		<span class="opnumberdata">#53 (0x35)</span>

		<span class="opnamedata">Graphics: Animation Change</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op53">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op53">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op53">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Animation ID</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the animation of the targeted creature(s) to the animation specified by the <code>Animation ID</code> field, in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Animation ID</code> are: (from <a href="../files/ids/bgee/animate.htm">ANIMATE.IDS</a> – in decimal)
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Change target's animation to <code>Animation ID</code> (Low Priority)</li>
	<li>1 &longrightarrow; Change target's animation to Source's Base Animation (Low Priority)
		<ul>
			<li>Normally used targeting oneself to reassert their base animation over previous <code>op53,p2=0</code> effects.</li>
		</ul>
	</li>
	<li>
		2 &longrightarrow; Change target's animation to <code>Animation ID</code> (High Priority)
		<ul>
			<li>Has priority over other <code>op53</code> effects using either <code>p2=0</code> or <code>p2=1</code>, regardless of stacking order.</li>
		</ul>
	</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
Applied with <code>Timing Mode</code>s <code>1/4/7</code>, sets the creature's base <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x28">animation</a></code>, leaving no removable effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op54" class="opcode">
		<span class="opnumberdata">#54 (0x36)</span>

		<span class="opnamedata">Stat: THAC0 Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op54">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>THAC0 = THAC0 + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>THAC0 = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>THAC0 = (THAC0 * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
This effect adjusts the base stat, rather than modified THAC0.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op55" class="opcode">
		<span class="opnumberdata">#55 (0x37)</span>

		<span class="opnamedata">Death: Kill Creature Type</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op55">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Kills the targeted creature(s) with HD less than those specified by the Dice values, if the target(s) match the IDS mask.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a> (EE only)</li>
</ul>

<br/><code>IDS Entry</code> is a value from the specified IDS file, indicating the specific creature type to affect.
 </div>
		<hr />

	</div>

	<div id="op56" class="opcode">
		<span class="opnumberdata">#56 (0x38)</span>

		<span class="opnamedata">Alignment: Invert</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op56">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Inverts the alignment of the targeted creature(s).



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op57" class="opcode">
		<span class="opnumberdata">#57 (0x39)</span>

		<span class="opnamedata">Alignment: Change</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op57">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Alignment</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the alignment of the targeted creature(s) to the value specified by <code>Alignment</code>.
<br/>Known values for <code>Alignment</code> are:
<ul>
	<li>00 &longrightarrow; None</li>
	<li>17 &longrightarrow; Lawful Good</li>
	<li>18 &longrightarrow; Lawful Neutral</li>
	<li>19 &longrightarrow; Lawful Evil</li>
	<li>33 &longrightarrow; Neutral Good</li>
	<li>34 &longrightarrow; True Neutral</li>
	<li>35 &longrightarrow; Neutral Evil</li>
	<li>49 &longrightarrow; Chaotic Good</li>
	<li>50 &longrightarrow; Chaotic Neutral</li>
	<li>51 &longrightarrow; Chaotic Evil</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op58" class="opcode">
		<span class="opnumberdata">#58 (0x3A)</span>

		<span class="opnamedata">Cure: Dispellable Effects (Dispel Magic)</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op58">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Dispel Type & Magic Weapon Dispel Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Dispels magic from the targeted creature(s). Depending on the value of the <code>Type</code> field, the <code>Level</code> field can be used to set the level of the effect.
<br/>The <code>Dispel Type & Magic Weapon Dispel Type</code> field is handled as follows:
<ul>
	<li>
		First word = Dispel Type
		<ul>
			<li>0 &longrightarrow; Always dispel</li>
			<li>1 &longrightarrow; Use Caster Level</li>
			<li>2 &longrightarrow; Use <code>Level</code> field</li>
		</ul>
	</li>
	<li>
		Second word = Magic Weapon Dispel Type
		<ul>
			<li>
				0 &longrightarrow; Always dispel
				<ul>
					<li>Will not remove items flagged as <code><a href="../file_formats/ie_formats/itm_v1.htm#Header_Flags_BIT24">undispellable</a></code>.</li>
				</ul>
			</li>
			<li>
				1 &longrightarrow; Never Dispel
				<ul>
					<li>Will not remove any <a href="../files/ids/bgee/slots.htm#34">Magical Weapon slot</a> item, regardless of <code><a href="../file_formats/ie_formats/itm_v1.htm#Header_Flags_BIT24">undispellable</a></code>.</li>
				</ul>
			</li>
			<li>
				2 &longrightarrow; Use Caster Level
				<ul>
					<li>Will not remove items flagged as <code><a href="../file_formats/ie_formats/itm_v1.htm#Header_Flags_BIT24">undispellable</a></code>.</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Dispel Type = 1</code> or <code>Dispel Type = 2</code> (Level-based Dispel):
<ul>
	<li>
		Base chance is 49&percnt;.
		<ul>
			<li>This chance is modified by the relative levels of the dispeller to the caster. Each level below gives a -10&percnt; chance, each level above gives a +5&percnt; chance.</li>
		</ul>
	</li>
	<li>Maximum is 99&percnt; chance to dispel.</li>
	<li>There is no minimum threshold for succeeding the dispel check, at 5 levels or more below it will always fail.</li>
	<li>Effects with caster levels <code>1932735279</code> to <code>1932735534</code> (as impractical as they may be), corresponding to levels <code>0 – 255</code>, effectively use an inverted success/failure rate, due to overflow.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op59" class="opcode">
		<span class="opnumberdata">#59 (0x3B)</span>

		<span class="opnamedata">Stat: Stealth Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Stealth = Stealth + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Stealth = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Stealth = (Stealth * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
In BG2 and EEs, this effect alters the Move Silently skill.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Timing Mode</code>s <code>1/4/7</code> permanently alter the creature's <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x68">Move Silently</a></code> score, leaving no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
(EE only) When <code>Type = 0</code> and <code>Timing Mode = 9</code>, it modifies <a href="../files/ids/bgee/stats.htm#177">MOVESILENTLYMTPBONUS</a>. The final value for this stat is multiplied by its percentage entry in <a href="../files/2da/2da_bgee/thiefscl.htm">THIEFSCL.2DA</a>, capped to the range <code>[0,255]</code>, before being included in the creature’s <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x68">Move Silently</a></code> score.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op60" class="opcode">
		<span class="opnumberdata">#60 (0x3C)</span>

		<span class="opnamedata">Stat: Miscast Magic</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op60">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op60">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Percent Chance</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will fail to cast the type of spell specified by the <code>Type</code> field, <code>Percent Chance</code> percent of the time.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Mage Spells</li>
	<li>1 &longrightarrow; Cleric Spells</li>
	<li>2 &longrightarrow; Innate Abilities</li>
	<li>3 &longrightarrow; Mage Spells</li>
	<li>4 &longrightarrow; Cleric Spells</li>
	<li>5 &longrightarrow; Innate Abilities</li>
</ul>

This opcode increments <code><a href="../files/ids/bgee/stats.htm#51">SPELLFAILUREMAGE</a></code>, <code><a href="../files/ids/bgee/stats.htm#52">SPELLFAILUREPRIEST</a></code> and <code><a href="../files/ids/bgee/stats.htm#194">SPELL_FAILURE_INNATE</a></code>, each of which is capped <code>0 &mdash; 100</code>.

<br/><br/><code>Type</code> values of <code>0</code>,<code>1</code> or <code>2</code> display a message &mdash; "Spell Failed: casting failure" (on EE games, this string is specified by <code><a href="../files/2da/2da_bgee/enginest.htm#178">STRREF_FEEDBACK_SPELLFAILED_CASTFAILURE</a></code>)

<br/><br/><code>Type</code> values of <code>3</code>,<code>4</code> or <code>5</code> display a message &mdash; "Spell failed due to dead magic" (on EE games, this string is specified by <code><a href="../files/2da/2da_bgee/enginest.htm#179">STRREF_FEEDBACK_SPELLFAILED_CASTFAILUREDEAD</a></code>)
<ul>
	<li>Additionally, it sets <code><a href="../files/ids/bgee/stats.htm#196">DEAD_MAGIC</a></code> to <code>1</code>.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>This opcode is cumulative with itself and the <a href="#op80">Deafness</a> effect.</li>
	<li>Spells with <code><a href="../file_formats/ie_formats/spl_v1.htm#Header_Flags_BIT14">Ignore Dead/Wild Magic</a></code> ignore the spell failure chance from this effect (regardless of using the <code>Dead Magic</code> mode).</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op61" class="opcode">
		<span class="opnumberdata">#61 (0x3D)</span>

		<span class="opnamedata">Creature RGB color fade</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op61">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op61">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB Colour</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Location and Fade Speed</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Works similar to <a href="#op8">opcode #8</a>/<a href="#op9">opcode #9</a>, except:
<ul>
	<li>It always affects the entire creature (not a specific location).</li>
	<li>It is always "instantaneous". No effect is attached to the creature, it's all handled by internal mechanics, but it still uses the specified duration. Saving &AMP; Reloading will remove the effect.</li>
	<li>The creature will instantly be covered by a color overlay which then fades out. The color overlay will not fade back in. It's otherwise similar to <a href="#op50">opcode #50</a>, where the color overlay fades onto the creature and then fades back out.</li>
</ul>

<br/>The <code>RGB Colour</code> field is handled as follows:
<ul>
	<li>Second byte = Red (<code>0–255</code>)</li>
	<li>Third byte = Green (<code>0–255</code>)</li>
	<li>Fourth byte = Blue (<code>0–255</code>)</li>
</ul>

<br/>The <code>Location and Fade Speed</code> field is handled as follows:
<ul>
	<li>First byte = Location (unused, it always affects everything. Leave it at <code>0</code>)</li>
	<li>Third byte = Fade Speed (<code>0–255</code>)</li>
</ul>

<br/>A speed of <code>0</code> does not pulsate. A speed of <code>1</code> is fastest, and a speed of <code>255</code> is slowest.
 </div>
		<hr />

	</div>

	<div id="op62" class="opcode">
		<span class="opnumberdata">#62 (0x3E)</span>

		<span class="opnamedata">Spell: Priest Spell Slots Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op62">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Slot Amount Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Spell Level</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the number of priest spell slots available to the targeted creature(s), as specified by the <code>Slot Amount Modifier</code> field, at the level specified by the <code>Spell Level</code> field.<br/>

<br/>Known values for <code>Spell Level</code> are:
<ul>
	<li>
		0 &longrightarrow; Double spells
		<ul>
			<li>The amount of spell slots is doubled for the level specified by the <code>Slot Amount Modifier</code> value and <u>all levels below</u></li>
		</ul>
	</li>
	<li>BIT0 &longrightarrow; Level 1</li>
	<li>BIT1 &longrightarrow; Level 2</li>
	<li>BIT2 &longrightarrow; Level 3</li>
	<li>BIT3 &longrightarrow; Level 4</li>
	<li>BIT4 &longrightarrow; Level 5</li>
	<li>BIT5 &longrightarrow; Level 6</li>
	<li>BIT6 &longrightarrow; Level 7</li>
	<li>
		BIT9 &longrightarrow; Double spells
		<ul>
			<li>The amount of spell slots is doubled <u>exclusively for</u> the level specified by <code>Slot Amount Modifier</code></li>
		</ul>
	</li>
</ul>

<p>
	The target creature(s) must have at least 1 slot at the selected level to have their slot count changed.
</p>

<p>
	Negative slots start at <code>65535 (-1)</code>, and go from there. Even though the spellbook has room to display only 12 slots at once, the slots are still there and usable.
</p>

<p>
	<code>Slot Amount Modifier</code> can be positive or negative.
</p>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>
		If the number of current spell slots is 1:
		<ul>
			<li>applying a <code>-1</code> modifier will result in zero current slots and prevent further applications of this opcode from altering spell slots (until this effect terminates or is removed, or the base amount changes).</li>
			<li>applying a <code>-2</code> modifier instead would bypass zero and result in <code>65535 (-1)</code>. Then applying a <code>+1</code> modifier would result in zero current slots and a repeat of the above.</li>
		</ul>
	</li>
	<li>Regardless of whether the value can be altered, the effect is still attached to the creature, rather than being discarded entirely. They can still take effect should the creature's base spell slots be altered (such as from leveling up).</li>
	<li>Applying multiple effects in increments of <code>-1</code> will insure that spell slots do not go below zero (and thus will not wrap around to maximum).</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op63" class="opcode">
		<span class="opnumberdata">#63 (0x3F)</span>

		<span class="opnamedata">State: Infravision</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) infravision and sets <a href="../files/ids/bgee/state.htm#BIT17">STATE_INFRAVISION</a>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<a href="../files/ids/bgee/state.htm#BIT17">STATE_INFRAVISION</a> specs:<br />
While a creature with Infravision is currently selected,
<ul>
	<li>all visible creatures with <code>body heat</code> that are currently in a "shadowed" part of the area receive a "warm" (red-shifted) overlay</li>
	<li><code>body heat</code> is determined by a creature's animation (<code>INI</code> file) using <code>detected_by_infravision=1</code>, or by <a href="#op342">opcode #342</a> (<code>p1=1</code> &amp; <code>p2=1</code>)</li>
	<li>
		"shadowed" is determined by each area's Light Map <code>"AR####LM.BMP"</code>
		<ul>
			<li>Some areas have a separate Light Map for "nighttime" hours, <code>"AR####LN.BMP"</code></li>
		</ul>
	</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op64" class="opcode">
		<span class="opnumberdata">#64 (0x40)</span>

		<span class="opnamedata">State: Remove Infravision</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes infravision from the targeted creature(s).
<br/>This effect ignores durations attributed to it.



<div class="note info">
  <div>
    <strong>Note:</strong> 
This will not remove racial infravision.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op65" class="opcode">
		<span class="opnumberdata">#65 (0x41)</span>

		<span class="opnamedata">Overlay: Blur</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the blur effect to the targeted creature(s) and sets <a href="../files/ids/bgee/state.htm#BIT29">STATE_BLUR</a>. Graphical displacement is affected by movement rate.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li><a href="../files/ids/bgee/state.htm#BIT29">STATE_BLUR</a> will maintain the effects of this opcode, once this opcode expires, but only until you save &amp; reload.</li>
	<li>If you set <a href="../files/ids/bgee/state.htm#BIT29">STATE_BLUR</a> on a <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> file, it won't do anything by itself.</li>
	<li>If you later apply <a href="#op65">opcode #65</a> to the creature, once it expires, the blur visual will remain until you save &amp; reload, but will no longer update based on your movement rate (it will remain stuck at whatever it was when the opcode expired).</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op66" class="opcode">
		<span class="opnumberdata">#66 (0x42)</span>

		<span class="opnamedata">Graphics: Transparency Fade</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op66">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op66">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Fade Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Visual Effect</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Fades the targeted creature(s) by the value in the amount specified by the <code>Fade Amount</code> field in the style specified by the <code>Visual Effect</code> field.
<br/>Known values for <code>Fade Amount</code> are:
<ul>
	<li>0 &longrightarrow; Fully visible</li>
	<li>...</li>
	<li>255 &longrightarrow; Fully transparent</li>
</ul>

<p>
	A creature's <code><a href="../files/ids/bgee/stats.htm#60">TRANSLUCENT</a></code> stat is stored in a single byte (<code>0-255</code>) on the <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_translucency">CRE</a></code> file.<br>
	This opcode only reads the first byte (out of four) of <code>Fade Amount</code>, so the value will always be <code>0-255</code>.
</p>

Known values for <code>Visual Effect</code> are:
<ul>
	<li>0 &longrightarrow; Draw instantly</li>
	<li>1 &longrightarrow; Fade in</li>
	<li>2 &longrightarrow; Fade out</li>
</ul>

<p>
	<code>Visual Effect = 0</code> sets the <code><a href="../files/ids/bgee/stats.htm#60">TRANSLUCENT</a></code> stat directly, based on the <code>timing mode</code>.<br/>
	<code>Visual Effect = 1</code> and <code>Visual Effect = 2</code> call a hardcoded process that decreases/increases the <code><a href="../files/ids/bgee/stats.htm#60">TRANSLUCENT</a></code> stat by <code>Fade Amount</code> every tick, until it reaches <code>0</code>/<code>255</code>.
</p>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>
		Any transparency inherit in the <code><a href="../file_formats/ie_formats/ini_anim.htm">animation</a></code> (see for instance <code>7703.INI &mdash; SHADOW</code>) will stack with that of the <code><a href="../files/ids/bgee/stats.htm#60">TRANSLUCENT</a></code> stat.
		<ul>
			<li>It's likely multiplied (so that <code>50&percnt; * 50&percnt; = 25&percnt;</code>), or something similar, but not additive.</li>
		</ul>
	</li>
	<li>
		On EE games, If you have the game option "Sprite Outlines" enabled, <code><a href="../files/ids/bgee/stats.htm#60">TRANSLUCENT</a></code> values <code>1 - 127</code> are treated as <code>0</code>.
		<ul>
			<li>If you also have the game option "Highlight selected sprites" enabled, <code><a href="../files/ids/bgee/stats.htm#60">TRANSLUCENT</a></code> values <code>1 - 127</code> will display correctly, but only while the mouse is over the creature.</li>
		</ul>
	</li>
</ul>

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op67" class="opcode">
		<span class="opnumberdata">#67 (0x43)</span>

		<span class="opnamedata">Summon: Creature Summoning</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op67">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op67">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Summons a creature, with position and <a href="../files/ids/bgee/ea.htm">EA</a> based on the <code>Mode</code> field. The <code>Resource</code> key should be set to the filename of the creature to summon.
<br>
<div style="margin-top: 0.5em">Known values for <code>Mode</code> are:</div>
<table style="width: auto">
	<thead>
		<tr>
			<th>Mode</th>
			<th>Position</th>
			<th><a href="../files/ids/bgee/ea.htm">EA</a></th>
		</tr>
	</thead>
	<tr>
		<td>0, 1</td>
		<td>effect</td>
		<td>align with target creature</td>
	</tr>
	<tr>
		<td>3</td>
		<td>target creature</td>
		<td>align with target creature</td>
	</tr>
	<tr>
		<td>4</td>
		<td>target creature</td>
		<td>CRE file</td>
	</tr>
	<tr>
		<td>5</td>
		<td>effect</td>
		<td>align against target creature</td>
	</tr>
	<tr>
		<td>2, else</td>
		<td>effect</td>
		<td>CRE file</td>
	</tr>
</table>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<code>Mode</code> details:
<ul>
	<li>Position:</li>
	<ul>
		<li>3, 4 &longrightarrow; summon at target creature's position</li>
		<li>else &longrightarrow; summon at effect position</li>
	</ul>
	<li><a href="../files/ids/bgee/ea.htm">EA</a>:</li>
	<ul>
		<li>0, 1, 3 &longrightarrow; align with target creature:</li>
		<ul>
			<li>target creature <a href="../files/ids/bgee/ea.htm">EA</a> &le; GOODCUTOFF (30) &longrightarrow; summon as ALLY (4)</li>
			<li>target creature <a href="../files/ids/bgee/ea.htm">EA</a> &ge; EVILCUTOFF (200) &longrightarrow; summon as ENEMY (255)</li>
			<li>else &longrightarrow; summon as CRE file</li>
		</ul>
		<li>5 &longrightarrow; align against target:</li>
		<ul>
			<li>target creature <a href="../files/ids/bgee/ea.htm">EA</a> &le; GOODCUTOFF (30) &longrightarrow; summon as ENEMY (255)</li>
			<li>target creature <a href="../files/ids/bgee/ea.htm">EA</a> &ge; EVILCUTOFF (200) &longrightarrow; summon as ALLY (4)</li>
			<li>else &longrightarrow; summon as CRE file</li>
		</ul>
	</ul>
</ul>

  </div>
</div>




<div class="note bug">
	<div>
		<strong>Bug:</strong> 
<code>Mode = 5</code> fails to make creatures summoned as ALLY (4) controllable. This is fixed upon reload.

	</div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>(EE only) <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70">Resource 2</a></code> (external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s): Animation VVC/BAM file to be played at the summoned creature's location.<br />
		Default is a hardcoded VVC using <code>"SPBOOM.BAM"</code> and palette <code>#65</code>. This is generally used as the "portal" animation.
	</li>
	<li>(EE only) <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x78">Resource 3</a></code> (external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s): Animation VVC/BAM file to be played at the location of the ability target.</li>
	<li>Applies an <a href="#op271">opcode #271</a> to the summoned creature based on the duration of the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70">Resource 2</a></code> (not exact) and Mode set to 1 (tested only in EE). Creature will not appear/spawn until this animation finishes.</li>
	<li>Applies a delayed <a href="#op215">opcode #215</a> with <code>resource = "SPGFLSH1"</code> to the summoned creature, <code>delayed duration = 5 ticks less</code> than the <a href="#op271">opcode #271</a>.</li>
	<li>Applies a delayed <a href="#op68">opcode #68</a> to the summoned creature based on effect duration (unless permanent).</li>
	<li>When summoned, any temporary changes (such as from equipped items) to the creature's <a href="../files/ids/bgee/gender.htm">gender</a> are made permanent.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op68" class="opcode">
		<span class="opnumberdata">#68 (0x44)</span>

		<span class="opnamedata">Summon: Unsummon Creature</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Text Notification</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Unsummons a creature, with feedback controlled by <code>Text Notification</code>.
<br/>Known values for <code>Text Notification</code> are:
<ul>
	<li>0 &longrightarrow; No text notification</li>
	<li>1 &longrightarrow; Show text notification</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in BG2 and EEs, the <code>Resource</code> key should be set to the filename of the
 animation to play when unsummoning the creature, and defaults to <code>"SPGFLSH1"</code> if left empty.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>Has no effect on Party Members.</li>
	<li>Moves the targeted creature(s) to area <code>".ARE"</code> (a non-existant area). This deletes non-global creatures from the game.</li>
	<li>Global creatures can still be recovered through scripts actions, such as <a href="../scripting/actions/bgeeactions.htm#291">MoveGlobalObject()</a>.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op69" class="opcode">
		<span class="opnumberdata">#69 (0x45)</span>

		<span class="opnamedata">Protection: From Detection (Non-Detection)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the non-detection effect to the targeted creature(s), setting <a href="../files/ids/bgee/state.htm#BIT21">STATE_NONDETECTION</a> while active. This effect is negated by <a href="#op70">opcode #70</a>. While in the non-detection state, the creature is immune to <a href="#op47">opcode #47</a> and <a href="#op116">opcode #116</a>, though they are affected by effects that remove illusionary protections by school or secondary type.



<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Timing Mode</code>s <code>1/4/7</code> will permanently set the creature's <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT21">STATE_NONDETECTION</a></code> flag, leaving no removable effect. This flag is not cleared on death.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op70" class="opcode">
		<span class="opnumberdata">#70 (0x46)</span>

		<span class="opnamedata">Cure: Non-Detection</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op70">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op70">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes <a href="#op69">opcode #69</a> and the <a href="../files/ids/bgee/state.htm#BIT21">STATE_NONDETECTION</a> flag from the targeted creature(s).
<br/>This effect ignores durations attributed to it.
 </div>
		<hr />

	</div>

	<div id="op71" class="opcode">
		<span class="opnumberdata">#71 (0x47)</span>

		<span class="opnamedata">IDS: Sex Change</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Gender Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the gender of the targetted creature(s) to the value specified by the <code>Gender Modifier</code> field, in the style specified by the <code>Type</code> value.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Reverse Gender</li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Gender = 'Statistic Modifier' value</code> (values from <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a>)</li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#193">SEX_CHANGED</a>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li><code>Reverse Gender</code> also switches the second BIT of the lower BYTE of the creature's animation, which (for <code>PC</code> races), will switch between their male/female animations (<code>0x6000</code> &LongLeftRightArrow; <code>0x6010</code>).</li>
	<li>
		Other races can be setup this way, but do not occupy the necessary animation slots by default.<br />
		For instance, <code>VAMPIRE</code> is <code>0x7F12</code>, <code>VAMPIRE_FEMALE</code> is <code>0x7F22</code> (Male should be <code>0x7F02</code> and female <code>0x7F12</code> for it to work).
	</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op72" class="opcode">
		<span class="opnumberdata">#72 (0x48)</span>

		<span class="opnamedata">IDS: Set IDS State</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op72">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op72">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op72">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the IDS state of the targeted creature(s) specified by the <code>IDS File</code> field, to the value specified by the <code>IDS Entry</code> field.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>0 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA</a></li>
	<li>1 &longrightarrow; <a href="../files/ids/bgee/general.htm">Generic / General</a></li>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/race.htm">Race</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/class.htm">Class</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/specific.htm">Specific</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/gender.htm">Gender</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/align.htm">Align / Alignmen</a> (iwd1, pst)</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<ul>
	<li>Only reliable timing mode is <code>Timing Mode 1</code> (all others are bugged and can convert to this timing mode under various circumstances).</li>
	<li><code>Timing Mode</code>s <code>1/4/7</code> will permanently set the creature(s) IDS value, leaving no removable effect.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op73" class="opcode">
		<span class="opnumberdata">#73 (0x49)</span>

		<span class="opnamedata">Stat: Extra Damage Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op73">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Modifier Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field. The effect is an additive modifier, like adding <code>+10</code> damage.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Damage = Damage + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Damage = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Damage = (Damage * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
PST treats all Type values above <code>1</code> as <code>1</code> – it does not support the percentage modifier.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op74" class="opcode">
		<span class="opnumberdata">#74 (0x4A)</span>

		<span class="opnamedata">State: Blindness</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op74">BG1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the blindness effect to the targeted creature(s). This sets <a href="../files/ids/bgee/stats.htm#147">VISUALRANGE</a> to 2, sets <a href="../files/ids/bgee/state.htm#BIT18">STATE_BLIND</a> to true and incurs a cummulative <code>10</code> point base THAC0 penalty (<code>4</code> on EE games, plus a cumulative <code>4</code> point base AC penalty. All of that is unverified in PST).
Maintains its own portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#8">Blind</a></code>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
<ul>
	<li><code>Timing Mode</code>s <code>1/4/7</code> will permanently set the creature's <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT18">STATE_BLIND</a></code> flag, leaving no removable effect.</li>
	<li>
		Related: the <code>-4</code> penalty to <code>AC</code> and <code>THAC0</code> are apparently tied to the effect, not <code>STATE_BLIND</code>.
		<ul>
			<li>
				So for instance you will not be able to 100&percnt; cure a creature affected by <code>CLERIC_NATURE_BEAUTY &mdash; "sppr704.spl"</code> (it applies <a href="#op74">opcode #74</a> with <code>timing_mode=1</code>).
				<ul>
					<li>As a workaround, you might want to stick with a limited <code>timing_mode</code> and set <code>duration</code> to a very high random value.</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
In the EE’s, the <code>-4</code> penalties it applies are not cumulative.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op75" class="opcode">
		<span class="opnumberdata">#75 (0x4B)</span>

		<span class="opnamedata">Cure: Blindness</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <a href="#op74">blindness effect</a> and the <a href="../files/ids/bgee/state.htm#BIT18">STATE_BLIND</a> flag from the targeted creature(s).
<br/>This effect ignores durations attributed to it.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op76" class="opcode">
		<span class="opnumberdata">#76 (0x4C)</span>

		<span class="opnamedata">State: Feeblemindedness</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op76">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the feeblemind effect to the targeted creature(s) – creatures are unselectable, immobile and do not respond to combat. Maintains the target's Intelligence to 3 (stacks normally with <a href="#op19">opcode #19</a>).



<div class="note important">
  <div>
    <strong>Important:</strong> 
A creature's scripts do not run while the creature is feebleminded.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op77" class="opcode">
		<span class="opnumberdata">#77 (0x4D)</span>

		<span class="opnamedata">Cure: Feeblemindedness</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <a href="#op76">feeblemind effect</a> and the <a href="../files/ids/bgee/state.htm#BIT20">STATE_FEEBLEMINDED</a> flag from the targeted creature(s).
<br/>This effect ignores durations attributed to it.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op78" class="opcode">
		<span class="opnumberdata">#78 (0x4E)</span>

		<span class="opnamedata">State: Disease</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op78">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op78">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op78">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op78">PST</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
			<span class="parameterheading">Parameter #4:</span> <span class="parameterdata">Frequency Multiplier</span><br />
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Icon</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Set the <code>Amount</code> parameter as the amount of damage, and the <code>Type</code> parameter as how the disease functions.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>
		0 &longrightarrow; Inflict 1 HP per second
		<ul>
			<li><code>Frequency Multiplier</code> is ignored – <code>Amount</code> needs to be non-zero)</li>
		</ul>
	</li>
	<li>
		1 &longrightarrow; Inflict 1 HP per second
		<ul>
			<li>for best results, leave <code>Frequency Multiplier</code> at <code>0</code>, <code>Amount</code> between <code>1</code> and <code>101</code></li>
		</ul>
	</li>
	<li>2 &longrightarrow; Deal <code>Amount</code> damage every <code>Frequency Multiplier</code> second(s)</li>
	<li>3 &longrightarrow; Deal one damage every <code>'Amount' * 'Frequency Multiplier'</code> second(s)</li>
	<li>4 &longrightarrow; Reduce Strength score by <code>Amount</code></li>
	<li>5 &longrightarrow; Reduce Dexterity score by <code>Amount</code></li>
	<li>6 &longrightarrow; Reduce Constitution score by <code>Amount</code></li>
	<li>7 &longrightarrow; Reduce Intelligence score by <code>Amount</code></li>
	<li>8 &longrightarrow; Reduce Wisdom score by <code>Amount</code></li>
	<li>9 &longrightarrow; Reduce Charisma score by <code>Amount</code></li>
	<li>10 &longrightarrow; Slow Effect</li>
	<li>11 &longrightarrow; Mold touch/Single</li>
	<li>12 &longrightarrow; Mold touch/Decrement</li>
	<li>13 &longrightarrow; Contagion</li>
</ul>

<p>
	<code>Amount</code> can be positive (penalty) or negative (bonus).
</p>

<p>
	<code>Icon</code> defines the index from <a href="../files/2da/2da_bgee/statdesc.htm">STATDESC.2DA</a> for custom portrait icons. Default value is <code>None (no icon)</code>.
</p>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Permanent</code> timing modes require a <code>duration</code> for this effect to work.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
This opcode deals <code>POISON</code> damage, except Mold Touches, which deal <code>MAGIC</code> damage.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
If <code>Frequency Multiplier = 0</code>, its value is treated as <code>1</code>. This is the default value for SPL/ITM effects.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
The <code>Slow</code> effect is no different from that caused by <a href="#op40">opcode #40</a> (Slow), including its stacking interaction with <a href="#op16">Haste</a>, except that it is blocked/removed as a disease, not as a slow effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<code>Contagion</code> is a composite of Strength, Dexterity, Charisma drain and the <a href="#op40">Slow effect</a>, each ability score reduced by <code>Amount</code>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
When the <code>Type</code> field is <code>1</code>:
<ul>
	<li>if the <code>Frequency Multiplier</code> field is non-zero, damage is always dealt.</li>
	<li>if the <code>Amount</code> field is less than <code>256</code>, damage is dealt while <code>HP &gt; 100 / 'Amount'</code>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Maintains <a href="../files/ids/bgee/splstate.htm#250">DISEASED</a> on the target.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<code>Mold Touch</code> is complicated: the general idea is that it deals <code>x</code> or <code>xd6</code> damage and applies the SPL file specified by the <code>resource</code> key (default: <code>"original resource" + B</code>) every (round or second) for either 1 round (single) or across multiple rounds dealing less each round (decrement).
In particular:
<ul>
	<li>If <code>Type=11</code>:
		<ul>
			<li><code>Timing Mode</code> should be <code>3</code> (with no duration).</li>
			<li>In <a href="../file_formats/ie_formats/spl_v1.htm#splv1_Feature_Block">SPL</a>s/<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Feature_Block">ITM</a>s, it always causes <code>1d6</code> damage.</li>
			<li>In external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s it functions identically to 'Mold Touch/Decrement', in every way (see below for further details).</li>
		</ul>
	</li>
	<li>if <code>Type=12</code>:
		<ul>
			<li>
				The first hit doesn't occur immediately, but instead at 80 ticks (exactly), the second hit occurs at 90 ticks (6 seconds), then later hits occur 1 round apart. So:<br />
				1<small><sup>st</sup></small> hit: 5.33s(80t), 2<small><sup>nd</sup></small> hit: 6s(90t), 3<small><sup>rd</sup></small> hit: 12s(180t), etc...<br />
				Oddly, this effect measures rounds as 6 seconds (90 ticks) intervals, not 100 ticks.
			</li>
			<li>
				As far as damage dealt is concerned, in <a href="../file_formats/ie_formats/spl_v1.htm#splv1_Feature_Block">SPL</a>s/<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Feature_Block">ITM</a>s:
				<ul>
					<li><code>x = 'Amount'(d6)</code>, decrementing the amount by 1 die every round, until zero.</li>
					<li>Should always use <code>Timing Mode</code> <code>1</code>, <code>3</code> or <code>4</code>, and only a non-zero duration if using <code>Timing Mode 4</code>.</li>
					<li>If <code>Timing Mode</code> is <code>1</code> or <code>4</code>, the portrait icon, and <a href="../files/ids/bgee/splstate.htm#250">DISEASED</a> remain until cured/death.</li>
					<li>If <code>Timing Mode</code> is <code>3</code> (with no duration), it will expire 1 round after the final damage (when it realizes the amount has reached zero). <code>Timing Mode 3</code> and <code>duration = 0</code> should be the "default" setting for this mode right now.</li>
				</ul>
			</li>
			<li>
				As far as damage dealt is concerned, in external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s:
				<ul>
					<li><code>x = (remaining 'Duration' / 6)(d6)</code>, or just <code>(remaining 'Duration' / 6)</code> if <code>Frequency Multiplier &gt;= 65536</code>.</li>
					<li>The damage dice is rounded down.</li>
					<li>Because the first hit doesn't occur until 80 ticks, any duration shorter will have no triggers.</li>
					<li>The Portrait Icon and <a href="../files/ids/bgee/splstate.htm#250">DISEASED</a> will remain for the full specified duration.</li>
				</ul>
			</li>
			<li>The SPL resource is applied at the same/every time as the damage, though the damage occurs first.</li>
		</ul>
	</li>
</ul>
<code>Frequency Multiplier</code> determines whether it deals damage every second or every round, and whether it deals <code>x</code> or <code>xd6</code> damage.
<ul>
	<li><code>Frequency Multiplier = 0</code> &longrightarrow; <code>xd6</code> per round</li>
	<li><code>Frequency Multiplier = 65536</code> or greater (must be even) &longrightarrow; <code>x</code> per second</li>
	<li><code>Frequency Multiplier = 65537</code> or greater (must be odd) &longrightarrow; <code>x</code> per round</li>
</ul>
Regardless, the value of <code>x</code> decrements only once per round.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op79" class="opcode">
		<span class="opnumberdata">#79 (0x4F)</span>

		<span class="opnamedata">Cure: Disease</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <a href="#op78">disease</a> and <a href="#op76">feeblemind</a> effects from the targeted creature(s).
<br/>This effect ignores durations attributed to it. It also unsets the feeblemind state bit.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op80" class="opcode">
		<span class="opnumberdata">#80 (0x50)</span>

		<span class="opnamedata">State: Deafness</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op80">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the Deafness effect on the targeted creature(s) – creatures suffer a casting failure rate of 50&percnt; (20&percnt; in bg1, unknown in iwd1). The casting failure rate refers to <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_1">Wizard</a></code> and <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_2">Priest</a></code> spells only. This is cumulative with Miscast Magic.



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
PST: it is unclear if this effect exist or does anything!

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Maintains <a href="../files/ids/bgee/splstate.htm#38">DEAFENED</a> on the target (EE only).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op81" class="opcode">
		<span class="opnumberdata">#81 (0x51)</span>

		<span class="opnamedata">Cure: Deafness</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <a href="#op80">deafness</a> effect from the targeted creature(s).
<br/>This effect ignores durations attributed to it.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note warning">
  <div>
    <strong>Warning:</strong> 
PST: it is unclear if this effect exists or does anything!

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op82" class="opcode">
		<span class="opnumberdata">#82 (0x52)</span>

		<span class="opnamedata">Set AI Script</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op82">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets the script type specified by the <code>Type</code> value to the contents of the <code>resource</code> key.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; OVERRIDE</li>
	<li>1 &longrightarrow; AREA</li>
	<li>2 &longrightarrow; SPECIFICS</li>
	<li>4 &longrightarrow; CLASS</li>
	<li>5 &longrightarrow; RACE</li>
	<li>6 &longrightarrow; GENERAL</li>
	<li>7 &longrightarrow; DEFAULT</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
This effect can unset scripts from a creature, which can break the game.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>Effect is always instantaneous/delayed.</li>
	<li><code>AREA</code> and <code>SPECIFICS</code> can only be set on non-global creatures (not potential party members or familiars), and are lost upon saving &amp; reload.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op83" class="opcode">
		<span class="opnumberdata">#83 (0x53)</span>

		<span class="opnamedata">Protection: From Projectile</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op83">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op83">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op83">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op83">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Projectile Index</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Protects the targeted creatures(s) from any effect(s) delivered by the specified projectile.
<br/>Values for <code>Projectile Index</code> are taken from <a href="../files/ids/bgee/projectl.htm">PROJECTL.IDS</a>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> projectiles only impact through their <a href="../file_formats/ie_formats/pro_v1.htm#0x21A">explosion</a> and/or <a href="../file_formats/ie_formats/pro_v1.htm#0x214">secondary</a> projectiles, so they are what must be specified in <code>Projectile Index</code>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Cannot protect against the projectile used by Melee weapon attacks (this is contrast to <a href="#op197">opcode #197</a>, which CAN reflect them (by specifying projectile <code>#0|NONE</code>)).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op84" class="opcode">
		<span class="opnumberdata">#84 (0x54)</span>

		<span class="opnamedata">Stat: Magical Fire Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op84">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op84">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#19">RESISTMAGICFIRE</a>.
 </div>
		<hr />

	</div>

	<div id="op85" class="opcode">
		<span class="opnumberdata">#85 (0x55)</span>

		<span class="opnamedata">Stat: Magical Cold Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op85">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op85">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#20">RESISTMAGICCOLD</a>.
 </div>
		<hr />

	</div>

	<div id="op86" class="opcode">
		<span class="opnumberdata">#86 (0x56)</span>

		<span class="opnamedata">Stat: Slashing Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op86">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#21">RESISTSLASHING</a>.
 </div>
		<hr />

	</div>

	<div id="op87" class="opcode">
		<span class="opnumberdata">#87 (0x57)</span>

		<span class="opnamedata">Stat: Crushing Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op87">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#22">RESISTCRUSHING</a>.
 </div>
		<hr />

	</div>

	<div id="op88" class="opcode">
		<span class="opnumberdata">#88 (0x58)</span>

		<span class="opnamedata">Stat: Piercing Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op88">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#23">RESISTPIERCING</a>.
 </div>
		<hr />

	</div>

	<div id="op89" class="opcode">
		<span class="opnumberdata">#89 (0x59)</span>

		<span class="opnamedata">Stat: Missiles Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op89">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Resistance = (Resistance * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#24">RESISTMISSILE</a>.
 </div>
		<hr />

	</div>

	<div id="op90" class="opcode">
		<span class="opnumberdata">#90 (0x5A)</span>

		<span class="opnamedata">Stat: Open Locks Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Skill = Skill + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Skill = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Skill = (Skill * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Timing Mode</code>s <code>1/4/7</code> permanently alters the creature's <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x67">Open Locks</a></code> score, leaving no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
(EE only) When <code>Type = 0</code> and <code>Timing Mode = 9</code>, it modifies <a href="../files/ids/bgee/stats.htm#176">LOCKPICKINGMTPBONUS</a>. The final value for this stat is multiplied by its percentage entry in <a href="../files/2da/2da_bgee/thiefscl.htm">THIEFSCL.2DA</a>, capped to the range <code>[0,255]</code>, before being included in the creature’s <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x67">Open Locks</a></code> score.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op91" class="opcode">
		<span class="opnumberdata">#91 (0x5B)</span>

		<span class="opnamedata">Stat: Find Traps Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Skill = Skill + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Skill = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Skill = (Skill * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Timing Mode</code>s <code>1/4/7</code> permanently alters the creature's <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x69">Find Traps</a></code> score, leaving no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
(EE only) When <code>Type = 0</code> and <code>Timing Mode = 9</code>, it modifies <a href="../files/ids/bgee/stats.htm#178">TRAPSMTPBONUS</a>. The final value for this stat is multiplied by its percentage entry in <a href="../files/2da/2da_bgee/thiefscl.htm">THIEFSCL.2DA</a>, capped to the range <code>[0,255]</code>, before being included in the creature’s <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x69">Find Traps</a></code> score.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op92" class="opcode">
		<span class="opnumberdata">#92 (0x5C)</span>

		<span class="opnamedata">Stat: Pick Pockets Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Skill = Skill + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Skill = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Skill = (Skill * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Timing Mode</code>s <code>1/4/7</code> permanently alters the creature's <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x6A">Pick Pockets</a></code> score, leaving no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
(EE only) When <code>Type = 0</code> and <code>Timing Mode = 9</code>, it modifies <a href="../files/ids/bgee/stats.htm#179">PICKPOCKETMTPBONUS</a>. The final value for this stat is multiplied by its percentage entry in <a href="../files/2da/2da_bgee/thiefscl.htm">THIEFSCL.2DA</a>, capped to the range <code>[0,255]</code>, before being included in the creature’s <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x6A">Pick Pockets</a></code> score.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op93" class="opcode">
		<span class="opnumberdata">#93 (0x5D)</span>

		<span class="opnamedata">Stat: Fatigue Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Fatigue = Fatigue + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Fatigue = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Fatigue = (Fatigue * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#30">FATIGUE</a>.
 </div>
		<hr />

	</div>

	<div id="op94" class="opcode">
		<span class="opnumberdata">#94 (0x5E)</span>

		<span class="opnamedata">Stat: Drunkenness Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Drunkenness = Drunkenness + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Drunkenness = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Drunkenness = (Drunkenness * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#31">INTOXICATION</a>.
 </div>
		<hr />

	</div>

	<div id="op95" class="opcode">
		<span class="opnumberdata">#95 (0x5F)</span>

		<span class="opnamedata">Stat: Tracking Skill Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Skill = Skill + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Skill = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Skill = (Skill * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#33">TRACKING</a>.
 </div>
		<hr />

	</div>

	<div id="op96" class="opcode">
		<span class="opnumberdata">#96 (0x60)</span>

		<span class="opnamedata">Stat: Level Change</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op96">BG1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Level = Level + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Level = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Level = (Level * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
In IWD2 the class to receive the change is specified at 0x2C

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Timing Mode</code>s <code>1/4/7</code> permanently alter the creature's <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x234">level</a></code>, leaving no removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Can only modify the <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x234">first class level</a></code>, it cannot modify <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x235">second</a></code> or <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x236">third</a></code> class levels.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op97" class="opcode">
		<span class="opnumberdata">#97 (0x61)</span>

		<span class="opnamedata">Stat: Exceptional Strength Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Exceptional Strength = Exceptional Strength + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Exceptional Strength = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Exceptional Strength = (Exceptional Strength * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><code>Statistic Modifier</code> can be positive or negative.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#37">STREXTRA</a>.
 </div>
		<hr />

	</div>

	<div id="op98" class="opcode">
		<span class="opnumberdata">#98 (0x62)</span>

		<span class="opnamedata">HP: Regeneration</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op98">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op98">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op98">PST</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op98">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount_1</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Amount_2</span><br />
		
		
			<span class="parameterheading">Parameter #4:</span> <span class="parameterdata">Frequency Multiplier</span><br />
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Icon</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Restores HP according to the style specified by the <code>Type</code> field, to the targeted creature(s).
<br/>Known values for <code>Type</code> are:
<ul>
	<li>
		0 &longrightarrow; Restore 1 HP per second
		<ul>
			<li><code>Amount_2</code> and <code>Frequency Multiplier</code> are ignored – <code>Amount_1</code> needs to be non-zero</li>
		</ul>
	</li>
	<li>
		1 &longrightarrow; Restore 1 HP per second
		<ul>
			<li>for best results, leave both <code>Amount_2</code> and <code>Frequency Multiplier</code> at <code>0</code>, <code>Amount_1</code> between <code>1</code> and <code>101</code></li>
		</ul>
	</li>
	<li>2 &longrightarrow; Restore <code>Amount_1</code> HP every <code>Frequency Multiplier</code> second(s)</li>
	<li>3 &longrightarrow; Restore 1 HP every <code>'Amount_1' * 'Frequency Multiplier'</code> second(s)</li>
	<li>4 &longrightarrow; Restore <code>Amount_2</code> HP every <code>'Amount_1' * 'Frequency Multiplier'</code> second(s) – This is the only one that must be in external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files</li>
</ul>

<p>
	<code>Icon</code> defines the index from <a href="../files/2da/2da_bgee/statdesc.htm">STATDESC.2DA</a> for custom portrait icons. Default value is <code>None (no icon)</code>.
</p>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
<code>Type</code> values greater or equal to <code>5</code> will crash the game!

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Permanent</code> timing modes require a duration for this effect to work.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
If <code>Frequency Multiplier = 0</code>, its value is treated as <code>1</code>. This is the default value for SPL/ITM effects.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
When the <code>Type</code> field is <code>1</code>:
<ul>
	<li>if the <code>Frequency Multiplier</code> field is non-zero, HP is always restored.</li>
	<li>if the <code>Amount_1</code> field is less than <code>256</code>, HP is restored while <code>HP &gt; 100 / 'Amount_1'</code>.</li>
</ul>

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op99" class="opcode">
		<span class="opnumberdata">#99 (0x63)</span>

		<span class="opnamedata">Spell Effect: Duration Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Duration Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters spell durations of the targeted creature(s), to the percentage specified by the <code>Duration Modifier</code> field, affecting the spell type specified by the <code>Type</code> field. <code>Timing mode 0</code> is the only timing mode reliably affected. Timings handled through <a href="../file_formats/ie_formats/pro_v1.htm">PRO</a> files are ignored.
<br/>For instance:
<ul>
	<li><code>Duration Modifier = 0</code> &longrightarrow; Spells have no duration</li>
	<li><code>Duration Modifier = 100</code> &longrightarrow; Spells have normal duration</li>
	<li><code>Duration Modifier = 200</code> &longrightarrow; Spells have double duration</li>
</ul>

<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Mage</li>
	<li>1 &longrightarrow; Priest</li>
	<li>2 &longrightarrow; Bard Song (EE only)</li>
</ul>

<br/>The effect modifies <a href="../files/ids/bgee/stats.htm#53">SPELLDURATIONMODMAGE</a> and <a href="../files/ids/bgee/stats.htm#54">SPELLDURATIONMODPRIEST</a>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
Durations handled by <a href="#op333">Static Charge</a> are unaffected (EE only).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Not seen to work in BG1.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op100" class="opcode">
		<span class="opnumberdata">#100 (0x64)</span>

		<span class="opnamedata">Protection: from Creature Type</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op100">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) protection from the creature type specified by the <code>IDS File</code> and <code>IDS Entry</code> fields.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a> (EE only; broken at least in 2.5)</li>
</ul>

<br/>To be protected from any creature, leave <code>IDS Entry</code> at <code>0</code> (zero), and <code>IDS File</code> at <code>2</code>. Protection will grant the bearer immunity from being attacked, cast a spell at, or otherwise targeted by creatures with this type.
 </div>
		<hr />

	</div>

	<div id="op101" class="opcode">
		<span class="opnumberdata">#101 (0x65)</span>

		<span class="opnamedata">Protection: from Opcode</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Opcode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) protection from the opcode specified by the <code>Opcode</code> field.
 </div>
		<hr />

	</div>

	<div id="op102" class="opcode">
		<span class="opnumberdata">#102 (0x66)</span>

		<span class="opnamedata">Spell: Immunity (by Power Level)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Spell Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) protection from effects (opcodes) whose <code>Power</code> attribute is equal to <code>Spell Level</code> (<code>range: 0 – 9</code>).



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>Each application of this opcode only protects against its specified <code>Spell Level</code>, not "up to" it.</li>
	<li>Each effect in a spell/item is checked separately by this opcode.</li>

	<li>
		CAN block effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CAN block EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can deflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>
		CANNOT block non-hostile effects from self.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their non-hostile behavior from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#Header_Flags_BIT10">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#ExtHeader_Flags_BIT10">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x9C_BIT10">V2 effects</a> specify it manually.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Deflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is deflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op103" class="opcode">
		<span class="opnumberdata">#103 (0x67)</span>

		<span class="opnamedata">Text: Change Name</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">String Reference</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the name of the targeted creature(s) to the strref specified by the <code>String Reference</code> field. When used with a duration timing, after the duration, the name will be set to a blank entry.
 </div>
		<hr />

	</div>

	<div id="op104" class="opcode">
		<span class="opnumberdata">#104 (0x68)</span>

		<span class="opnamedata">Stat: Experience Points</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>XP = XP + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>XP = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>XP = (XP * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#44">XP</a>.
 </div>
		<hr />

	</div>

	<div id="op105" class="opcode">
		<span class="opnumberdata">#105 (0x69)</span>

		<span class="opnamedata">Stat: Gold</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op105">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Gold = Gold + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Gold = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Gold = (Gold * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><br/>The effect modifies party gold or <a href="../files/ids/bgee/stats.htm#45">GOLD</a> for everyone else.



<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Type=0</code> can only remove gold for party members, the passed value is used negative. Gold amount has a lower bound of <code>0</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op106" class="opcode">
		<span class="opnumberdata">#106 (0x6A)</span>

		<span class="opnamedata">Stat: Morale Break Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Morale Break = Morale Break + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Morale Break = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Morale Break = (Morale Break * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#46">MORALEBREAK</a>.
 </div>
		<hr />

	</div>

	<div id="op107" class="opcode">
		<span class="opnumberdata">#107 (0x6B)</span>

		<span class="opnamedata">Portrait Change</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets the portrait of the targeted creature(s) to that specified in the <code>resource</code> key, based on the <code>Type</code> value. This effect ignores durations attributed to it.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Small portrait</li>
	<li>1 &longrightarrow; Large portrait</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op108" class="opcode">
		<span class="opnumberdata">#108 (0x6C)</span>

		<span class="opnamedata">Stat: Reputation</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets the individual reputation of the targeted creature(s) to the value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>This does not affect the main reputation of the Party, unless <code>Type 3-5</code> are used. Though it can affect ranger/paladinhood of any target.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Reputation = Reputation + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Reputation = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Reputation = (Reputation * 'Statistic Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Increment Party Reputation by <code>10 * 'Statistic Modifier'</code>, cannot lower reputation below <code>100</code>, will raise reputation to <code>100</code> if already less (only in EEs)</li>
	<li>4 &longrightarrow; Party Reputation = 'Statistic Modifier' value, cannot lower reputation below <code>100</code>, will raise reputation to <code>100</code> if already less (only in EEs)</li>
	<li>5 &longrightarrow; Party Reputation = (Party Reputation * 'Statistic Modifier' value) / 100, cannot lower reputation below 100, will raise reputation to 100 if already less (only in EEs)</li>
</ul>

The effect modifies <a href="../files/ids/bgee/stats.htm#48">REPUTATION</a>.
 </div>
		<hr />

	</div>

	<div id="op109" class="opcode">
		<span class="opnumberdata">#109 (0x6D)</span>

		<span class="opnamedata">State: Paralyze</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op109">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="pst.htm#op109">PST</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op109">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Mode</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the hold effect to the targeted creature(s), if the targeted creature(s) match the value specified by the <code>IDS Entry</code> field, in the specified <code>IDS File</code>. 
<br/>Known values for <code>IDS File</code> are:
<ul>
  <li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
  <li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
  <li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
  <li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
  <li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
  <li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
  <li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
  <li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a></li>
</ul>
<br/>

<br/>The affected creature becomes immobile and its AI scripts stop running.
<br/>This effect sets <a href="../files/ids/bgee/stats.htm#58">HELD</a> to <code>1</code>. It also sets the <a href="../files/ids/bgee/state.htm#BIT5">STATE_HELPLESS</a> flag.

<br/><br/>Known values for <code>Mode</code> are:
<ul>
  <li>0 &longrightarrow; Default</li>
  <li>Non-zero &longrightarrow; False Petrify
    <ul>
      <li>In addition to the normal paralyze effect, it maintains a detectable <a href="../files/ids/bgee/state.htm#BIT7">STATE_STONE_DEATH</a> and the stone overlay, but does not directly kill, award XP, or chunk when attacked. Only functions like this against non-party members.</li>
      <li>Against party members, it functions as normal, unless you save and reload while the effect is active. Upon reloading, the stone overlay will be applied and the character will be dropped to 0 hit points, but not killed, and no <a href="../files/ids/bgee/state.htm#BIT7">STATE_STONE_DEATH</a> (this is probably to avoid kicking the character from the party)</li>
    </ul>
  </li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op110" class="opcode">
		<span class="opnumberdata">#110 (0x6E)</span>

		<span class="opnamedata">Empty:</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op110">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op110">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op110">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This opcode has no effect.



<div class="note info">
  <div>
    <strong>Note:</strong> 
It is still processed, so it will still interact with <a href="#op200">Spell Turning</a>/<a href="#op201">Deflection</a>/etc… just like any other effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op111" class="opcode">
		<span class="opnumberdata">#111 (0x6F)</span>

		<span class="opnamedata">Item: Create Magical Weapon</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Creates the item specified by the <code>resource</code> key. The number of items created is controlled by the <code>Amount</code> field. The item is created in the <code><a href="../files/ids/bgee/slots.htm#34">Magical Weapon Slot</a></code>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
The <code><a href="../files/ids/bgee/slots.htm#34">Magical Weapon Slot</a></code> does not allow <code><a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x2_3">Item</a></code> Abilities.

  </div>
</div>




<div class="note warning">
  <div>
    <strong>Warning:</strong> 
The <code>resource</code> field should not be empty, or the game will crash (not consistently, but it happens).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
The dispel bit of <a href="#op111">opcode #111</a> has no bearing on the <a href="../file_formats/ie_formats/itm_v1.htm">item</a> it creates. Its only function comes up when the <a href="#op111">opcode #111</a> effect is delayed — the effect can be dispelled before it triggers (see also <code><a href="../file_formats/ie_formats/itm_v1.htm#Header_Flags_BIT24">undispellable</a></code> and <a href="#op58">opcode #58</a>).

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op112" class="opcode">
		<span class="opnumberdata">#112 (0x70)</span>

		<span class="opnamedata">Item: Remove Item</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op112">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Sound</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes a single instance (or stack) of the item specified by the <code>resource</code> key from the targeted creature(s). Items in container items (e.g. Bags of Holding) will not be removed. If a creature has multiple instances of the item, the one in the lowest slot number (see <a href="../files/ids/bgee/slots.htm">SLOTS.IDS</a>) is removed. This effect should be used to remove equipped items (use <a href="#op123">opcode #123</a> for inventory items).
<br><br>

On successful removal, parameter "Sound" dictates which sound will be played:
<li>0&nbsp; ⟶ Play EFF_M02.WAV</li>
<li>1&nbsp; ⟶ Play AMB_D02B.WAV</li>
<li>2&nbsp; ⟶ Play <code>Resource2</code>.WAV</li>
<li>3+      ⟶ No sound</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op113" class="opcode">
		<span class="opnumberdata">#113 (0x71)</span>

		<span class="opnamedata">Empty:</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op113">BG1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This opcode has no effect.



<div class="note info">
  <div>
    <strong>Note:</strong> 
It is still processed, so it will still interact with <a href="#op200">Spell Turning</a>/<a href="#op201">Deflection</a>/etc… just like any other effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op114" class="opcode">
		<span class="opnumberdata">#114 (0x72)</span>

		<span class="opnamedata">Graphics: Dither</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op114">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undefined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets <a href="../files/ids/bgee/stats.htm#61">IDENTIFYMODE</a> to <code>1</code>.<br />
Affected creature will be visible, targetable, and if controlled, selectable and orderable within the semi-transparent fog of war, but not within the black shroud.
 </div>
		<hr />

	</div>

	<div id="op115" class="opcode">
		<span class="opnumberdata">#115 (0x73)</span>

		<span class="opnamedata">Detect: Alignment</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op115">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Alignment Mask</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Detects the alignment specified by the <code>Alignment Mask</code> field.
<br/>Known values for <code>Alignment Mask</code> are:
<ul>
	<li>0 &longrightarrow; Evil (glow Red)</li>
	<li>1 &longrightarrow; Neutral (glow Blue)</li>
	<li>2 &longrightarrow; Good (glow Green)</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op116" class="opcode">
		<span class="opnumberdata">#116 (0x74)</span>

		<span class="opnamedata">State: Cure Invisibility</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes invisibility from the targeted creature(s). Also removes <a href="../files/ids/bgee/state.htm#BIT4">STATE_INVISIBLE</a> and <a href="../files/ids/bgee/state.htm#BIT22">STATE_IMPROVEDINVISIBILITY</a>.
<br/>This effect ignores durations attributed to it.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>The only difference between this opcode and <a href="#op47">opcode #47</a> is their index – you can block one with <a href="#op101">opcode #101</a> without blocking the other. That's it.</li>
	<li>Both remove the same effects/<code>STATE</code>s, both are blocked by <a href="#op69">opcode #69</a>.</li>
	<li>They might have been intended for identical function, different uses, similar to opcodes <a href="#op5">#5</a>/<a href="#op241">#241</a> (Charm), but it never happened.</li>
	<li><a href="#op116">Opcode #116</a> is used extensively because the original BG1 used it, and didn't use <a href="#op47">opcode #47</a> at all.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op117" class="opcode">
		<span class="opnumberdata">#117 (0x75)</span>

		<span class="opnamedata">Spell Effect: Reveal Area</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op117">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Reveals the current area.



<div class="note info">
  <div>
    <strong>Note:</strong> 
It does not remove the fog of war.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op118" class="opcode">
		<span class="opnumberdata">#118 (0x76)</span>

		<span class="opnamedata">Empty:</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op118">BG1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This opcode has no effect.



<div class="note info">
  <div>
    <strong>Note:</strong> 
It is still processed, so it will still interact with <a href="#op200">Spell Turning</a>/<a href="#op201">Deflection</a>/etc… just like any other effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op119" class="opcode">
		<span class="opnumberdata">#119 (0x77)</span>

		<span class="opnamedata">Spell Effect: Mirror Image</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op119">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the <a href="#op159">Mirror Image effect</a> to the targeted creature(s). The number of images is dicated by the level of the caster.<br />
The exact formula is <code>'Parameter1' = 2 + ('Caster Level of the spell containing op119' / 3)</code>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>A Wizard spell with op119 will use the caster's Wizard Casting Level.</li>
	<li>A Priest spell with op119 will use the caster's Priest Casting Level.</li>
	<li>An Innate spell with op119 will use the caster's Innate Casting Level.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
A side note about non-spellcaster classes:<br /><br />

A Mirror Image scroll used by a Thief with HLA Use Any Item will use the level <code>10</code> duration, but the level <code>1</code> Image count.<br />
The scroll casts the spell at level <code>10</code>, but the opcode checks the caster’s Wizard Caster Level (which for a Thief is <code>1</code>).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op120" class="opcode">
		<span class="opnumberdata">#120 (0x78)</span>

		<span class="opnamedata">Protection: from Weapons</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Enchantment</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) immunity to weapons as specified by the <code>Type</code> field. The <code>Enchantment</code> field is used if <code>Type</code> is set to <code>0</code>.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Enchanted</li>
	<li>1 &longrightarrow; Magical</li>
	<li>2 &longrightarrow; Non-Magical</li>
	<li>3 &longrightarrow; Silver</li>
	<li>4 &longrightarrow; Non-Silver</li>
	<li>5 &longrightarrow; Non-Silver / Non-Magical</li>
	<li>6 &longrightarrow; Two-Handed</li>
	<li>7 &longrightarrow; One-Handed</li>
	<li>8 &longrightarrow; Cursed</li>
	<li>9 &longrightarrow; Non-Cursed</li>
	<li>10 &longrightarrow; Cold Iron</li>
	<li>11 &longrightarrow; Non Cold Iron</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
Keep in mind that:
<ul>
	<li>Protected weapons will still trigger <a href="../scripting/triggers/bgeetriggers.htm#0x0020">HitBy()</a>, but will not interact with Mirror Image or Stone skins.</li>
	<li>Blocks weapon damage, on-hit effects of the weapon, <a href="#op248">opcode #248</a> and <a href="#op249">opcode #249</a>, regardless of the effects target.</li>
	<li><code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-effect</a></code> projectiles (f.i. Arrow of Detonation) only check for Weapon Immunity on the attacked target, and use that result for all caught within their area of effect.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op121" class="opcode">
		<span class="opnumberdata">#121 (0x79)</span>

		<span class="opnamedata">Empty:</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This opcode has no effect. Sometimes known as "Graphics: (Visual Animation Effect)".



<div class="note info">
  <div>
    <strong>Note:</strong> 
It is still processed, so it will still interact with <a href="#op200">Spell Turning</a>/<a href="#op201">Deflection</a>/etc… just like any other effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op122" class="opcode">
		<span class="opnumberdata">#122 (0x7A)</span>

		<span class="opnamedata">Item: Create Inventory Item</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op122">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op122">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Charges</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Creates the item specified by the <code>resource</code> key. The number of items created is controlled by the <code>Charges</code> field. The number of secondary charge is determined by <code>Parameter3</code>. The number of tertiary charges is determined by <code>Parameter4</code> (external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s). The item is created in the Inventory.



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>(EE only) <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70">Resource 2</a></code> and <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x78">Resource 3</a></code> (external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s): item to be created is randomly chosen from resource fields <code>1–3</code> that are not empty.</li>
	<li>Applies a delayed <a href="#op123">opcode #123</a> effect to remove the item (based on specified <code>duration</code>)</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op123" class="opcode">
		<span class="opnumberdata">#123 (0x7B)</span>

		<span class="opnamedata">Item: Remove Inventory Item</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the item specified by the <code>resource</code> key from the targeted creature(s). This effect should be used to remove inventory items (use <a href="#op112">opcode #112</a> for equipped items).<br/>
In particular:
<ul>
	<li>Removes all item(s) in the first slot containing the specified <code>resource</code> key from the targeted creature(s).</li>
	<li>Items in container items (e.g. Bags of Holding) will not be removed.</li>
	<li>Inventory slots are checked in numerical order from <a href="../files/ids/bgee/slots.htm">SLOTS.IDS</a>.</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op124" class="opcode">
		<span class="opnumberdata">#124 (0x7C)</span>

		<span class="opnamedata">Spell Effect: Teleport (Dimension Door)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op124">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op124">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Teleports the targeted creature(s) in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Default</li>
	<li>1 &longrightarrow; Source to Target</li>
	<li>2 &longrightarrow; Return to Saved Location</li>
	<li>3 &longrightarrow; Exchanged Source and Target</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<code>Return to Saved Location</code>: Teleport effect target to the coordinates stored by <a href="../scripting/actions/bgeeactions.htm#261">SetHomeLocation(P:Point*)</a> for that creature. Defaults to <code>(0.0)</code> if not set.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op125" class="opcode">
		<span class="opnumberdata">#125 (0x7D)</span>

		<span class="opnamedata">Spell Effect: Unlock (Knock)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the knock effect to the targeted creature(s).



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
It is automatically successful but only works on locks that can normally be picked with the Open Locks skill.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op126" class="opcode">
		<span class="opnumberdata">#126 (0x7E)</span>

		<span class="opnamedata">Stat: Movement Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op126">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>The engine allows values for <code>Statistic Modifier</code> from <code>0</code> (immobile) to <code>255</code> (instantaneous), though behaviour is only consistent in the range <code>0 – 30</code>.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Movement = Movement + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Movement = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Non-stacking Percentage Modifier: <code>Movement = (Movement * 'Statistic Modifier' value) / 100</code></li>
	<li>5 &longrightarrow; Multiplicative Stacking Percentage Modifier: <code>Movement = (Movement * 'Statistic Modifier' value) / 100</code> (EE only)</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
BG1 does not support the cumulative modifier and will behave as if in flat modifier mode.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
A couple of examples about <i>Multiplicative Stacking Percentage Modifier</i>:
<ul>
	<li><code>50% * 50% = 25%</code></li>
	<li><code>150% * 150% = 225%</code></li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op127" class="opcode">
		<span class="opnumberdata">#127 (0x7F)</span>

		<span class="opnamedata">Summon: Monster Summoning</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op127">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op127">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Number</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Mode</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Summons a number of monsters.
<br/>Each CRE file has a <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x18">Creature Power Level</a></code> number. The amount of monsters summoned by this effect depends on this value, the <code>special</code> parameter and if it's used in <a href="../file_formats/ie_formats/spl_v1.htm#splv1_Feature_Block">SPL</a> / <a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Feature_Block">ITM</a> or from an external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>.
<br/>When used in <a href="../file_formats/ie_formats/spl_v1.htm#splv1_Feature_Block">SPL</a>/<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Feature_Block">ITM</a> files, known value for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Summon until <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x18">Creature Power Level</a></code> equals/exceeds <code>Number</code></li>
	<li>1 &longrightarrow; Summon amount equal to <code>Number</code></li>
	<li>2 &longrightarrow; Summon until <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x18">Creature Power Level</a></code> equals/exceeds Caster's Level</li>
</ul>

<br/>When used in external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files, known value for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Summon until <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x18">Creature Power Level</a></code> equals/exceeds <code>Number</code></li>
	<li>1 &longrightarrow; Summon amount equal to <code>'Number' + Dice rolls</code></li>
	<li>2 &longrightarrow; Summon until <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x18">Creature Power Level</a></code> equals/exceeds <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xC8">Caster Level</a></code> field</li>
</ul>

<br/>The <code>Type</code> field sets which <a href="../file_formats/ie_formats/2da.htm">2DA</a> file to pick the creatures to summon from. The 2da files are <code>monsumX</code> and <code>anisumX</code>, where <code>X = 'Type' + 1</code>. <code>0–4</code> are allied , <code>5–9</code> are hostile. The specific 2da files used are:
<ul>
	<li>0 &longrightarrow; MONSUM01: Monster Summon 1</li>
	<li>1 &longrightarrow; MONSUM02: Monster Summon 2</li>
	<li>2 &longrightarrow; MONSUM03: Monster Summon 3</li>
	<li>3 &longrightarrow; ANISUM01: Animal Summon 1</li>
	<li>4 &longrightarrow; ANISUM02: Animal Summon 2</li>
	<li>5 &longrightarrow; MONSUM01: Monster Summon 1 Hostile</li>
	<li>6 &longrightarrow; MONSUM02: Monster Summon 2 Hostile</li>
	<li>7 &longrightarrow; MONSUM03: Monster Summon 3 Hostile</li>
	<li>8 &longrightarrow; ANISUM01: Animal Summon 1 Hostile</li>
	<li>9 &longrightarrow; ANISUM02: Animal Summon 2 Hostile</li>
</ul>

<br/>A custom .2da file can be entered in the resource field (untested in bg1).
<br/>If used from an external effect (.eff), the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70">vvc</a></code> field controls the bam file played when summoning.
 </div>
		<hr />

	</div>

	<div id="op128" class="opcode">
		<span class="opnumberdata">#128 (0x80)</span>

		<span class="opnamedata">State: Confusion</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the confusion effect to the targeted creature(s). The creature will run around uncontrollable, randomly attacking.



<div class="note important">
  <div>
    <strong>Important:</strong> 
<code>Timing Mode 1</code> will set <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20_BIT31">STATE_CONFUSED</a></code> without leaving behind a removable effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<a href="../files/ids/bgee/state.htm#BIT31">STATE_CONFUSED</a> specs:
<ul>
	<li>Creature is unseletectable, Inventory is disabled.</li>
	<li>The creature's AI scripts are disabled.</li>
	<li>The creature will randomly execute actions <a href="../scripting/actions/bgeeactions.htm#134">AttackReevaluate(NearestEnemyOf(Myself),15)</a>, <a href="../scripting/actions/bgeeactions.htm#85">RandomWalk()</a>, or <a href="../scripting/actions/bgeeactions.htm#0">NoAction()</a>.</li>
	<li>Disables Saving while affecting a Party Member (displayed message: "You do not control all your Party Members")</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op129" class="opcode">
		<span class="opnumberdata">#129 (0x81)</span>

		<span class="opnamedata">State: Aid</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op129">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies a bless effect to the targeted creature(s).<br />
In particular:
<ul>
	<li>Grants a bonus/penalty to all Saving Throws equal to <code>Statistic Modifier</code>.</li>
	<li>Grants a bonus/penalty to Current and Maximum Hit Points equal to <code>'Statistic Modifier'd8</code>.</li>
	<li>Grants a bonus/penalty to base <a href="../files/ids/bgee/stats.htm#7">THAC0</a> equal to <code>Statistic Modifier</code>.</li>
	<li>Grants a bonus/penalty to base <a href="../files/ids/bgee/stats.htm#50">weapon damage</a> equal to <code>Statistic Modifier</code>.</li>
	<li>Saving throws, THAC0, and Damage modifiers read only the first byte of <code>Statistic Modifier</code> for their value, the last 3 bytes are ignored.</li>
	<li>HP modifier uses the whole 4 bytes of <code>Statistic Modifier</code>.</li>
	<li>HP modifier is always positive (negative values become zero), but because Max HP itself is not bounded, it can overflow into negative amounts (Max HP is 32767).</li>
	<li>When used in external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s, <code>Parameter2</code> controls the exact amount of HP gained.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>While this opcode is "Non-Cumulative" (it sets values rather than increment), what it really does is stack in reverse standard order.</li>
	<li>The base <a href="../files/ids/bgee/state.htm#BIT27">STATE</a> set on the <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> file will override any effect applied to them (defaulting to a value of zero).</li>
	<li>The oldest equipped effect will override newer equipped effects, and any equipped effect will override a non-equipped effect.</li>
	<li>The oldest non-equipped effect will override newer non-equipped effects.</li>
</ul>
Testing in the original BG2 shows that if this opcode is used on an item with
“while equipped” duration, it becomes “permanent” when the item is equiped.
Meaning that one can equip/unequip the item multiple times to give more and
more eg. maximum hitpoints.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op130" class="opcode">
		<span class="opnumberdata">#130 (0x82)</span>

		<span class="opnamedata">State: Bless</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op130">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Modifies the THAC0, damage and morale of the target creature(s) by the amount specified by the <code>Modifier</code> parameter.<br />
In particular:
<ul>
	<li>Modifies <a href="../files/ids/bgee/stats.htm#7">THAC0</a></li>
	<li>Modifies <a href="../files/ids/bgee/stats.htm#50">DAMAGEBONUS</a></li>
	<li>Morale is a 5 point bonus.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>While this opcode is "Non-Cumulative" (it sets values rather than increment), what it really does is stack in reverse standard order.</li>
	<li>The base <a href="../files/ids/bgee/state.htm#BIT23">STATE</a> set on the <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> file will override any effect applied to them (defaulting to a value of zero).</li>
	<li>The oldest equipped effect will override newer equipped effects, and any equipped effect will override a non-equipped effect.</li>
	<li>The oldest non-equipped effect will override newer non-equipped effects.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Modifier</code> only reads the first byte for its value, the last 3 bytes are ignored.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
In IWD2 the effect is non-cumulative and also removes any Bane effects.
 This does not apply to Doom in other games.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op131" class="opcode">
		<span class="opnumberdata">#131 (0x83)</span>

		<span class="opnamedata">State: Positive Chant</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op131">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the chant effect to the targeted creature(s).<br />
This opcode has the same effects as <a href="#op22">opcode #22</a>, but maintains its own separate <a href="../files/ids/bgee/state.htm#BIT24">STATE</a>.<br/>
This opcode modifies <a href="../files/ids/bgee/stats.htm#32">LUCK</a>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
Multiple chant effects are not cumulative.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>While this opcode is "Non-Cumulative" (it sets values rather than increment), what it really does is stack in reverse standard order.</li>
	<li>The base <a href="../files/ids/bgee/state.htm#BIT24">STATE</a> set on the <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> file will override any effect applied to them (defaulting to a value of zero).</li>
	<li>The oldest equipped effect will override newer equipped effects, and any equipped effect will override a non-equipped effect.</li>
	<li>The oldest non-equipped effect will override newer non-equipped effects.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Modifier</code> only reads the first byte for its value, the last 3 bytes are ignored.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op132" class="opcode">
		<span class="opnumberdata">#132 (0x84)</span>

		<span class="opnamedata">State: Raise Strength, Constitution, & Dexterity Non-Cumulative</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Raises the strength, constitution and dexterity of the targeted creature(s) by the value specified by the <code>Statistic Modifier</code> field. A negative value of <code>Statistic Modifier</code> sets the Strength, Constitution and Dexterity of the targeted creature(s) to 25.



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>While this opcode is "Non-Cumulative" (it sets values rather than increment), what it really does is stack in reverse standard order.</li>
	<li>The base <a href="../files/ids/bgee/state.htm#BIT25">STATE</a> set on the <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> file will override any effect applied to them (defaulting to a value of zero).</li>
	<li>The oldest equipped effect will override newer equipped effects, and any equipped effect will override a non-equipped effect.</li>
	<li>The oldest non-equipped effect will override newer non-equipped effects.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Statistic Modifier</code> only reads the first byte for its value, the last 3 bytes are ignored.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op133" class="opcode">
		<span class="opnumberdata">#133 (0x85)</span>

		<span class="opnamedata">Spell Effect: Luck Non-Cumulative</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the luck effect to the targeted creature(s).<br />
This opcode has the same effects as <a href="#op22">opcode #22</a>, but maintains its own separate <a href="../files/ids/bgee/state.htm#BIT26">STATE</a>.<br/>
This opcode modifies <a href="../files/ids/bgee/stats.htm#32">LUCK</a>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>While this opcode is "Non-Cumulative" (it sets values rather than increment), what it really does is stack in reverse standard order.</li>
	<li>The base <a href="../files/ids/bgee/state.htm#BIT26">STATE</a> set on the <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> file will override any effect applied to them (defaulting to a value of zero).</li>
	<li>The oldest equipped effect will override newer equipped effects, and any equipped effect will override a non-equipped effect.</li>
	<li>The oldest non-equipped effect will override newer non-equipped effects.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Statistic Modifier</code> only reads the first byte for its value, the last 3 bytes are ignored.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op134" class="opcode">
		<span class="opnumberdata">#134 (0x86)</span>

		<span class="opnamedata">State: Petrification</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the petrification effect to the targeted creature(s). This effects kills & removes PC's from the party, and ends the game if used on the Protagonist (not in IWDs or PST).



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Does not remove any other death STATEs from the creature (as <a href="#op13">opcode #13</a> does).<br />
While the end result is otherwise the same as “Stoned Death” applied by <a href="#op13">opcode #13</a>, this opcode does not actually utilize <a href="#op13">opcode #13</a> (internally or otherwise), unlike most (all?) other forms of death.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<a href="../files/ids/bgee/state.htm#BIT7">STATE_STONE_DEATH</a> specs:
<ul>
	<li>Creature is NOT helpless – they still require an attack roll to be hit.</li>
	<li>Creature is unselectable, Inventory is disabled.</li>
	<li>Disables the creature's <code>SPECIFIC</code> script.</li>
	<li>Creature may only take actions listed in both <a href="../files/ids/bgee/actsleep.htm">ACTSLEEP.IDS</a> and <a href="../files/ids/bgee/instant.htm">INSTANT.IDS</a>.</li>
	<li>Any hostile action against the creature(s) applies an Exploding Stoned Death to them.</li>
	<li>Kicked from party, retains Inventory, Overlay's Color Index 72 on the entire creature.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op135" class="opcode">
		<span class="opnumberdata">#135 (0x87)</span>

		<span class="opnamedata">Graphics: Polymorph into Specific</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op135">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op135">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op135">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Polymorphs the targeted creature(s) into the creature specified by the <code>resource</code> key, in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Gain Resistances/statistics (spell-casting disabled)</li>
	<li>1 &longrightarrow; Appearance only</li>
</ul>

<p>
	This effect sets <code><a href="../files/ids/bgee/stats.htm#59">POLYMORPHED</a></code> to <code>1</code> but only if <code>Type=0</code>.
</p>

<p>
	If the <code>resource</code> key is empty, other Polymorph effects are removed, allowing for removal of permanent effects.
	<ul>
		<li>It will also remove any item in <code><a href="../files/ids/bgee/slots.htm#34">SLOT_MISC19</a></code> (Magical Weapon Slot), whether or not it was supplying a Polymorph effect.</li>
	</ul>
</p>



<div class="note bug">
	<div>
		<strong>Bug:</strong> 
At least on EE games, this opcode is bugged when you shapechange between two different non-natural forms. In particular:
<ul>
	<li>
		All your equipment will be considered as "unequipped" (in particular, you will lose passive bonuses/maluses granted by your Rings, Amulet, Helmet and the like).
		<ul>
			<li>Having said that, a <code><a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC">timing</a>=<a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC_4">4</a>,<a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xE">duration</a>=0</code> delay between removing the old polymorph and applying the new will bypass this issue.</li>
		</ul>
	</li>
</ul>

	</div>
</div>



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type</code> is <code>0</code>, this opcode sets
<ul>
	<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x238">Strength</a></code></li>
	<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x239">Exceptional Strength</a></code></li>
	<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x23C">Dexterity</a></code></li>
	<li>Resistances
		<ul>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_FireResistance">Fire</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_ColdResistance">Cold</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_ElectricityResistance">Electricity</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_AcidResistance">Acid</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_MagicResistance">Magic</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_MagicFireResistance">Magic Fire</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_MagicColdResistance">Magic Cold</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_SlashingResistance">Slashing</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_CrushingResistance">Crushing</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_PiercingResistance">Piercing</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_MissileResistance">Missile</a></code></li>
		</ul>
	</li>
	<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x48">Base AC</a></code></li>
	<li>Specific AC
		<ul>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x4A">Crushing</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x4C">Missile</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x4E">Piercing</a></code></li>
			<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x50">Slashing</a></code></li>
		</ul>
	</li>
	<li><code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x53">Base APR</a></code></li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
When the <code>resource</code> key is empty, and it subsequently clears other Polymorph effects, <code>Type</code> is used just like <code>param#1</code> of <a href="#op337">opcode #337</a>.<br />
As a result, it will clear all Polymorph effects if <code>Type = "-1"</code>, else it will only clear Polymorph effects that have a <code>param#2</code> that matches.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li><code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x60">Parameter3</a></code> (external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>): Circle Size</li>
	<li><code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x64">Parameter4</a></code> (external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>): Animation (from <a href="../files/ids/bgee/animate.htm">ANIMATE.IDS</a>)</li>
</ul>
These two values are not functional (changing them does nothing), but they do get set on the effect.

  </div>
</div>




<div class="note warning">
  <div>
    <strong>Warning:</strong> 
The creature you’re polymorphing into cannot have <a href="../files/ids/bgee/state.htm#BIT0">STATE_SLEEPING</a>, <a href="../files/ids/bgee/state.htm#BIT6">STATE_FROZEN_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT7">STATE_STONE_DEATH</a>, <a href="../files/ids/bgee/state.htm#BIT9">STATE_FLAME_DEATH</a>, or <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a> set in its <a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x20">CRE</a> file, or the game will crash.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op136" class="opcode">
		<span class="opnumberdata">#136 (0x88)</span>

		<span class="opnamedata">State: Force Visible</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undefined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Renders the targeted creature(s) partially visible: removes normal invisibility, but not the improved invisibility state; the targeted is visible and attackable, but not targetable by spells.
<br/>
<br/>The effect has no meaning on visible targets.
<br/>This effect has no duration.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Leave both parameters at zero for this effect to work.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op137" class="opcode">
		<span class="opnumberdata">#137 (0x89)</span>

		<span class="opnamedata">State: Negative Chant</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op137">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the chant effect to the targeted creature(s).<br/>
This opcode has the same effects as <a href="#op22">opcode #22</a>, but maintains its own separate <a href="../files/ids/bgee/state.htm#BIT28">STATE</a>.<br/>
This opcode modifies <a href="../files/ids/bgee/stats.htm#32">LUCK</a>.
<br/><br/>

This opcode works as the reverse of <a href="#op131">Chant</a> (positive values decrease Luck, negative values increase Luck).



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>While this opcode is "Non-Cumulative" (it sets values rather than increment), what it really does is stack in reverse standard order.</li>
	<li>The base <a href="../files/ids/bgee/state.htm#BIT28">STATE</a> set on the <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> file will override any effect applied to them (defaulting to a value of zero).</li>
	<li>The oldest equipped effect will override newer equipped effects, and any equipped effect will override a non-equipped effect.</li>
	<li>The oldest non-equipped effect will override newer non-equipped effects.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Statistic Modifier</code> only reads the first byte for its value, the last 3 bytes are ignored.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op138" class="opcode">
		<span class="opnumberdata">#138 (0x8A)</span>

		<span class="opnamedata">Graphics: Character Animation Change</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op138">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op138">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op138">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Animation Sequence</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) shows the animation sequence specified by the <code>Animation Sequence</code> field.
<br/>Known values for <code>Animation Sequence</code> are (from <a href="../files/ids/bgee/seq.htm">SEQ.IDS</a>):
<ul>
	<li>0 &longrightarrow; Attack</li>
	<li>1 &longrightarrow; Awake</li>
	<li>2 &longrightarrow; Cast</li>
	<li>3 &longrightarrow; Conjure</li>
	<li>4 &longrightarrow; Damage</li>
	<li>5 &longrightarrow; Die</li>
	<li>6 &longrightarrow; Turn head</li>
	<li>7 &longrightarrow; Ready</li>
	<li>8 &longrightarrow; Shoot</li>
	<li>9 &longrightarrow; Twitch</li>
	<li>10 &longrightarrow; Walk</li>
	<li>11 &longrightarrow; Attack (Slash)</li>
	<li>12 &longrightarrow; Attack (Backslash)</li>
	<li>13 &longrightarrow; Attack (Jab)</li>
	<li>14 &longrightarrow; Emerge</li>
	<li>15 &longrightarrow; Hide</li>
	<li>16 &longrightarrow; Sleep</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op139" class="opcode">
		<span class="opnumberdata">#139 (0x8B)</span>

		<span class="opnamedata">Text: Display String</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">String Reference</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Displays the strref specified by the <code>String Reference</code> value.



<div class="note info">
  <div>
    <strong>Info:</strong> 
At least in EE games, it is possible to colorize the string. In order to do so, follow the instructions concerning the colorization of the name of your character during <a href="https://gibberlings3.github.io/iesdp/appendices/charactercreation.htm">Character Creation</a>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op140" class="opcode">
		<span class="opnumberdata">#140 (0x8C)</span>

		<span class="opnamedata">Graphics: Casting Glow</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op140">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op140">PST</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op140">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Projectile Index</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Creates the specified projectile at the targeted creature's location. These effects are usually used for casting glows based on the spell school.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Use <code>Projectile Index</code> projectile value.</li>
	<li>1 .. 8 &longrightarrow; Crash</li>
	<li>9 &longrightarrow; <code><a href="../files/ids/bgee/projectl.htm">PROJECTL</a>[110]</code>, Default file: <code>"CGNECROM.PRO"</code></li>
	<li>10 &longrightarrow; <code><a href="../files/ids/bgee/projectl.htm">PROJECTL</a>[111]</code>, Default file: <code>"CGALTERA.PRO"</code></li>
	<li>11 &longrightarrow; <code><a href="../files/ids/bgee/projectl.htm">PROJECTL</a>[112]</code>, Default file: <code>"CGENCHAN.PRO"</code></li>
	<li>12 &longrightarrow; <code><a href="../files/ids/bgee/projectl.htm">PROJECTL</a>[113]</code>, Default file: <code>"CGABJURA.PRO"</code></li>
	<li>13 &longrightarrow; <code><a href="../files/ids/bgee/projectl.htm">PROJECTL</a>[114]</code>, Default file: <code>"CGILLUSI.PRO"</code></li>
	<li>14 &longrightarrow; <code><a href="../files/ids/bgee/projectl.htm">PROJECTL</a>[115]</code>, Default file: <code>"CGCONJUR.PRO"</code></li>
	<li>15 &longrightarrow; <code><a href="../files/ids/bgee/projectl.htm">PROJECTL</a>[116]</code>, Default file: <code>"CGINVOCA.PRO"</code></li>
	<li>16 &longrightarrow; <code><a href="../files/ids/bgee/projectl.htm">PROJECTL</a>[117]</code>, Default file: <code>"CGDIVINA.PRO"</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<code>Projectile Index</code> must be treated as in spells, i.e.: value in <code><a href="../files/ids/bgee/projectl.htm">PROJECTL.IDS</a> + 1</code>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This projectile does not deliver any effects.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The speed of the projectiles animations ARE affected by <a href="../files/ids/bgee/state.htm#BIT15">STATE_HASTED</a> and <a href="../files/ids/bgee/state.htm#BIT16">STATE_SLOWED</a> of the target.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op141" class="opcode">
		<span class="opnumberdata">#141 (0x8D)</span>

		<span class="opnamedata">Graphics: Lighting Effects</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op141">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op141">PST</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op141">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Target</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Actually creates the projectile (not just a BAM file) specified by the <code>Type</code> value at the location specified by <code>Target</code>. These effects are usually used for spell hits based on the spell school.
<br/>Known values for <code>Target</code> are:
<ul>
	<li>0 &LongRightArrow; Current Location</li>
	<li>Non-zero &LongRightArrow; Target Location</li>
</ul>

<br/>Known values for <code>Type</code> are:
<br/><br/>

<table border="1" width="98%">
	<thead>
		<tr>
			<th><code>Type</code> value</th>
			<th><a href="../files/ids/bgee/projectl.htm">PRO</a> Index</th>
			<th>Animation</th>
			<th>Palette Notes</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>0</td>
			<td>118</td>
			<td>SHAIR.BAM</td>
			<td>default (ice)</td>
		</tr>

		<tr>
			<td>1</td>
			<td>119</td>
			<td>SHEARTH.BAM</td>
			<td>default (ice)</td>
		</tr>

		<tr>
			<td>2</td>
			<td>120</td>
			<td>SHWATER.BAM</td>
			<td>default (ice)</td>
		</tr>

		<tr>
			<td>4</td>
			<td>121</td>
			<td>SHAIR.BAM</td>
			<td>SHAIR1.BMP (blue)</td>
		</tr>

		<tr>
			<td>5</td>
			<td>122</td>
			<td>SHEARTH.BAM</td>
			<td>SHEARTH1.BMP (blue)</td>
		</tr>

		<tr>
			<td>6</td>
			<td>123</td>
			<td>SHWATER.BAM</td>
			<td>SHWATER1.BMP (blue)</td>
		</tr>

		<tr>
			<td>8</td>
			<td>124</td>
			<td>SHAIR.BAM</td>
			<td>SHAIR2 (gold)</td>
		</tr>

		<tr>
			<td>9</td>
			<td>125</td>
			<td>SHEARTH.BAM</td>
			<td>SHEARTH2 (gold)</td>
		</tr>

		<tr>
			<td>10</td>
			<td>126</td>
			<td>SHWATER.BAM</td>
			<td>SHWATER2 (gold)</td>
		</tr>

		<tr>
			<td>12</td>
			<td>127</td>
			<td>SHAIR.BAM</td>
			<td>SHAIR3 (green)</td>
		</tr>

		<tr>
			<td>13</td>
			<td>128</td>
			<td>SHEARTH.BAM</td>
			<td>SHEARTH3 (green)</td>
		</tr>

		<tr>
			<td>14</td>
			<td>129</td>
			<td>SHWATER.BAM</td>
			<td>SHWATER3 (green)</td>
		</tr>

		<tr>
			<td>16</td>
			<td>130</td>
			<td>SHAIR.BAM</td>
			<td>SHAIR4 (magenta)</td>
		</tr>

		<tr>
			<td>17</td>
			<td>131</td>
			<td>SHEARTH.BAM</td>
			<td>SHEARTH4 (magenta)</td>
		</tr>

		<tr>
			<td>18</td>
			<td>132</td>
			<td>SHWATER.BAM</td>
			<td>SHWATER4 (magenta)</td>
		</tr>

		<tr>
			<td>20</td>
			<td>133</td>
			<td>SHAIR.BAM</td>
			<td>SHAIR5 (purple)</td>
		</tr>

		<tr>
			<td>21</td>
			<td>134</td>
			<td>SHEARTH.BAM</td>
			<td>SHEARTH5 (purple)</td>
		</tr>

		<tr>
			<td>22</td>
			<td>135</td>
			<td>SHWATER.BAM</td>
			<td>SHWATER5 (purple)</td>
		</tr>

		<tr>
			<td>24</td>
			<td>136</td>
			<td>SHAIR.BAM</td>
			<td>SHAIR6 (red)</td>
		</tr>

		<tr>
			<td>25</td>
			<td>137</td>
			<td>SHEARTH.BAM</td>
			<td>SHEARTH6 (red)</td>
		</tr>

		<tr>
			<td>26</td>
			<td>138</td>
			<td>SHWATER.BAM</td>
			<td>SHWATER6 (red)</td>
		</tr>

		<tr>
			<td>28</td>
			<td>139</td>
			<td>SHAIR.BAM</td>
			<td>SHAIR7 (stone)</td>
		</tr>

		<tr>
			<td>29</td>
			<td>140</td>
			<td>SHEARTH.BAM</td>
			<td>SHEARTH7 (stone)</td>
		</tr>

		<tr>
			<td>30</td>
			<td>141</td>
			<td>SHWATER.BAM</td>
			<td>SHWATER7 (stone)</td>
		</tr>

		<tr>
			<td>32</td>
			<td>142</td>
			<td>SPBOOM.BAM</td>
			<td>MPALETTE[67] (shiny gold)</td>
		</tr>

		<tr>
			<td>33</td>
			<td>143</td>
			<td>SPBOOM.BAM</td>
			<td>MPALETTE[65] (really dark gray)</td>
		</tr>

		<tr>
			<td>34</td>
			<td>144</td>
			<td>SPBOOM.BAM</td>
			<td>MPALETTE[69] (shiny green)</td>
		</tr>

		<tr>
			<td>35</td>
			<td>145</td>
			<td>FLMSTRK.BAM</td>
			<td>default (BG1 flamestrike)</td>
		</tr>

		<tr>
			<td>36</td>
			<td>146</td>
			<td>HLYMITE.BAM</td>
			<td>default (BG1 draw upon holy might)</td>
		</tr>

		<tr>
			<td>37</td>
			<td>147</td>
			<td>SHAIR.BAM</td>
			<td>default (white)</td>
		</tr>

		<tr>
			<td>38</td>
			<td>109</td>
			<td>SPDIMNDR.BAM</td>
			<td>default (BG1 dimension door)</td>
		</tr>

		<tr>
			<td>39</td>
			<td>207</td>
			<td>SPFDEATH.BAM</td>
			<td>default (BG1 finger of death)</td>
		</tr>
	</tbody>
</table>



<div class="note info">
  <div>
    <strong>Note:</strong> 
These projectiles ignore their entry in <a href="../files/ids/bgee/projectl.htm">PROJECTL.IDS</a>, they cannot be overwritten.<br />
Their animations (<code>"SHAIR"</code>, <code>"SHWATER"</code>, etc…) can be though.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This projectile does not deliver any effects.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The speed of the projectiles animations ARE NOT affected by <a href="../files/ids/bgee/state.htm#BIT15">STATE_HASTED</a> and <a href="../files/ids/bgee/state.htm#BIT16">STATE_SLOWED</a> of the target.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op142" class="opcode">
		<span class="opnumberdata">#142 (0x8E)</span>

		<span class="opnamedata">Graphics: Display Special Effect Icon</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op142">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op142">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op142">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Icon</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Shows the icon specified by the <code>Icon</code> field on the targeted creature(s) portrait.
<br/>All values are drawn directly from <code>"STATES.BAM"</code> in the <code>"GUIBam.bif"</code> starting at sequence <code>65</code>.
<br/><br/>

<table border="1" width="98%">
	<colgroup>
		<col width="20%" />
		<col width="20%" />
		<col width="20%" />
		<col width="20%" />
	</colgroup>
	<thead>
		<tr>
			<th><code>Icon</code> value</th>
			<th>BG2</th>
			<th>BG(2):EE</th>
			<th>IWD:EE</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>0</td>
			<td>Charm</td>
			<td>Charm</td>
			<td>Charm</td>
		</tr>
		<tr>
			<td>1</td>
			<td>Dire Charm</td>
			<td>Dire Charm</td>
			<td>Dire Charm</td>
		</tr>
		<tr>
			<td>2</td>
			<td>Rigid Thinking</td>
			<td>Rigid Thinking</td>
			<td>Rigid Thinking</td>
		</tr>
		<tr>
			<td>3</td>
			<td>Confused</td>
			<td>Confused</td>
			<td>Confused</td>
		</tr>
		<tr>
			<td>4</td>
			<td>Berserk</td>
			<td>Berserk</td>
			<td>Berserk</td>
		</tr>
		<tr>
			<td>5</td>
			<td>Intoxicated</td>
			<td>Intoxicated</td>
			<td>Intoxicated</td>
		</tr>
		<tr>
			<td>6</td>
			<td>Poisoned</td>
			<td>Poisoned</td>
			<td>Poisoned</td>
		</tr>
		<tr>
			<td>7</td>
			<td>Diseased</td>
			<td>Diseased</td>
			<td>Diseased</td>
		</tr>
		<tr>
			<td>8</td>
			<td>Blind</td>
			<td>Blind</td>
			<td>Blind</td>
		</tr>
		<tr>
			<td>9</td>
			<td>Protection From Evil</td>
			<td>Protection From Evil</td>
			<td>Protection From Evil</td>
		</tr>
		<tr>
			<td>10</td>
			<td>Protection From Petrification</td>
			<td>Protection From Petrification</td>
			<td>Protection From Petrification</td>
		</tr>
		<tr>
			<td>11</td>
			<td>Protection From Missiles</td>
			<td>Protection From Missiles</td>
			<td>Protection From Missiles</td>
		</tr>
		<tr>
			<td>12</td>
			<td>Magic Armor</td>
			<td>Magic Armor</td>
			<td>Magic Armor</td>
		</tr>
		<tr>
			<td>13</td>
			<td>Held</td>
			<td>Held</td>
			<td>Held</td>
		</tr>
		<tr>
			<td>14</td>
			<td>Sleep</td>
			<td>Sleep</td>
			<td>Sleep</td>
		</tr>
		<tr>
			<td>15</td>
			<td>Shielded</td>
			<td>Shielded</td>
			<td>Shielded</td>
		</tr>
		<tr>
			<td>16</td>
			<td>Protection From Fire</td>
			<td>Protection From Fire</td>
			<td>Protection From Fire</td>
		</tr>
		<tr>
			<td>17</td>
			<td>Blessed</td>
			<td>Blessed</td>
			<td>Blessed</td>
		</tr>
		<tr>
			<td>18</td>
			<td>Chant</td>
			<td>Chant</td>
			<td>Chant</td>
		</tr>
		<tr>
			<td>19</td>
			<td>Free Action</td>
			<td>Free Action</td>
			<td>Free Action</td>
		</tr>
		<tr>
			<td>20</td>
			<td>Barkskin</td>
			<td>Barkskin</td>
			<td>Barkskin</td>
		</tr>
		<tr>
			<td>21</td>
			<td>Strength</td>
			<td>Strength</td>
			<td>Strength</td>
		</tr>
		<tr>
			<td>22</td>
			<td>Heroism</td>
			<td>Heroism</td>
			<td>Heroism</td>
		</tr>
		<tr>
			<td>23</td>
			<td>Invulnerable</td>
			<td>Invulnerable</td>
			<td>Invulnerable</td>
		</tr>
		<tr>
			<td>24</td>
			<td>Protection From Acid</td>
			<td>Protection From Acid</td>
			<td>Protection From Acid</td>
		</tr>
		<tr>
			<td>25</td>
			<td>Protection From Cold</td>
			<td>Protection From Cold</td>
			<td>Protection From Cold</td>
		</tr>
		<tr>
			<td>26</td>
			<td>Resist Fire/Cold</td>
			<td>Resist Fire/Cold</td>
			<td>Resist Fire/Cold</td>
		</tr>
		<tr>
			<td>27</td>
			<td>Protection From Electricity</td>
			<td>Protection From Electricity</td>
			<td>Protection From Electricity</td>
		</tr>
		<tr>
			<td>28</td>
			<td>Protection From Magic</td>
			<td>Protection From Magic</td>
			<td>Protection From Magic</td>
		</tr>
		<tr>
			<td>29</td>
			<td>Protection From Undead</td>
			<td>Protection From Undead</td>
			<td>Protection From Undead</td>
		</tr>
		<tr>
			<td>30</td>
			<td>Protection From Poison</td>
			<td>Protection From Poison</td>
			<td>Protection From Poison</td>
		</tr>
		<tr>
			<td>31</td>
			<td>Non-detectable</td>
			<td>Non-detectable</td>
			<td>Non-detectable</td>
		</tr>
		<tr>
			<td>32</td>
			<td>Good Luck</td>
			<td>Good Luck</td>
			<td>Good Luck</td>
		</tr>
		<tr>
			<td>33</td>
			<td>Bad Luck</td>
			<td>Bad Luck</td>
			<td>Bad Luck</td>
		</tr>
		<tr>
			<td>34</td>
			<td>Silenced</td>
			<td>Silenced</td>
			<td>Silenced</td>
		</tr>
		<tr>
			<td>35</td>
			<td>Cursed</td>
			<td>Cursed</td>
			<td>Cursed</td>
		</tr>
		<tr>
			<td>36</td>
			<td>Panic</td>
			<td>Panic</td>
			<td>Panic</td>
		</tr>
		<tr>
			<td>37</td>
			<td>Resist Fear</td>
			<td>Resist Fear</td>
			<td>Resist Fear</td>
		</tr>
		<tr>
			<td>38</td>
			<td>Haste</td>
			<td>Haste</td>
			<td>Haste</td>
		</tr>
		<tr>
			<td>39</td>
			<td>Fatigue</td>
			<td>Fatigue</td>
			<td>Fatigue</td>
		</tr>
		<tr>
			<td>40</td>
			<td>Bard Song</td>
			<td>Bard Song</td>
			<td>Bard Song</td>
		</tr>
		<tr>
			<td>41</td>
			<td>Slow</td>
			<td>Slow</td>
			<td>Slow</td>
		</tr>
		<tr>
			<td>42</td>
			<td>Regenerate</td>
			<td>Regenerate</td>
			<td>Regenerate</td>
		</tr>
		<tr>
			<td>43</td>
			<td>Domination</td>
			<td>Domination</td>
			<td>Domination</td>
		</tr>
		<tr>
			<td>44</td>
			<td>Hopelessness</td>
			<td>Hopelessness</td>
			<td>Hopelessness</td>
		</tr>
		<tr>
			<td>45</td>
			<td>Greater Malison</td>
			<td>Greater Malison</td>
			<td>Greater Malison</td>
		</tr>
		<tr>
			<td>46</td>
			<td>Spirit Armor</td>
			<td>Spirit Armor</td>
			<td>Spirit Armor</td>
		</tr>
		<tr>
			<td>47</td>
			<td>Chaos</td>
			<td>Chaos</td>
			<td>Chaos</td>
		</tr>
		<tr>
			<td>48</td>
			<td>Feebleminded</td>
			<td>Feebleminded</td>
			<td>Feebleminded</td>
		</tr>
		<tr>
			<td>49</td>
			<td>Defensive Harmony</td>
			<td>Defensive Harmony</td>
			<td>Defensive Harmony</td>
		</tr>
		<tr>
			<td>50</td>
			<td>Champion's Strength</td>
			<td>Champion's Strength</td>
			<td>Champion's Strength</td>
		</tr>
		<tr>
			<td>51</td>
			<td>Dying</td>
			<td>Dying</td>
			<td>Dying</td>
		</tr>
		<tr>
			<td>52</td>
			<td>Mind Shield</td>
			<td>Mind Shield</td>
			<td>Mind Shield</td>
		</tr>
		<tr>
			<td>53</td>
			<td>Energy Drain</td>
			<td>Energy Drain</td>
			<td>Energy Drain</td>
		</tr>
		<tr>
			<td>54</td>
			<td>Polymorph Self</td>
			<td>Polymorph Self</td>
			<td>Polymorph Self</td>
		</tr>
		<tr>
			<td>55</td>
			<td>Stun</td>
			<td>Stun</td>
			<td>Stun</td>
		</tr>
		<tr>
			<td>56</td>
			<td>Regeneration</td>
			<td>Regeneration</td>
			<td>Regeneration</td>
		</tr>
		<tr>
			<td>57</td>
			<td>Perception</td>
			<td>Perception</td>
			<td>Perception</td>
		</tr>
		<tr>
			<td>58</td>
			<td>Master Thievery</td>
			<td>Master Thievery</td>
			<td>Master Thievery</td>
		</tr>
		<tr>
			<td>59</td>
			<td>Energy Drain</td>
			<td>Energy Drain</td>
			<td>Energy Drain</td>
		</tr>
		<tr>
			<td>60</td>
			<td>Holy Power</td>
			<td>Holy Power</td>
			<td>Holy Power</td>
		</tr>
		<tr>
			<td>61</td>
			<td>Cloak of Fear</td>
			<td>Cloak of Fear</td>
			<td>Cloak of Fear</td>
		</tr>
		<tr>
			<td>62</td>
			<td>Iron Skins</td>
			<td>Iron Skins</td>
			<td>Iron Skins</td>
		</tr>
		<tr>
			<td>63</td>
			<td>Magic Resistance</td>
			<td>Magic Resistance</td>
			<td>Magic Resistance</td>
		</tr>
		<tr>
			<td>64</td>
			<td>Righteous Magic</td>
			<td>Righteous Magic</td>
			<td>Righteous Magic</td>
		</tr>
		<tr>
			<td>65</td>
			<td>Spell Turning</td>
			<td>Spell Turning</td>
			<td>Spell Turning</td>
		</tr>
		<tr>
			<td>66</td>
			<td>Repulsing Undead</td>
			<td>Repulsing Undead</td>
			<td>Repulsing Undead</td>
		</tr>
		<tr>
			<td>67</td>
			<td>Spell Deflection</td>
			<td>Spell Deflection</td>
			<td>Spell Deflection</td>
		</tr>
		<tr>
			<td>68</td>
			<td>Fireshield Red</td>
			<td>Fireshield Red</td>
			<td>Fireshield Red</td>
		</tr>
		<tr>
			<td>69</td>
			<td>Fireshield Blue</td>
			<td>Fireshield Blue</td>
			<td>Fireshield Blue</td>
		</tr>
		<tr>
			<td>70</td>
			<td>Protection from Normal Weapon</td>
			<td>Protection from Normal Weapon</td>
			<td>Protection from Normal Weapon</td>
		</tr>
		<tr>
			<td>71</td>
			<td>Protection from Magic Weapon</td>
			<td>Protection from Magic Weapon</td>
			<td>Protection from Magic Weapon</td>
		</tr>
		<tr>
			<td>72</td>
			<td>Tenser's Transformation</td>
			<td>Tenser's Transformation</td>
			<td>Tenser's Transformation</td>
		</tr>
		<tr>
			<td>73</td>
			<td>Protection from Magical Energy</td>
			<td>Spell Shield</td>
			<td>Spell Shield</td>
		</tr>
		<tr>
			<td>74</td>
			<td>Mislead</td>
			<td>Mislead</td>
			<td>Mislead</td>
		</tr>
		<tr>
			<td>75</td>
			<td>Contingency Active</td>
			<td>Contingency Active</td>
			<td>Contingency Active</td>
		</tr>
		<tr>
			<td>76</td>
			<td>Protected from the Elements</td>
			<td>Protected from the Elements</td>
			<td>Protected from the Elements</td>
		</tr>
		<tr>
			<td>77</td>
			<td>Projected Image</td>
			<td>Projected Image</td>
			<td>Projected Image</td>
		</tr>
		<tr>
			<td>78</td>
			<td>Maze</td>
			<td>Maze</td>
			<td>Maze</td>
		</tr>
		<tr>
			<td>79</td>
			<td>Imprisonment</td>
			<td>Imprisonment</td>
			<td>Imprisonment</td>
		</tr>
		<tr>
			<td>80</td>
			<td>Stoneskin</td>
			<td>Stoneskin</td>
			<td>Stoneskin</td>
		</tr>
		<tr>
			<td>81</td>
			<td>KAI</td>
			<td>KAI</td>
			<td>KAI</td>
		</tr>
		<tr>
			<td>82</td>
			<td>Called Shot</td>
			<td>Called Shot</td>
			<td>Called Shot</td>
		</tr>
		<tr>
			<td>83</td>
			<td>Spell Failure</td>
			<td>Spell Failure</td>
			<td>Spell Failure</td>
		</tr>
		<tr>
			<td>84</td>
			<td>Offensive Spin</td>
			<td>Offensive Spin</td>
			<td>Offensive Spin</td>
		</tr>
		<tr>
			<td>85</td>
			<td>Defensive Spin</td>
			<td>Defensive Spin</td>
			<td>Defensive Spin</td>
		</tr>
		<tr>
			<td>86</td>
			<td>Intelligence drained by mind flayer</td>
			<td>Intelligence drained by mind flayer</td>
			<td>Intelligence drained by mind flayer</td>
		</tr>
		<tr>
			<td>87</td>
			<td>Regenerating</td>
			<td>Regenerating</td>
			<td>Regenerating</td>
		</tr>
		<tr>
			<td>88</td>
			<td>In Dialog</td>
			<td>In Dialog</td>
			<td>In Dialog</td>
		</tr>
		<tr>
			<td>89</td>
			<td>In Store</td>
			<td>In Store</td>
			<td>In Store</td>
		</tr>
		<tr>
			<td>90</td>
			<td>Negative Plane Protection</td>
			<td>Negative Plane Protection</td>
			<td>Negative Plane Protection</td>
		</tr>
		<tr>
			<td>91</td>
			<td>Ability Score Drained</td>
			<td>Ability Score Drained</td>
			<td>Ability Score Drained</td>
		</tr>
		<tr>
			<td>92</td>
			<td>Spell Sequencer Active</td>
			<td>Spell Sequencer Active</td>
			<td>Spell Sequencer Active</td>
		</tr>
		<tr>
			<td>93</td>
			<td>Protected from Energy</td>
			<td>Protected from Energy</td>
			<td>Protected from Energy</td>
		</tr>
		<tr>
			<td>94</td>
			<td>Magnetized</td>
			<td>Magnetized</td>
			<td>Magnetized</td>
		</tr>
		<tr>
			<td>95</td>
			<td>Able to Poison Weapons</td>
			<td>Able to Poison Weapons</td>
			<td>Able to Poison Weapons</td>
		</tr>
		<tr>
			<td>96</td>
			<td>Setting Trap</td>
			<td>Setting Trap</td>
			<td>Setting Trap</td>
		</tr>
		<tr>
			<td>97</td>
			<td>Glass Dust</td>
			<td>Glass Dust</td>
			<td>Glass Dust</td>
		</tr>
		<tr>
			<td>98</td>
			<td>Blade Barrier</td>
			<td>Blade Barrier</td>
			<td>Blade Barrier</td>
		</tr>
		<tr>
			<td>99</td>
			<td>Death Ward</td>
			<td>Death Ward</td>
			<td>Death Ward</td>
		</tr>
		<tr>
			<td>100</td>
			<td>Doom</td>
			<td>Doom</td>
			<td>Doom</td>
		</tr>
		<tr>
			<td>101</td>
			<td>Decaying</td>
			<td>Decaying</td>
			<td>Decaying</td>
		</tr>
		<tr>
			<td>102</td>
			<td>Acid</td>
			<td>Acid</td>
			<td>Acid</td>
		</tr>
		<tr>
			<td>103</td>
			<td>Vocalize</td>
			<td>Vocalize</td>
			<td>Vocalize</td>
		</tr>
		<tr>
			<td>104</td>
			<td>Mantle</td>
			<td>Mantle</td>
			<td>Mantle</td>
		</tr>
		<tr>
			<td>105</td>
			<td>Miscast Magic</td>
			<td>Miscast Magic</td>
			<td>Miscast Magic</td>
		</tr>
		<tr>
			<td>106</td>
			<td>Magic Resistance Lowered</td>
			<td>Magic Resistance Lowered</td>
			<td>Magic Resistance Lowered</td>
		</tr>
		<tr>
			<td>107</td>
			<td>Spell Immunity</td>
			<td>Spell Immunity</td>
			<td>Spell Immunity</td>
		</tr>
		<tr>
			<td>108</td>
			<td>True Seeing</td>
			<td>True Seeing</td>
			<td>True Seeing</td>
		</tr>
		<tr>
			<td>109</td>
			<td>Detecting Traps</td>
			<td>Detecting Traps / Illusions</td>
			<td>Detecting Traps</td>
		</tr>
		<tr>
			<td>110</td>
			<td>Improved Haste</td>
			<td>Improved Haste</td>
			<td>Improved Haste</td>
		</tr>
		<tr>
			<td>111</td>
			<td>Spell Trigger</td>
			<td>Spell Trigger</td>
			<td>Spell Trigger</td>
		</tr>
		<tr>
			<td>112</td>
			<td>Deaf</td>
			<td>Deaf</td>
			<td>Deaf</td>
		</tr>
		<tr>
			<td>113</td>
			<td>Enfeebled</td>
			<td>Enfeebled</td>
			<td>Enfeebled</td>
		</tr>
		<tr>
			<td>114</td>
			<td>Infravision</td>
			<td>Infravision</td>
			<td>Infravision</td>
		</tr>
		<tr>
			<td>115</td>
			<td>Friends</td>
			<td>Friends</td>
			<td>Friends</td>
		</tr>
		<tr>
			<td>116</td>
			<td>Shield of the Archons</td>
			<td>Shield of the Archons</td>
			<td>Shield of the Archons</td>
		</tr>
		<tr>
			<td>117</td>
			<td>Spell Trap</td>
			<td>Spell Trap</td>
			<td>Spell Trap</td>
		</tr>
		<tr>
			<td>118</td>
			<td>Absolute Immunity</td>
			<td>Absolute Immunity</td>
			<td>Absolute Immunity</td>
		</tr>
		<tr>
			<td>119</td>
			<td>Improved Mantle</td>
			<td>Improved Mantle</td>
			<td>Improved Mantle</td>
		</tr>
		<tr>
			<td>120</td>
			<td>Farsight</td>
			<td>Farsight</td>
			<td>Farsight</td>
		</tr>
		<tr>
			<td>121</td>
			<td>Globe of Invulnerability</td>
			<td>Globe of Invulnerability</td>
			<td>Globe of Invulnerability</td>
		</tr>
		<tr>
			<td>122</td>
			<td>Minor Globe Of Invulnerability</td>
			<td>Minor Globe Of Invulnerability</td>
			<td>Minor Globe Of Invulnerability</td>
		</tr>
		<tr>
			<td>123</td>
			<td>Spell Shield</td>
			<td>Protected from Magical Energy</td>
			<td>Protected from Magical Energy</td>
		</tr>
		<tr>
			<td>124</td>
			<td>Polymorphed</td>
			<td>Polymorphed</td>
			<td>Polymorphed</td>
		</tr>
		<tr>
			<td>125</td>
			<td>Otiluke's Resilient Sphere</td>
			<td>Otiluke's Resilient Sphere</td>
			<td>Otiluke's Resilient Sphere</td>
		</tr>
		<tr>
			<td>126</td>
			<td>Nauseated</td>
			<td>Nauseated</td>
			<td>Nauseated</td>
		</tr>
		<tr>
			<td>127</td>
			<td>Ghost Armor</td>
			<td>Ghost Armor</td>
			<td>Ghost Armor</td>
		</tr>
		<tr>
			<td>128</td>
			<td>Glitterdust</td>
			<td>Glitterdust</td>
			<td>Glitterdust</td>
		</tr>
		<tr>
			<td>129</td>
			<td>Webbed</td>
			<td>Webbed</td>
			<td>Webbed</td>
		</tr>
		<tr>
			<td>130</td>
			<td>Unconscious</td>
			<td>Unconscious</td>
			<td>Unconscious</td>
		</tr>
		<tr>
			<td>131</td>
			<td>Mental Combat</td>
			<td>Mental Combat</td>
			<td>Mental Combat</td>
		</tr>
		<tr>
			<td>132</td>
			<td>Physical Mirror</td>
			<td>Physical Mirror</td>
			<td>Physical Mirror</td>
		</tr>
		<tr>
			<td>133</td>
			<td>Repulse Undead</td>
			<td>Repulse Undead</td>
			<td>Repulse Undead</td>
		</tr>
		<tr>
			<td>134</td>
			<td>Chaotic Commands</td>
			<td>Chaotic Commands</td>
			<td>Chaotic Commands</td>
		</tr>
		<tr>
			<td>135</td>
			<td>Draw Upon Holy Might</td>
			<td>Draw Upon Holy Might</td>
			<td>Draw Upon Holy Might</td>
		</tr>
		<tr>
			<td>136</td>
			<td>Strength of One</td>
			<td>Strength of One</td>
			<td>Strength of One</td>
		</tr>
		<tr>
			<td>137</td>
			<td>Bleeding</td>
			<td>Bleeding</td>
			<td>Bleeding</td>
		</tr>
		<tr>
			<td>138</td>
			<td>Rage</td>
			<td>Rage</td>
			<td>Rage</td>
		</tr>
		<tr>
			<td>139</td>
			<td>Boon of Lathander</td>
			<td>Boon of Lathander</td>
			<td>Boon of Lathander</td>
		</tr>
		<tr>
			<td>140</td>
			<td>Storm Shield</td>
			<td>Storm Shield</td>
			<td>Storm Shield</td>
		</tr>
		<tr>
			<td>141</td>
			<td>Enraged</td>
			<td>Enraged</td>
			<td>Enraged</td>
		</tr>
		<tr>
			<td>142</td>
			<td>Stunning Blow</td>
			<td>Stunning Blow</td>
			<td>Stunning Blow</td>
		</tr>
		<tr>
			<td>143</td>
			<td>Quivering Palm</td>
			<td>Quivering Palm</td>
			<td>Quivering Palm</td>
		</tr>
		<tr>
			<td>144</td>
			<td>Entangled</td>
			<td>Entangled</td>
			<td>Entangled</td>
		</tr>
		<tr>
			<td>145</td>
			<td>Grease</td>
			<td>Grease</td>
			<td>Grease</td>
		</tr>
		<tr>
			<td>146</td>
			<td>Smite</td>
			<td>Smite</td>
			<td>Smite</td>
		</tr>
		<tr>
			<td>147</td>
			<td>Hardiness</td>
			<td>Hardiness</td>
			<td>Hardiness</td>
		</tr>
		<tr>
			<td>148</td>
			<td>Power Attack</td>
			<td>Power Attack</td>
			<td>Power Attack</td>
		</tr>
		<tr>
			<td>149</td>
			<td>Whirlwind Attack</td>
			<td>Whirlwind Attack</td>
			<td>Whirlwind Attack</td>
		</tr>
		<tr>
			<td>150</td>
			<td>Greater Whirlwind Attack</td>
			<td>Greater Whirlwind Attack</td>
			<td>Greater Whirlwind Attack</td>
		</tr>
		<tr>
			<td>151</td>
			<td>Magic Flute</td>
			<td>Magic Flute</td>
			<td>Chaos of Battle</td>
		</tr>
		<tr>
			<td>152</td>
			<td>Critical Strike</td>
			<td>Critical Strike</td>
			<td>Critical Strike</td>
		</tr>
		<tr>
			<td>153</td>
			<td>Greater Deathblow</td>
			<td>Greater Deathblow</td>
			<td>Greater Deathblow</td>
		</tr>
		<tr>
			<td>154</td>
			<td>Deathblow</td>
			<td>Deathblow</td>
			<td>Deathblow</td>
		</tr>
		<tr>
			<td>155</td>
			<td>Avoid Death</td>
			<td>Avoid Death</td>
			<td>Avoid Death</td>
		</tr>
		<tr>
			<td>156</td>
			<td>Assassination</td>
			<td>Assassination</td>
			<td>Assassination</td>
		</tr>
		<tr>
			<td>157</td>
			<td>Evasion</td>
			<td>Evasion</td>
			<td>Evasion</td>
		</tr>
		<tr>
			<td>158</td>
			<td>Greater Evasion</td>
			<td>Greater Evasion</td>
			<td>Greater Evasion</td>
		</tr>
		<tr>
			<td>159</td>
			<td>Improved Alacrity</td>
			<td>Improved Alacrity</td>
			<td>Improved Alacrity</td>
		</tr>
		<tr>
			<td>160</td>
			<td>Aura of Flaming Death</td>
			<td>Aura of Flaming Death</td>
			<td>Aura of Flaming Death</td>
		</tr>
		<tr>
			<td>161</td>
			<td>Globe of Blades</td>
			<td>Globe of Blades</td>
			<td>Globe of Blades</td>
		</tr>
		<tr>
			<td>162</td>
			<td>Improved Chaos Shield</td>
			<td>Improved Chaos Shield</td>
			<td>Improved Chaos Shield</td>
		</tr>
		<tr>
			<td>163</td>
			<td>Chaos Shield</td>
			<td>Chaos Shield</td>
			<td>Chaos Shield</td>
		</tr>
		<tr>
			<td>164</td>
			<td>Fire Elemental Transformation</td>
			<td>Fire Elemental Transformation</td>
			<td>Fire Elemental Transformation</td>
		</tr>
		<tr>
			<td>165</td>
			<td>Earth Elemental Transformation</td>
			<td>Earth Elemental Transformation</td>
			<td>Earth Elemental Transformation</td>
		</tr>
		<tr>
			<td>166</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Mind Blank</td>
		</tr>
		<tr>
			<td>167</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Aid</td>
		</tr>
		<tr>
			<td>168</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Phased</td>
		</tr>
		<tr>
			<td>169</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Pain</td>
		</tr>
		<tr>
			<td>170</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Impervious Sanctity of Mind</td>
		</tr>
		<tr>
			<td>171</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Petrified</td>
		</tr>
		<tr>
			<td>172</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Iron Body</td>
		</tr>
		<tr>
			<td>173</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Animal Rage</td>
		</tr>
		<tr>
			<td>174</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Exaltation</td>
		</tr>
		<tr>
			<td>175</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Recitation</td>
		</tr>
		<tr>
			<td>176</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Blood Rage</td>
		</tr>
		<tr>
			<td>177</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>The Ballad of Three Heroes</td>
		</tr>
		<tr>
			<td>178</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>The Tale of Curran Strongheart</td>
		</tr>
		<tr>
			<td>179</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Tymora's Melody</td>
		</tr>
		<tr>
			<td>180</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>The Song of Kaudies</td>
		</tr>
		<tr>
			<td>181</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>The Siren's Yearning</td>
		</tr>
		<tr>
			<td>182</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>War Chant of Sith</td>
		</tr>
		<tr>
			<td>183</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Prayer</td>
		</tr>
		<tr>
			<td>184</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Righteous Wrath of the Faithful</td>
		</tr>
		<tr>
			<td>185</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Cat's Grace</td>
		</tr>
		<tr>
			<td>186</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Hope</td>
		</tr>
		<tr>
			<td>187</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Courage</td>
		</tr>
		<tr>
			<td>188</td>
			<td>Unknown</td>
			<td>Enchanted Weapon</td>
			<td>Unknown</td>
		</tr>
		<tr>
			<td>189</td>
			<td>Unknown</td>
			<td>Spirit Ward</td>
			<td>Spirit Ward</td>
		</tr>
		<tr>
			<td>190</td>
			<td>Unknown</td>
			<td>Ether Gate</td>
			<td>Ether Gate</td>
		</tr>
		<tr>
			<td>191</td>
			<td>Unknown</td>
			<td>Shamanic Dance</td>
			<td>Shamanic Dance</td>
		</tr>
		<tr>
			<td>192</td>
			<td>Unknown</td>
			<td>Chaos of Battle</td>
			<td>Repulsion</td>
		</tr>
		<tr>
			<td>193</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Increased Movement Rate</td>
		</tr>
		<tr>
			<td>194</td>
			<td>Unknown</td>
			<td>Repulsion</td>
			<td>Immunity: Abjuration</td>
		</tr>
		<tr>
			<td>195</td>
			<td>Unknown</td>
			<td>Increased Movement Rate</td>
			<td>Immunity: Conjuration</td>
		</tr>
		<tr>
			<td>196</td>
			<td>Unknown</td>
			<td>Immunity: Abjuration</td>
			<td>Immunity: Divination</td>
		</tr>
		<tr>
			<td>197</td>
			<td>Unknown</td>
			<td>Immunity: Conjuration</td>
			<td>Immunity: Enchantment</td>
		</tr>
		<tr>
			<td>198</td>
			<td>Unknown</td>
			<td>Immunity: Divination</td>
			<td>Immunity: Illusion</td>
		</tr>
		<tr>
			<td>199</td>
			<td>Unknown</td>
			<td>Immunity: Enchantment</td>
			<td>Immunity: Evocation</td>
		</tr>
		<tr>
			<td>200</td>
			<td>Unknown</td>
			<td>Immunity: Illusion</td>
			<td>Immunity: Necromancy</td>
		</tr>
		<tr>
			<td>201</td>
			<td>Unknown</td>
			<td>Immunity: Evocation</td>
			<td>Immunity: Alteration</td>
		</tr>
		<tr>
			<td>202</td>
			<td>Unknown</td>
			<td>Immunity: Necromancy</td>
			<td>Enchanted Weapon</td>
		</tr>
		<tr>
			<td>203</td>
			<td>Unknown</td>
			<td>Immunity: Alteration</td>
			<td>Static Charge</td>
		</tr>
		<tr>
			<td>204</td>
			<td>Unknown</td>
			<td>Flaming Fists</td>
			<td>Entropy Shield</td>
		</tr>
		<tr>
			<td>205</td>
			<td>Unknown</td>
			<td>Frozen Fist</td>
			<td>Shield of Lathander</td>
		</tr>
		<tr>
			<td>206</td>
			<td>Unknown</td>
			<td>Armor of Faith</td>
			<td>Greater Shield of Lathander</td>
		</tr>
		<tr>
			<td>207</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Beltyn's Burning Blood</td>
		</tr>
		<tr>
			<td>208</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Shroud of Flame</td>
		</tr>
		<tr>
			<td>209</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Antimagic Shell</td>
		</tr>
		<tr>
			<td>210</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Flaming Fists</td>
		</tr>
		<tr>
			<td>211</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Frozen Fist</td>
		</tr>
		<tr>
			<td>212</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Circle of Bones</td>
		</tr>
		<tr>
			<td>213</td>
			<td>Unknown</td>
			<td>Unknown</td>
			<td>Armor of Faith</td>
		</tr>
	</tbody>
</table>



<div class="note info">
  <div>
    <strong>Note:</strong> 
On non-EE games, the engine refuses to show portrait 79 (Imprisonment).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
In EE games, values <code>0 – 190</code> are drawn directly from <code>"STATES.BAM"</code> from sequences <code>65 – 255</code>, but can be overridden in <a href="../files/2da/2da_bgee/statdesc.htm">STATDESC.2DA</a>. Additional values must be added to <a href="../files/2da/2da_bgee/statdesc.htm">STATDESC.2DA</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op143" class="opcode">
		<span class="opnumberdata">#143 (0x8F)</span>

		<span class="opnamedata">Item: Create Item in Slot</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op143">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op143">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Slot</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Creates the item specified by the <code>resource</code> key in the slot specified by the <code>Slot</code> field, on the targeted creature(s).
<br/>Known values for <code>Slot</code> (from <a href="../files/ids/bgee/slots.htm">SLOTS.IDS</a>) are:
<ul>
	<li>0 &longrightarrow; AMULET</li>
	<li>1 &longrightarrow; ARMOR</li>
	<li>2 &longrightarrow; BELT</li>
	<li>3 &longrightarrow; BOOTS</li>
	<li>4 &longrightarrow; CLOAK</li>
	<li>5 &longrightarrow; GAUNTLETS</li>
	<li>6 &longrightarrow; HELMET</li>
	<li>7 &longrightarrow; RING_LEFT</li>
	<li>8 &longrightarrow; RING_RIGHT</li>
	<li>9 &longrightarrow; SHIELD</li>
	<li>10 &longrightarrow; FIST</li>
	<li>11 &longrightarrow; AMMO</li>
	<li>15 &longrightarrow; MISC</li>
	<li>35 &longrightarrow; WEAPON</li>
	<li>11 &longrightarrow; AMMO0</li>
	<li>12 &longrightarrow; AMMO1</li>
	<li>13 &longrightarrow; AMMO2</li>
	<li>14 &longrightarrow; AMMO3</li>
	<li>15 &longrightarrow; MISC0</li>
	<li>16 &longrightarrow; MISC1</li>
	<li>17 &longrightarrow; MISC2</li>
	<li>18 &longrightarrow; MISC3</li>
	<li>19 &longrightarrow; MISC4</li>
	<li>20 &longrightarrow; MISC5</li>
	<li>21 &longrightarrow; MISC6</li>
	<li>22 &longrightarrow; MISC7</li>
	<li>23 &longrightarrow; MISC8</li>
	<li>24 &longrightarrow; MISC9</li>
	<li>25 &longrightarrow; MISC10</li>
	<li>26 &longrightarrow; MISC11</li>
	<li>27 &longrightarrow; MISC12</li>
	<li>28 &longrightarrow; MISC13</li>
	<li>29 &longrightarrow; MISC14</li>
	<li>30 &longrightarrow; MISC15</li>
	<li>31 &longrightarrow; MISC16</li>
	<li>32 &longrightarrow; MISC17</li>
	<li>33 &longrightarrow; MISC18</li>
	<li>34 &longrightarrow; MISC19 – Magical Weapon slot</li>
	<li>35 &longrightarrow; WEAPON0</li>
	<li>36 &longrightarrow; WEAPON1</li>
	<li>37 &longrightarrow; WEAPON2</li>
	<li>38 &longrightarrow; WEAPON3</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
The <code><a href="../files/ids/bgee/slots.htm#34">Magical Weapon Slot</a></code> does not allow <code><a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x2_3">Item</a></code> Abilities.<br>
Moreover, unlike <a href="#op111">opcode #111</a>, this opcode will not "equip" the item that's created in this particular slot.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
When using a non-permanent <code>timing mode</code>, it applies a delayed <a href="#op123">opcode #123</a> effect based on the duration, but with an empty <code>resource</code> field, resulting in nothing being removed.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op144" class="opcode">
		<span class="opnumberdata">#144 (0x90)</span>

		<span class="opnamedata">Button: Disable Button</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op144">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op144">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op144">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Button</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Disabled the button specified by the <code>Button</code> field. The resource field acts as a matching key to the resource field of the Enable Button, allowing separate enable/disable reasons.
<br/>Known values for <code>Button</code> are:
<ul>
	<li>0 &longrightarrow; Stealth Button</li>
	<li>1 &longrightarrow; Thieving Skill Button</li>
	<li>2 &longrightarrow; Spell Select Button</li>
	<li>3 &longrightarrow; First Quick Spell Button</li>
	<li>4 &longrightarrow; Second Quick Spell Button</li>
	<li>5 &longrightarrow; Third Quick Spell Button</li>
	<li>6 &longrightarrow; Turn Undead Button</li>
	<li>7 &longrightarrow; Talk Button</li>
	<li>8 &longrightarrow; Use Item Button</li>
	<li>9 &longrightarrow; First Quick Item Button</li>
	<li>10 &longrightarrow; Bard Song Button (EE only)</li>
	<li>11 &longrightarrow; Second Quick Item Button</li>
	<li>12 &longrightarrow; Third Quick Item Button</li>
	<li>13 &longrightarrow; Innate Ability Button</li>
	<li>14 &longrightarrow; Find Traps Button</li>
	<li>15 &longrightarrow; Inventory Button (EE only)</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op145" class="opcode">
		<span class="opnumberdata">#145 (0x91)</span>

		<span class="opnamedata">Spell: Disable Spell Casting Abilities</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op145">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Spell Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Show message?</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Disables spell casting abilities of the targeted creature(s), in the style specified by the <code>Spell Type</code> field.
<br/>Known values for <code>Spell Type</code> are:
<ul>
	<li>0 &longrightarrow; Disables <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_1">wizard</a></code> spells with <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x2">location</a>=<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x2_2">spell</a></code> (also applied by <a href="#op135">polymorph</a>)</li>
	<li>1 &longrightarrow; Disables <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_2">priest</a></code> spells with <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x2">location</a>=<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x2_2">spell</a></code> (also applied by <a href="#op135">polymorph</a>)</li>
	<li>2 &longrightarrow; Disables all innate spells (really any <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C">type</a></code> except <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_1">wizard</a></code>/<code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_2">priest</a></code>), regardless of <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x2">location</a></code></li>
	<li>3 &longrightarrow; Disables only "magical" spells (those lacking <code><a href="../file_formats/ie_formats/spl_v1.htm#Header_Flags_BIT14">Ignore dead/wild magic</a></code>), regardless of <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C">type</a></code> or <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x2">location</a></code> (EEs)</li>
</ul>

<br/>Known values for <code>Show message?</code> are:
<ul>
	<li>0 &longrightarrow; Yes</li>
	<li>1 &longrightarrow; No</li>
</ul> </div>
		<hr />

	</div>

	<div id="op146" class="opcode">
		<span class="opnumberdata">#146 (0x92)</span>

		<span class="opnamedata">Spell: Cast Spell (at Creature)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op146">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op146">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Casting Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Casts the spell specified by the <code>resource</code> key at the level specified by the <code>Casting Level</code> field, in the style specified by the <code>Type</code> field. A <code>Casting Level</code> of <code>0</code> casts at the level of the casting creature.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Normal Casting at specified level (<code>0</code> for caster level), non-interruptible</li>
	<li>1 &longrightarrow; Cast Instantly at caster level</li>
	<li>2 &longrightarrow; Cast Instantly at specified level (EE-only)</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<ul>
	<li>When this opcode gets reflected using <code>Type=1</code>, the spell specified by the <code>resource</code> key is cast at the target's Casting Level, not the caster's.</li>
	<li>When this opcode gets reflected (<a href="#op197">opcode #197</a>, <a href="#op198">opcode #198</a>, <a href="#op199">opcode #199</a>, <a href="#op202">opcode #202</a>, <a href="#op203">opcode #203</a> and <a href="#op207">opcode #207</a>) using <code>Type=2</code>, the spell specified by the <code>resource</code> key is cast at the specified <code>Casting Level</code>, and it will also affect the original target (as if it wasn't reflected).</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
  <li>
    When <code>Type=2</code>, effects in the <code>resource</code> will also bypass Magic Resistance, of every target, as if the caster targeted themselves, regardless of who they target with the spell or this effect.
    <ul>
      <li>Setting the <code><a href="../file_formats/ie_formats/pro_v1.htm#Behavior_BIT4">Ignore Center</a></code> bit in the subspell's projectile will force its effects to check Magic Resistance on every target, even if the caster did target themselves. Though as its primary function is to cause the projectile to ignore the caster (not "center"), it still won't affect them if it's <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">area-effect</a></code>.</li>
    </ul>
  </li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
If the target is a container, the <code>Type</code> parameter is ignored and treated as <code>0</code>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
See <a href="#op326">opcode #326</a> for some peculiarities of projectile behaviour for <code>Type=2</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op147" class="opcode">
		<span class="opnumberdata">#147 (0x93)</span>

		<span class="opnamedata">Spell: Learn Spell</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op147">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op147">PST</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op147">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) tries to learn the spell specified by the <code>resource</code> key.
<br/>Learning is successful when <code>1D100 <= the INT-dependent LEARN_SPELL value</code> in <a href="../files/2da/2da_bgee/intmod.htm">INTMOD.2DA</a>.
<br/>The <code>LEARN_SPELL</code> value is modified for mage specialists, with <code>+15</code> for same school spells, and <code>-15</code> for non-same school spells.



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li><code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_1">Wizard</a></code> spell type uses <a href="../files/2da/2da_bgee/intmod.htm">INTMOD.2DA</a>. Other <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C">Spell type</a></code>s automatically succeed, but report failure.</li>
	<li><code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_1">Wizard</a></code> spell type can be <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x34">level</a></code> <code>1–9</code> if learned.</li>
	<li><code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_2">Priest</a></code> spell type can be <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x34">level</a></code> <code>1–7</code> if learned.</li>
	<li>Other <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C">Spell type</a></code>s can be <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x34">level</a></code> <code>1–32767</code> if learned.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op148" class="opcode">
		<span class="opnumberdata">#148 (0x94)</span>

		<span class="opnamedata">Spell: Cast Spell (at Point)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Casting Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Casts the spell specified by the <code>resource</code> key, at the level specified by the <code>Casting Level</code> field, in the style specified by the <code>Type</code> field. A <code>Casting Level</code> of <code>0</code> casts at the level of the casting creature.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &LongRightArrow; Normal Casting</li>
	<li>1 &longrightarrow; Cast Instantly (ignore <code>Casting Level</code>)</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode does not work if the target is a container in non-ee versions.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
This opcode should generally target <code>Self</code>. In particular:
<ul>
	<li>The projectile of the subspell will originate from the target(s) of <a href="#op148">opcode #148</a>.</li>
	<li>If the SPL/ITM with <a href="#op148">opcode #148</a> targets a location, and doesn't have an <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">area-effect</a></code> projectile, there will be no target to cast on.</li>
	<li>If the SPL/ITM with <a href="#op148">opcode #148</a> has an <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">area-effect</a></code> projectile, the spell in <a href="#op148">opcode #148</a> would be cast once for every valid target.</li>
	<li>If this opcode uses the <code>Cast Instantly</code> option, then the target, not the caster, would cast the spell in <a href="#op148">opcode #148</a>.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op149" class="opcode">
		<span class="opnumberdata">#149 (0x95)</span>

		<span class="opnamedata">(Identify)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undefined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The use of this effect is unknown, and effect of its parameters are undefined.



<div class="note info">
  <div>
    <strong>Note:</strong> 
It is still processed, so it will still interact with <a href="#op200">Spell Turning</a>/<a href="#op201">Deflection</a>/etc… just like any other effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op150" class="opcode">
		<span class="opnumberdata">#150 (0x96)</span>

		<span class="opnamedata">Spell Effect: Find Traps</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the find traps effect to the targeted creature(s).



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
This effect is automatically successful, but can only find traps that are normally detectable by the Find Traps skill.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op151" class="opcode">
		<span class="opnumberdata">#151 (0x97)</span>

		<span class="opnamedata">Summon: Replace Creature</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op151">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op151">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Replaces the targeted creature(s) with creature specified by the <code>resource</code> key, in the style specified by the <code>Type</code> value.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Remove targeted creature via <a href="#op168">opcode #168</a></li>
	<li>1 &longrightarrow; Kill targeted creature via <a href="#op13">opcode #13</a><code><small><sup>*</sup></small>p2=8</code> (Chunking death)</li>
	<li>2 &longrightarrow; Kill targeted creature via <a href="#op13">opcode #13</a><code><small><sup>*</sup></small>p2=4</code> (Normal death)</li>
	<li>3 &longrightarrow; No effect on targeted creature – New creature (specified by the <code>resource</code> key) is spawned at target's location</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Experience is given as normal for a kill (the party still has to be the one applying the effect to earn experience).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op152" class="opcode">
		<span class="opnumberdata">#152 (0x98)</span>

		<span class="opnamedata">Spell Effect: Play Movie</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op152">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op152">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op152">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op152">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Plays the movie specified by the <code>resource</code> key.
<br><br>

<table border="1" width="98%">
	<thead>
		<tr>
			<th>BG2</th>
			<th>TOB</th>
			<th>All EE games</th>
			<th>BG:EE</th>
			<th>BG:SoD</th>
			<th>BG2:EE</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>BISLOGO</td>
			<td>INTRO</td>
			<td>LOGO – WotC logo</td>
			<td>DEATHAND – Death</td>
			<td>SODCIN01 – Siege of Dragonspear Introduction</td>
			<td>NITEDAY – Sunrise</td>
		</tr>
		<tr>
			<td>BWDRAGON</td>
			<td>MANAFORG</td>
			<td></td>
			<td>INTRO – Baldur's Gate: Enhanced Edition Introduction</td>
			<td>SODCIN02 – Boarskyr Bridge</td>
			<td>DAYNITE – Sunset</td>
		</tr>
		<tr>
			<td>DAYNITE</td>
			<td>MELISSAN</td>
			<td></td>
			<td>REST – Resting Outside</td>
			<td>SODCIN03 – Murder</td>
			<td>DEATHAND – Death</td>
		</tr>
		<tr>
			<td>DEATHAND</td>
			<td>OUTRO</td>
			<td></td>
			<td>RESTDUNG – Resting in Dungeon</td>
			<td>SODCIN05 – Epilogue</td>
			<td>INTRO15F – Shadows of Amn Intro</td>
		</tr>
		<tr>
			<td>END15FPS</td>
			<td>SARADUSH</td>
			<td></td>
			<td>RESTINN – Resting at Inn</td>
			<td></td>
			<td>FLYTHR01 – Asylum</td>
		</tr>
		<tr>
			<td>ENDCRDIT</td>
			<td>POCKETZZ</td>
			<td></td>
			<td>BGENTER – Entering Baldur's Gate</td>
			<td></td>
			<td>FLYTHR02 – Underdark</td>
		</tr>
		<tr>
			<td>FLYTHR01</td>
			<td></td>
			<td></td>
			<td>FRARMINN – Friendly Arm Inn</td>
			<td></td>
			<td>FLYTHR03 – Suldanessellar</td>
		</tr>
		<tr>
			<td>FLYTHR02</td>
			<td></td>
			<td></td>
			<td>NASHKELL – Nashkell</td>
			<td></td>
			<td>FLYTHR04 – Hell</td>
		</tr>
		<tr>
			<td>FLYTHR03</td>
			<td></td>
			<td></td>
			<td>CAMP – Bandit Camp</td>
			<td></td>
			<td>INTRO – Throne of Bhaal Intro</td>
		</tr>
		<tr>
			<td>FLYTHR04</td>
			<td></td>
			<td></td>
			<td>MINEFLOD – Flooding Cloakwood Mines</td>
			<td></td>
			<td>POCKETZZ – Pocket Plane Rest</td>
		</tr>
		<tr>
			<td>INTRO15F</td>
			<td></td>
			<td></td>
			<td>ELDRCITY – Undercity</td>
			<td></td>
			<td>SARADUSH – Saradush Flythrough</td>
		</tr>
		<tr>
			<td>NITEDAY</td>
			<td></td>
			<td></td>
			<td>ENDMOVIE – Epilogue</td>
			<td></td>
			<td>MANAFORG – Mana Forge Flythrough</td>
		</tr>
		<tr>
			<td>RESTCAMP</td>
			<td></td>
			<td></td>
			<td>ENDCRDIT – Credits</td>
			<td></td>
			<td>MELISSAN – Melissan's Demise</td>
		</tr>
		<tr>
			<td>RESTDUNG</td>
			<td></td>
			<td></td>
			<td>WRECK – Wrecked Ship (Werewolf Island)</td>
			<td></td>
			<td>OUTRO – Closing the Book</td>
		</tr>
		<tr>
			<td>RESTINN</td>
			<td></td>
			<td></td>
			<td>BLACKPIT – The Black Pits Introduction</td>
			<td></td>
			<td>HEXXATDR – Dragomyr's Crypt (Hexxat)</td>
		</tr>
		<tr>
			<td>WOTC</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td>DORNGORG – Resurrection Gorge (Dorn)</td>
		</tr>
		<tr>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td>DORNTREE – Ritual Circle (Dorn)</td>
		</tr>
		<tr>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td>NEERAES – Town Bell (Neera)</td>
		</tr>
		<tr>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td>RASAADMI – Sharran (Rasaad)</td>
		</tr>
		<tr>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td>RASAADTE – Temple (Rasaad)</td>
		</tr>
	</tbody>
</table>
 </div>
		<hr />

	</div>

	<div id="op153" class="opcode">
		<span class="opnumberdata">#153 (0x99)</span>

		<span class="opnamedata">Overlay: Sanctuary</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op153">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the sanctuary effect to the targeted creature(s).
<br/><br/>

Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Default overlay, "SANCTRY.BAM"</li>
	<li>1 &longrightarrow; Custom overlay, Resource field: Animation file (VVC or BAM)</li>
</ul>
<br/>This effect sets <a href="../files/ids/bgee/stats.htm#63">SANCTUARY</a> to <code>1</code>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op154" class="opcode">
		<span class="opnumberdata">#154 (0x9A)</span>

		<span class="opnamedata">Overlay: Entangle</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op154">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the entangle visual effect to the targeted creature(s). Does not actually prevent the target from moving.
<br/><br/>

Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Default overlay, "SPENTACI.BAM"</li>
	<li>1 &longrightarrow; Custom overlay, Resource field: Animation file (VVC or BAM)</li>
</ul>
<br/>This effect sets <a href="../files/ids/bgee/stats.htm#62">ENTANGLE</a> to <code>1</code>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be set to <code>0</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op155" class="opcode">
		<span class="opnumberdata">#155 (0x9B)</span>

		<span class="opnamedata">Overlay: Minor Globe</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op155">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op155">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the minor globe visual effect to the targeted creature(s).
<br/><br/>

Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Default overlay, "MINORGLB.BAM"</li>
	<li>1 &longrightarrow; Custom overlay, Resource field: Animation file (VVC or BAM)</li>
</ul>

<br/>This effect sets <a href="../files/ids/bgee/stats.htm#64">MINORGLOBE</a> to <code>1</code>.
 </div>
		<hr />

	</div>

	<div id="op156" class="opcode">
		<span class="opnumberdata">#156 (0x9C)</span>

		<span class="opnamedata">Overlay: Protection from Normal Missiles Cylinder</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op156">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the protection from normal missiles cylinder visual effect to the targeted creature(s).
<br/><br/>

Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Default overlay, "SPSHIELD.BAM"</li>
	<li>1 &longrightarrow; Custom overlay, Resource field: Animation file (VVC or BAM)</li>
</ul>

<br/>This effect sets <a href="../files/ids/bgee/stats.htm#65">SHIELDGLOBE</a> to <code>1</code>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op157" class="opcode">
		<span class="opnumberdata">#157 (0x9D)</span>

		<span class="opnamedata">State: Web Effect</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op157">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the web effect to the targeted creature(s). The affected creature becomes immobile and its AI scripts stop running.
<br/><br/>

Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Default overlay, "WEBENTD.BAM"</li>
	<li>1 &longrightarrow; Custom overlay, Resource field: Animation file (VVC or BAM)</li>
</ul>

<br/>This effect sets <a href="../files/ids/bgee/stats.htm#58">HELD</a> and <a href="../files/ids/bgee/stats.htm#67">WEB</a> to <code>1</code>. It also sets the <a href="../files/ids/bgee/state.htm#BIT5">STATE_HELPLESS</a> flag.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
It cannot be removed by any of the stun/held removal opcodes.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op158" class="opcode">
		<span class="opnumberdata">#158 (0x9E)</span>

		<span class="opnamedata">Overlay: Grease</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op158">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the grease visual effect to the targeted creature(s). Does not actually affect the target's movement rate.
<br/><br/>

Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Default overlay, "GREASED.BAM"</li>
	<li>1 &longrightarrow; Custom overlay, Resource field: Animation file (VVC or BAM)</li>
</ul>

<br/>This effect sets <a href="../files/ids/bgee/stats.htm#66">GREASE</a> to 1.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be 0 (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op159" class="opcode">
		<span class="opnumberdata">#159 (0x9F)</span>

		<span class="opnamedata">Spell Effect: Mirror Image (Exact Number)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the mirror image effect to the targeted creature(s), creating a number of images equal to the <code>Amount</code> value. Sets <a href="../files/ids/bgee/state.htm#BIT30">STATE_MIRRORIMAGE</a> to true.



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li><a href="../files/ids/bgee/state.htm#BIT30">STATE_MIRRORIMAGE</a> will maintain the effects of this opcode, once this opcode expires, but only until you save &amp; reload.</li>
	<li>If you set <a href="../files/ids/bgee/state.htm#BIT30">STATE_MIRRORIMAGE</a> on a <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> file, it won't do anything by itself.</li>
	<li>If you later apply <a href="#op119">opcode #119</a>/<a href="#op159">opcode #159</a> to the creature, once it expires, any remaining images will last until struck (absorbing attacks in the process), or until you save &amp; reload.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op160" class="opcode">
		<span class="opnumberdata">#160 (0xA0)</span>

		<span class="opnamedata">Remove Sanctuary</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op160">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <a href="#op153">sanctuary</a> effect from the targeted creature(s).



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op161" class="opcode">
		<span class="opnumberdata">#161 (0xA1)</span>

		<span class="opnamedata">Cure: Horror</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <a href="#op24">horror</a> effect from the targeted creature(s).
<br/>This effect ignores durations attributed to it.
 </div>
		<hr />

	</div>

	<div id="op162" class="opcode">
		<span class="opnumberdata">#162 (0xA2)</span>

		<span class="opnamedata">Cure: Hold</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op162">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the paralysis effect (<a href="#op109">opcode #109</a> and <a href="#op175">opcode #175</a>) from the targeted creature(s).



<div class="note important">
  <div>
    <strong>Important:</strong> 
This effect should be used with an instant timing mode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op163" class="opcode">
		<span class="opnumberdata">#163 (0xA3)</span>

		<span class="opnamedata">Protection: Free Action</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op163">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the free action effect to the targeted creature(s), restoring the creatures movement rate to its default value.<br/>
In particular, it only removes <a href="#op126">opcode #126</a> effects using <code>param2 = 1 (Set value)</code>, if the creature's current movement rate is less than the default movement rate for its current animation (Haste/Slow are not factored in this).



<div class="note important">
  <div>
    <strong>Important:</strong> 
Does NOT remove <code>Increment</code> or <code>Set &percnt; Value</code> effects, nor any using the alternate movement rate opcode, <a href="#op176">opcode #176</a>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Similarly affects <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effects if the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file is using the above values.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op164" class="opcode">
		<span class="opnumberdata">#164 (0xA4)</span>

		<span class="opnamedata">Cure: Drunkeness</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undefined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Clears the drunkeness stat (as modified by <a href="#op94">opcode #94</a>).
 </div>
		<hr />

	</div>

	<div id="op165" class="opcode">
		<span class="opnumberdata">#165 (0xA5)</span>

		<span class="opnamedata">Spell Effect: Pause Target</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the pause effect to the targeted creature(s).<br/>
In particular:
<ul>
	<li>Their inventory is still access-able.</li>
	<li>They are still select-able, and can be issued orders (for instance, activating modal abilities), though not all actions can be taken.</li>
	<li>It does not interrupt/end modal abilities the creature is currently using.</li>
	<li>They are not "helpless", an attack roll is still required to hit them.</li>
	<li>Their scripts stop running.</li>
</ul>

<br/>This effect sets <a href="../files/ids/bgee/stats.htm#70">CasterHold</a> to <code>1</code>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op166" class="opcode">
		<span class="opnumberdata">#166 (0xA6)</span>

		<span class="opnamedata">Stat: Magic Resistance Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op166">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op166">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Resistance = Resistance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Resistance = 'Statistic Modifier' value</code></li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#18">RESISTMAGIC</a>.
 </div>
		<hr />

	</div>

	<div id="op167" class="opcode">
		<span class="opnumberdata">#167 (0xA7)</span>

		<span class="opnamedata">Stat: THAC0 Modifier with Missile Weapons</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op167">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op167">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>THAC0 = THAC0 + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>THAC0 = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>THAC0 = (THAC0 * 'Statistic Modifier' value) / 100</code></li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op168" class="opcode">
		<span class="opnumberdata">#168 (0xA8)</span>

		<span class="opnamedata">Summon: Remove Creature</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op168">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Moves the targeted creature(s) to area <code>".ARE"</code> (a non-existent area). Also known as <a href="../scripting/actions/bgeeactions.htm#111">Script: Destroy Self</a>.
<br/><br/>

This deletes non-global creatures from the game (most common usage).
<br/><br/>

For Global Creatures:
<ul>
	<li>This effect removes the creature from the player's party (if they were in it).</li>
	<li>The effect will keep the creature out of the party and any other Area for its duration, but does not re-instate the creature once it expires.</li>
	<li>They can still be recovered through script actions once the effect expires.</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op169" class="opcode">
		<span class="opnumberdata">#169 (0xA9)</span>

		<span class="opnamedata">Graphics: Prevent Special Effect Icon</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op169">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op169">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op169">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Icon</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Prevents the icon specified by the <code>Icon</code> field from being displayed.
<br/>All values are drawn directly from "STATES.BAM" in the "GUIBam.bif" starting at sequence <code>65</code>.
<br/>Known values for <code>Icon</code> are: see <a href="#op142">opcode #142</a>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Only blocks <a href="#op142">opcode #142</a> effects with a matching <code>param2</code> value. Cannot block portrait icons generated by any other mechanic.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
In EE games, can also block <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effects if their EFF file uses <a href="#op142">opcode #142</a> with a matching <code>param2</code> value.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op170" class="opcode">
		<span class="opnumberdata">#170 (0xAA)</span>

		<span class="opnamedata">Graphics: Play Damage Animation</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op170">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Animation</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Plays the damage animation specified by the <code>Animation</code> field.
<br/>It just plays a visual effect, like a far more limited version of <a href="#op215">opcode #215</a>, and is always instantaneous.
<br/>Known values for <code>Animation</code> are:
<ul>
	<li>
		0 &longrightarrow; Blood (behind)
		<ul>
			<li>(EEs) Doesn't display any animation.</li>
		</ul>
	</li>
	<li>1 &longrightarrow; <code>"BLOODS.BAM"</code> Blood (small)</li>
	<li>2 &longrightarrow; <code>"BLOODM.BAM"</code> Blood (medium)</li>
	<li>3 &longrightarrow; <code>"BLOODL.BAM"</code> Blood (large)</li>
	<li>4 &longrightarrow; <code>"SPFIRIMP.BAM"</code> Fire 1</li>
	<li>5 &longrightarrow; <code>"SPFIRIMP.BAM"</code> Fire 2</li>
	<li>6 &longrightarrow; <code>"SPFIRIMP.BAM"</code> Fire 2</li>
	<li>7 &longrightarrow; <code>"SPSHKIMP.BAM"</code> Electricity 1</li>
	<li>8 &longrightarrow; <code>"SPSHKIMP.BAM"</code> Electricity 2</li>
	<li>9 &longrightarrow; <code>"SPSHKIMP.BAM"</code> Electricity 3</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
On EE games:
<ul>
	<li>
		For <code>Animation=4/5/6</code> and <code>Animation=7/8/9</code>, this opcode actually pulls the animation from <a href="../files/2da/2da_bgee/dmgtypes.htm">DMGTYPES.2DA</a>, each playing both <code>ANIMATION1</code> (those listed above) and <code>ANIMATION2</code>, for <code>FIRE</code> and <code>ELECTRICITY</code>, respectively. Does not play the <code>SOUND</code> associated with them though.
		<ul>
			<li><code>ANIMATION1</code> is the initial animation, <code>ANIMATION2</code> is the lingering animation.</li>
		</ul>
	</li>
	<li>BGEE/BG2EE use the default <code>*</code> (hardcoded) entries for all damage types, but they can be overridden by setting entries in <a href="../files/2da/2da_bgee/dmgtypes.htm">DMGTYPES.2DA</a>, as IWDEE does.</li>
	<li>The animations for <code>Animation=1/2/3</code> are not pulled from <a href="../files/2da/2da_bgee/dmgtypes.htm">DMGTYPES.2DA</a>, they're most likely fully hardcoded.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op171" class="opcode">
		<span class="opnumberdata">#171 (0xAB)</span>

		<span class="opnamedata">Spell: Give Ability</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op171">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the <code><a href="../file_formats/ie_formats/spl_v1.htm">SPL</a></code> specified by the <code>resource</code> key to the targeted creature(s).



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li><code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_1">Wizard</a></code> spell type can be <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x34">level</a></code> <code>1–9</code> if gained.</li>
	<li><code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_2">Priest</a></code> spell type can be <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x34">level</a></code> <code>1–7</code> if gained.</li>
	<li>Other <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C">Spell type</a></code>s can be <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x34">level</a></code> <code>1–32767</code> if gained.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op172" class="opcode">
		<span class="opnumberdata">#172 (0xAC)</span>

		<span class="opnamedata">Spell: Remove Spell</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op172">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op172">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <code><a href="../file_formats/ie_formats/spl_v1.htm">SPL</a></code> specified by the <code>resource</code> key from the targeted creature(s) spellbook.
<p>
  If the key is not 8 characters long, all memorized copies will be removed.<br>
  If the key is 8 characters, memorized copies will remain intact.
</p>


<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).
Two 8 characters long keys that are identical up to the 7<sup>th</sup> character are indistinguishable!

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op173" class="opcode">
		<span class="opnumberdata">#173 (0xAD)</span>

		<span class="opnamedata">Stat: Poison Resistance Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Modifies the Poison Resistance of the target creature(s) to the value specified by <code>Statistic Modifier</code>.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#74">RESISTPOISON</a>.



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
In EE v2.3 and prior, including the originals, this opcode always “Set” Poison Resistance; in v2.5 and later, it always “increments” Poison Resistance (it stacks).

  </div>
</div>


<br/>Also known as "Stat: Set Poison Resistance".
 </div>
		<hr />

	</div>

	<div id="op174" class="opcode">
		<span class="opnumberdata">#174 (0xAE)</span>

		<span class="opnamedata">Spell Effect: Play Sound Effect</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op174">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op174">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op174">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Plays the sound effect specified by the <code>resource</code> key.
<br/>Known Sound Effects are:
<ul>
	<li>EFF_E01 &longrightarrow; Expire Illusionary Spell</li>
	<li>EFF_E02 &longrightarrow; Expire Abjuration Spell</li>
	<li>EFF_E03 &longrightarrow; Expire Conjuration Spell</li>
	<li>EFF_E04 &longrightarrow; Expire Divination Spell</li>
	<li>EFF_E05 &longrightarrow; Expire Enchantment Spell</li>
	<li>EFF_E06 &longrightarrow; Expire Invocation Spell</li>
	<li>EFF_E07 &longrightarrow; Expire Necromancy Spell</li>
	<li>EFF_E08 &longrightarrow; Expire Alteration Spell</li>
	<li>EFF_M02 &longrightarrow; Wizard Abjuration Spell Effect</li>
	<li>EFF_M03 &longrightarrow; Wizard Conjuration Spell Effect</li>
	<li>EFF_M04 &longrightarrow; Wizard Divination Spell Effect</li>
	<li>EFF_M05 &longrightarrow; Wizard Enchantment Spell Effect</li>
	<li>EFF_M07 &longrightarrow; Wizard Necromancy Spell Effect</li>
	<li>EFF_M08 &longrightarrow; Wizard Alteration Spell Effect</li>
	<li>EFF_M09 &longrightarrow; Dimension Door</li>
	<li>EFF_M10 &longrightarrow; Dispel, Expire Illusionary Spell Effect</li>
	<li>EFF_M11A &longrightarrow; Expire Protection from Petrification</li>
	<li>EFF_M11B &longrightarrow; Expire Protection from Normal Missiles</li>
	<li>EFF_M11C &longrightarrow; Protection from Normal Missiles</li>
	<li>EFF_M12A &longrightarrow; Minor Globe Spell Effect</li>
	<li>EFF_M12B &longrightarrow; Expire Minor Globe Spell Effect</li>
	<li>EFF_M13 &longrightarrow; Monster Summoning</li>
	<li>EFF_M15 &longrightarrow; Wizard Hold Person/Undead/Monster</li>
	<li>EFF_M16 &longrightarrow; Confusion Spell Effect</li>
	<li>EFF_M18D &longrightarrow; Melf's Acid Arrow</li>
	<li>EFF_M20 &longrightarrow; Melf's Minute Meteors Impact</li>
	<li>EFF_M20 &longrightarrow; Fireball Impact</li>
	<li>EFF_M26 &longrightarrow; Animate Dead</li>
	<li>EFF_M28 &longrightarrow; Haste</li>
	<li>EFF_M29 &longrightarrow; Slow</li>
	<li>EFF_M31A &longrightarrow; Grease Area Effect Duration</li>
	<li>EFF_M31B &longrightarrow; Grease Start Area Effect</li>
	<li>EFF_M31C &longrightarrow; Grease Affect Creature</li>
	<li>EFF_M32 &longrightarrow; Blur</li>
	<li>EFF_M33 &longrightarrow; Wizard Illusionary Spell Effect</li>
	<li>EFF_M34 &longrightarrow; Ice Storm</li>
	<li>EFF_M35 &longrightarrow; Tree of Life Parasite Destruction</li>
	<li>EFF_M36 &longrightarrow; Viekang Teleport</li>
	<li>EFF_M36A &longrightarrow; Skull Trap (untriggered)</li>
	<li>EFF_M36B &longrightarrow; Skull Trap shatter</li>
	<li>EFF_M38 &longrightarrow; Teleport Without Error</li>
	<li>EFF_M41 &longrightarrow; Disintegrate dust</li>
	<li>EFF_M38 &longrightarrow; ic Armor</li>
	<li>EFF_M52 &longrightarrow; Protection from Acid/Cold/Electricity/Fire</li>
	<li>EFF_M53 &longrightarrow; Spell Protection Removal</li>
	<li>EFF_M55 &longrightarrow; Weapon Protection Effect (e.g. Mantle, etc.)</li>
	<li>EFF_M58 &longrightarrow; Melf's Minute Meteors creation</li>
	<li>EFF_M59 &longrightarrow; Fire</li>
	<li>EFF_M60 &longrightarrow; Stoneskin</li>
	<li>EFF_M61 &longrightarrow; Polymorph/Shapeshift</li>
	<li>EFF_M68 &longrightarrow; Melf's Acid Arrow Impact</li>
	<li>EFF_M69 &longrightarrow; Improved Alacrity/Use Any Item</li>
	<li>EFF_M70 &longrightarrow; Cacofiend, Gate, Summon Fiend</li>
	<li>EFF_M71 &longrightarrow; Power Word: Blind, Kill, Silence, Sleep, Stun</li>
	<li>EFF_M71B &longrightarrow; Wizard Conjure Elemental Mental Combat</li>
	<li>EFF_M71C &longrightarrow; Wizard Conjure Elemental Mental Combat (Won)</li>
	<li>EFF_M71D &longrightarrow; Wizard Conjure Elemental Mental Combat (Lost)</li>
	<li>EFF_M73 &longrightarrow; Summon Hakeashar, Nishruu</li>
	<li>EFF_M74 &longrightarrow; Imprisonment, Maze 1</li>
	<li>EFF_M74B &longrightarrow; Imprisonment, Maze 2</li>
	<li>EFF_M76 &longrightarrow; True Sight/Seeing</li>
	<li>EFF_M77 &longrightarrow; Wizard Eye</li>
	<li>EFF_M79 &longrightarrow; Spook</li>
	<li>EFF_M80 &longrightarrow; Mislead, Project Image, Simulacrum</li>
	<li>EFF_M82 &longrightarrow; Emotion, Greater Malison, Resist Magic</li>
	<li>EFF_M86 &longrightarrow; Contingency & Sequencer -type spells</li>
	<li>EFF_M87 &longrightarrow; Wizard Rapture of the Father</li>
	<li>EFF_M89 &longrightarrow; Wail of the Banshee</li>
	<li>EFF_M90 &longrightarrow; Timestop (Start)</li>
	<li>EFF_M91 &longrightarrow; Timestop (Expire)</li>
	<li>EFF_M92 &longrightarrow; Mirror Image/Priest Illusionary Spell Effect</li>
	<li>EFF_M108 &longrightarrow; Dragon's Breath</li>
	<li>EFF_M110 &longrightarrow; Bigby's Hand Spells</li>
	<li>EFF_P01 &longrightarrow; Priest Abjuration Spell Effect</li>
	<li>EFF_P02 &longrightarrow; Priest Conjuration Spell Effect</li>
	<li>EFF_P03 &longrightarrow; Priest Divination Spell Effect</li>
	<li>EFF_P04 &longrightarrow; Priest Enchantment Spell Effect</li>
	<li>EFF_P05 &longrightarrow; Priest Invocation Spell Effect</li>
	<li>EFF_P06 &longrightarrow; Priest Necromancy Spell Effect</li>
	<li>EFF_P07 &longrightarrow; Priest Alteration Spell Effect</li>
	<li>EFF_P08 &longrightarrow; Animal Summoning</li>
	<li>EFF_P11 &longrightarrow; Hold Animal/Person (Priest)</li>
	<li>EFF_P12 &longrightarrow; Protection from Evil/Magic Energy/The Elements/Energy</li>
	<li>EFF_P13 &longrightarrow; Miscast Magic</li>
	<li>EFF_P14 &longrightarrow; ic Vitriolic Sphere</li>
	<li>EFF_P15 &longrightarrow; ic Recitation</li>
	<li>EFF_P16 &longrightarrow; Flame Strike</li>
	<li>EFF_P18 &longrightarrow; Raise Dead</li>
	<li>EFF_P19 &longrightarrow; Call Lightning</li>
	<li>EFF_P21A &longrightarrow; Sanctuary Start</li>
	<li>EFF_P21B &longrightarrow; Sanctuary Duration</li>
	<li>EFF_P21C &longrightarrow; Sanctuary Expire</li>
	<li>EFF_P22A &longrightarrow; Glyph of Warding non-triggered</li>
	<li>EFF_P22B &longrightarrow; Glyph of Warding Shatter</li>
	<li>EFF_P24 &longrightarrow; BG1 Armor/Shield</li>
	<li>EFF_P25 &longrightarrow; Restoration (Lesser, Greater) casting completion</li>
	<li>EFF_P40 &longrightarrow; Free Action</li>
	<li>EFF_P43 &longrightarrow; Cloak of Fear start/Nature's Beauty</li>
	<li>EFF_P51 &longrightarrow; Remove Fear</li>
	<li>EFF_P54 &longrightarrow; Shillelagh, Spiritual Hammer</li>
	<li>EFF_P55 &longrightarrow; Silence 15' radius</li>
	<li>EFF_P56 &longrightarrow; Barkskin</li>
	<li>EFF_P60 &longrightarrow; Aid</li>
	<li>EFF_P61 &longrightarrow; Ironskins</li>
	<li>EFF_P64A &longrightarrow; Creature Summoning Flash</li>
	<li>EFF_P65 &longrightarrow; Creature Summoning Circle</li>
	<li>EFF_P66 &longrightarrow; Call Woodland Beings</li>
	<li>EFF_P69 &longrightarrow; Unholy Word</li>
	<li>EFF_P70 &longrightarrow; Holy Word</li>
	<li>EFF_P72 &longrightarrow; Command Word</li>
	<li>EFF_P73 &longrightarrow; Charm/Domination</li>
	<li>EFF_P76 &longrightarrow; Flameblade</li>
	<li>EFF_P77 &longrightarrow; Spiritual Hammer Hit</li>
	<li>EFF_P80 &longrightarrow; Blade Barrier Creation</li>
	<li>EFF_P83 &longrightarrow; Bolt of Glory</li>
	<li>EFF_P89 &longrightarrow; Restoration (Greater, Lesser)</li>
	<li>EFF_P90 &longrightarrow; Regeneration</li>
	<li>EFF_P92 &longrightarrow; Earthquake</li>
	<li>EFF_P93 &longrightarrow; Cause Wounds</li>
	<li>EFF_P97 &longrightarrow; Armor of Faith wings</li>
	<li>EFF_P115 &longrightarrow; Implosion</li>
	<li>EFF_P116 &longrightarrow; Conjure Fallen Deva/Planetar</li>
	<li>EFF_P117 &longrightarrow; Conjure Deva/Planetar</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op175" class="opcode">
		<span class="opnumberdata">#175 (0xAF)</span>

		<span class="opnamedata">State: Hold</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op175">BG1</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd2.htm#op175">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op175">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies a yellow fade in graphic effect to the targeted creature(s), and shows the 'Held' icon, if the targeted creature(s) match the value specified by the <code>IDS Entry</code> field, in the specified <code>IDS File</code>. The affected creature becomes immobile and its AI scripts stop running.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a> (EE only)</li>
</ul>

<br/>This effect sets <a href="../files/ids/bgee/stats.htm#58">HELD</a> to <code>1</code>. It also sets the <a href="../files/ids/bgee/state.htm#BIT5">STATE_HELPLESS</a> flag.



<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in EEs, this opcode automatically displays string <code><a href="../files/2da/2da_bgee/enginest.htm#35">STRREF_EFFECT_HOLD</a></code> in the combat log.
It even overrides the entries in <a href="../files/2da/2da_bgee/efftext.htm">EFFTEXT.2DA</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op176" class="opcode">
		<span class="opnumberdata">#176 (0xB0)</span>

		<span class="opnamedata">Stat: Movement Modifier (II)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> (As <a href="#op126">opcode #126</a>, but unaffected by <a href="#op163">Free Action</a>).
<br/>Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>The engine allows values for <code>Statistic Modifier</code> from <code>0</code> (immobile) to <code>255</code> (instantaneous), though behaviour is only consistent in the range <code>0 – 30</code>.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Movement = Movement + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Movement = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Non-stacking Percentage Modifier: <code>Movement = (Movement * 'Statistic Modifier' value) / 100</code></li>
	<li>5 &longrightarrow; Multiplicative Stacking Percentage Modifier: <code>Movement = (Movement * 'Statistic Modifier' value) / 100</code> (EE only)</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
PST: This effect doesn’t exist and always crashes the game.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
A couple of examples about <code>Multiplicative Stacking Percentage Modifier</code>:
<ul>
	<li><code>50% * 50% = 25%</code></li>
	<li><code>150% * 150% = 225%</code></li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op177" class="opcode">
		<span class="opnumberdata">#177 (0xB1)</span>

		<span class="opnamedata">Use EFF File</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op177">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op177">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd2.htm#op177">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op177">PST</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
			<span class="parameterheading">Parameter #5:</span> <span class="parameterdata">Bypass probability / immunities / saving throws</span><br />
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Applies the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> file specified by the
<a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> key to
the targeted creature(s), if the targeted creature(s) match the value specified by the <code>IDS Entry</code> field, in the
specified <code>IDS File</code>.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm"><code>EA.IDS</code></a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm"><code>GENERAL.IDS</code></a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm"><code>RACE.IDS</code></a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm"><code>CLASS.IDS</code></a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm"><code>SPECIFIC.IDS</code></a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm"><code>GENDER.IDS</code></a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm"><code>ALIGN.IDS</code></a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm"><code>KIT.IDS</code></a> (EE only)</li>
</ul>

When used in an external <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> file, a non-zero value for the
<code>Bypass probability / immunities / saving throws</code> field causes the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a>
file to be applied regardless of the rolls / immunities of the target(s).


<div class="note important">
  <div>
    <strong>Important:</strong> 
This effect doesn't add the opcode contained in the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a>
file to the targeted creature(s). Instead, the <code>op177</code> instance itself stays on the target(s) via the usual duration rules, and
internally decodes and executes the opcode contained in the <code>EFF</code> file every time the <code>op177</code> instance is ticked.

  </div>
</div>


<div style="margin-top: 1em; margin-bottom: 0.5em">When ticked, the <code>op177</code> instance copies fields to/from the <code>decoded effect</code> of the same tick:</div>

<ul>
	<li>
		<div style="margin-top: 0.5em; margin-bottom: 0.5em"><b>Every tick (before effect application)</b>, <code>op177</code> &rightarrow; <code>decoded effect</code>:</div>
		<table style="width: auto">
			<thead>
				<tr>
					<th>Field Name</th>
					<th><a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> Offset</th>
				</tr>
			</thead>
			<tr>
				<td>Timing mode</td>
				<td><code>[+0x24]</code></td>
			</tr>
			<tr>
				<td>Duration</td>
				<td><code>[+0x28]</code></td>
			</tr>
			<tr>
				<td>Time applied</td>
				<td><code>[+0x6C]</code></td>
			</tr>
			<tr>
				<td>Caster position</td>
				<td><code>[+0x80]</code> and <code>[+0x84]</code></td>
			</tr>
			<tr>
				<td>Target position</td>
				<td><code>[+0x88]</code> and <code>[+0x8C]</code></td>
			</tr>
			<tr>
				<td>First call flag</td>
				<td><code>[+0xCC]</code></td>
			</tr>
			<tr>
				<td>Source ID</td>
				<td><code>(internal field)</code></td>
			</tr>
			<tr>
				<td>Source target ID</td>
				<td><code>(internal field)</code></td>
			</tr>
		</table>
	</li>
	<li>
		<div style="margin-top: 0.5em; margin-bottom: 0.5em">
			<b>Subsequent ticks (select opcodes, <a href="#op177-specific-note">see note</a>)</b>, <code>op177</code> &rightarrow; <code>decoded effect</code>:
		</div>
		<table style="width: auto">
			<thead>
				<tr>
					<th>Field Name</th>
					<th><a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> Offset</th>
				</tr>
			</thead>
			<tr>
				<td>Special</td>
				<td><code>[+0x48]</code></td>
			</tr>
			<tr>
				<td>Parameter 3</td>
				<td><code>[+0x60]</code></td>
			</tr>
			<tr>
				<td>Parameter 4</td>
				<td><code>[+0x64]</code></td>
			</tr>
		</table>
	</li>
	<li>
		<div style="margin-top: 0.5em; margin-bottom: 0.5em"><b>Every tick (after effect application)</b>, <code>decoded effect</code> &rightarrow; <code>op177</code>:</div>
		<table style="width: auto">
			<thead>
				<tr>
					<th>Field Name</th>
					<th><a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> Offset</th>
				</tr>
			</thead>
			<tr>
				<td>Special</td>
				<td><code>[+0x48]</code></td>
			</tr>
			<tr>
				<td>Parameter 3</td>
				<td><code>[+0x60]</code></td>
			</tr>
			<tr>
				<td>Parameter 4</td>
				<td><code>[+0x64]</code></td>
			</tr>
			<tr>
				<td>First call flag</td>
				<td><code>[+0xCC]</code></td>
			</tr>
		</table>
	</li>
</ul>

<span id="op177-specific-note"></span>

<div class="note info">
  <div>
    <strong>Note:</strong> 
Some opcodes, when contained in the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> file (and when using certain parameters), restore their
<code>Special</code>, <code>Parameter 3</code>, and <code>Parameter 4</code> fields from the <code>op177</code> instance before being ticked. This behavior is activated by the
<code>First call flag</code> being unset by the opcode on its first tick.
<div style="margin-top: 0.5em; margin-bottom: 0.5em">Relevant opcodes:</div>
<table style="width: auto">
	<tr>
		<td><a href="#op3">opcode #3</a></td>
		<td><a href="#op36">opcode #36</a></td>
		<td><a href="#op127">opcode #127</a></td>
		<td><a href="#op213">opcode #213</a></td>
		<td><a href="#op323">opcode #323</a></td>
	</tr>
	<tr>
		<td><a href="#op5">opcode #5</a></td>
		<td><a href="#op37">opcode #37</a></td>
		<td><a href="#op129">opcode #129</a></td>
		<td><a href="#op218">opcode #218</a></td>
		<td><a href="#op325">opcode #325</a></td>
	</tr>
	<tr>
		<td><a href="#op15">opcode #15</a></td>
		<td><a href="#op39">opcode #39</a></td>
		<td><a href="#op135">opcode #135</a></td>
		<td><a href="#op233">opcode #233</a></td>
		<td><a href="#op330">opcode #330</a></td>
	</tr>
	<tr>
		<td><a href="#op33">opcode #33</a></td>
		<td><a href="#op44">opcode #44</a></td>
		<td><a href="#op145">opcode #145</a></td>
		<td><a href="#op236">opcode #236</a></td>
		<td><a href="#op331">opcode #331</a></td>
	</tr>
	<tr>
		<td><a href="#op34">opcode #34</a></td>
		<td><a href="#op53">opcode #53</a></td>
		<td><a href="#op210">opcode #210</a></td>
		<td><a href="#op241">opcode #241</a></td>
		<td><a href="#op335">opcode #335</a></td>
	</tr>
	<tr>
		<td><a href="#op35">opcode #35</a></td>
		<td><a href="#op71">opcode #71</a></td>
		<td><a href="#op211">opcode #211</a></td>
		<td><a href="#op246">opcode #246</a></td>
		<td><a href="#op342">opcode #342</a></td>
	</tr>
</table>


  </div>
</div>



<div class="note info">
  <div>
    <strong>Note:</strong> 
The engine specially handles cases where effects are removed by opcode, ensuring it also matches the opcode in the <a href="../file_formats/ie_formats/eff_v2.htm">
<code>EFF</code></a> file of <code>op177</code> instances.

  </div>
</div>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> files applied by this opcode can be blocked by <a href="#op101">opcode #101</a>.

  </div>
</div>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
This effect causes a crash if used by a container.<br />

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op178" class="opcode">
		<span class="opnumberdata">#178 (0xB2)</span>

		<span class="opnamedata">Spell Effect: THAC0 vs. Creature Type Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op178">PST</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op178">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Statistic Modifier</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the targeted creature(s) THAC0 against the creature type specified by the <code>IDS Entry</code> field in the specified <code>IDS File</code>.
<br/>The actual modifier value is placed in the <code>Parameter3</code> field in an external effect.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a> (EE only; broken at least in 2.5)</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>It will affect all attacks, not just the weapon it's on, which would be incorrect when dual-wielding.</li>
	<li>Multiple <a href="#op178">opcode #178</a> effects only allow additional targeting, they do not stack their THAC0 bonus.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode uses a reverse stacking order: the “oldest” effect with matching IDS values for the target is used, not the most recent, and equipped effects take priority over non-equipped effects.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op179" class="opcode">
		<span class="opnumberdata">#179 (0xB3)</span>

		<span class="opnamedata">Spell Effect: Damage vs. Creature Type Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op179">PST</a>
			
		
			
			
			
				<a class="opvariant" href="bg1tots.htm#op179">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Statistic Modifier</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the targeted creature(s) damage against the creature type specified by the <code>IDS Entry</code> field in the specified <code>IDS File</code>. The actual modifier value is placed in the <code>Parameter3</code> field in an external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> – dice values are ignored.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a> (EE only; broken at least in 2.5)</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>It will affect all attacks, not just the weapon it's on, which would be incorrect when dual-wielding.</li>
	<li>For two-handed/ranged weapons, it can be ideal if a base weapon damage bonus is desired.</li>
	<li>Damage is multiplied by critical hits (and maybe backstabs).</li>
	<li>Multiple <a href="#op179">opcode #179</a> effects only allow additional targeting, they do not stack their damage bonus.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode uses a reverse stacking order: the “oldest” effect with matching IDS values for the target is used, not the most recent, and equipped effects take priority over non-equipped effects.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op180" class="opcode">
		<span class="opnumberdata">#180 (0xB4)</span>

		<span class="opnamedata">Item: Can't Use Item</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op180">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op180">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">String Reference</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undefined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creatures(s) cannot use the item specified by the <code>resource</code> key. The strref specified by the <code>String Reference</code> field is displayed when an attempt to use the item is made.
 </div>
		<hr />

	</div>

	<div id="op181" class="opcode">
		<span class="opnumberdata">#181 (0xB5)</span>

		<span class="opnamedata">Item: Can't Use Itemtype</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op181">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op181">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op181">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op181">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op181">PST</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Item Type</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Restriction</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Description note</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) cannot use the item type specified by the <code>Item Type</code> field for the purpose specified by the <code>Restriction</code> field. 
<br/>Known values for <code>Restriction</code> are:
<ul>
	<li>0 &longrightarrow; Equip</li>
	<li>1 &longrightarrow; Use</li>
</ul>

<br/>The message defined in <code>Description note</code> will be displayed whenever this effect is triggered.
 </div>
		<hr />

	</div>

	<div id="op182" class="opcode">
		<span class="opnumberdata">#182 (0xB6)</span>

		<span class="opnamedata">Use EFF file if/while item resource equipped</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op182">BG1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Unused</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Unused</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

<p>
	This opcode is supposed to apply the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> file specified in <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70"><code>resource2</code></a> if the target has the <a href="../file_formats/ie_formats/itm_v1.htm"><code>ITM</code></a> file specified in <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_Resource"><code>resource</code></a> equipped.
	<ul>
		<li>Since the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> resource is specified in <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70"><code>resource2</code></a>, this opcode must be used in <a href="../file_formats/ie_formats/eff_v2.htm"><code>V2</code></a> (external) effects.</li>
	</ul>
</p>


<div class="note bug">
	<div>
		<strong>Bug:</strong> 
This opcode is bugged.
<ul>
	<li>
		The internal function it uses to find the item, <code>CGameSprite::FindItemPersonal()</code>, treats the found slot&hyphen;index as a boolean, so it always applies the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> unless the <a href="../file_formats/ie_formats/itm_v1.htm"><code>ITM</code></a> is in <a href="../files/ids/bgee/slots.htm#0"><code>SLOT_AMULET</code></a>.
		<ul>
			<li>Basically, since all slot indices but <a href="../files/ids/bgee/slots.htm#0"><code>SLOT_AMULET</code></a> are strictly greater than <code>0</code>, the function will almost always return true, making the opcode useless.</li>
		</ul>
	</li>
	<li>Additionally, <code>CGameSprite::FindItemPersonal()</code> doesn't consider <a href="../files/ids/bgee/slots.htm#34"><code>SLOT_MISC19</code></a> (the Magical Weapon slot, used by <a href="#op111">opcode #111</a>) as an "equipped" slot (this is probably intentional though...)</li>
</ul>

	</div>
</div>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> files applied by this opcode bypass / ignore <a href="#op101">opcode #101</a>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op183" class="opcode">
		<span class="opnumberdata">#183 (0xB7)</span>

		<span class="opnamedata">Item: Apply Effect Itemtype</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op183">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op183">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undetermined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Applies the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> file specified by the <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> key to the targeted creature(s) when an <a href="../file_formats/ie_formats/itm_v1.htm"><code>ITM</code></a> of the <a href="../file_formats/ie_formats/itm_v1.htm#Header_ItemType"><code>item type</code></a> specified by the <code>Type</code> field is equipped.


<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> files applied by this opcode bypass / ignore <a href="#op101">opcode #101</a>.

  </div>
</div>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>
		Ammo (i.e., <a href="../file_formats/ie_formats/itm_v1.htm#Header_ItemType_5"><code>Arrows</code></a>, <a href="../file_formats/ie_formats/itm_v1.htm#Header_ItemType_14"><code>Bullets</code></a> and <a href="../file_formats/ie_formats/itm_v1.htm#Header_ItemType_31"><code>Bolts</code></a>) does not work well with this opcode
		<ul>
			<li>
				The Ammo Slots (<a href="../files/ids/bgee/slots.htm#11"><code>SLOT_AMMO</code></a>, <a href="../files/ids/bgee/slots.htm#12"><code>SLOT_AMMO1</code></a>, <a href="../files/ids/bgee/slots.htm#13"><code>SLOT_AMMO2</code></a>, <a href="../files/ids/bgee/slots.htm#14"><code>SLOT_AMMO3</code></a>) are always "Equipped", even when they are not in use
				<ul>
					<li>
						In other words: they trigger <a href="#op183">opcode #183</a> just by being in a quiver slot, regardless of whether the correct launcher is equipped or even active
						<ul>
							<li>Having said that, this opcode currently allows detecting a launcher using its automated ammo (such as Shortbow of Gesen)</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>The offhand (<a href="../files/ids/bgee/slots.htm#9"><code>SLOT_SHIELD</code></a>) has the same issue &mdash; even when disabled, it's detected by this opcode as equipped</li>
</ul>

  </div>
</div>




<div class="note warning">
  <div>
    <strong>Warning:</strong> 
This effect has never been seen to work. This is not true for EE games.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op184" class="opcode">
		<span class="opnumberdata">#184 (0xB8)</span>

		<span class="opnamedata">Graphics: Passwall (Don't Jump)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Jump</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Allows creatures to be placed in impassable areas, based on the value of the <code>Jump</code> field.
<br/>Known values for <code>Jump</code> are:
<ul>
	<li>0 &longrightarrow; Do Jump from impassable areas</li>
	<li>1&plus; &longrightarrow; Don't Jump from impassable areas</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
PST: This effect doesn’t exist and always crashes the game.<br />
IWD2: Don’t use.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op185" class="opcode">
		<span class="opnumberdata">#185 (0xB9)</span>

		<span class="opnamedata">State: Hold (II)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op185">BG1</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd2.htm#op185">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op185">PST</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies a yellow fade in graphic effect to the targeted creature(s), and shows the 'Held' icon, if the targeted creature(s) match the value specified by the <code>IDS Entry</code> field, in the specified <code>IDS File</code>. The affected creature becomes immobile and its AI scripts stop running.
<br/>This effect is not removed by <a href="#op162">opcode #162</a>.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a> (EE only)</li>
</ul>

<br/>This effect sets <a href="../files/ids/bgee/stats.htm#58">HELD</a> to <code>1</code>. It also sets the <a href="../files/ids/bgee/state.htm#BIT5">STATE_HELPLESS</a> flag.



<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in EEs, this opcode automatically displays string <code><a href="../files/2da/2da_bgee/enginest.htm#35">STRREF_EFFECT_HOLD</a></code> in the combat log.
It even overrides the entries in <a href="../files/2da/2da_bgee/efftext.htm">EFFTEXT.2DA</a>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op186" class="opcode">
		<span class="opnumberdata">#186 (0xBA)</span>

		<span class="opnamedata">Script: MoveToArea</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op186">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Delay</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Orientation</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Marks the targetted creature(s) as travelling to the area specified by the <code>resource</code> key. The creature appears in the specified area after a delay (specified by the <code>Delay</code> field), with the orientation specified by the <code>Orientation</code> field.<br/>
In particular:
<ul>
	<li>Global Creatures ignore the delay.</li>
	<li>If the creature is already in the specified area, it will ignore the delay.</li>
	<li>Non-global creatures currently in a different area than specified will use the delay.</li>
	<li>Delay is measured in <small><sup>1</sup>&frasl;<sub>30</sub></small> seconds, (&frac12; tick), <code>600 = 20 seconds</code>.</li>
	<li>
		On non-EE games, the creature appears at the point specified by the Target Point fields (external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files only).
		<ul>
			<li>On EE games, target(s) appear at Caster's Coordinates in new area (it does not seem to be possible to override through EFFs).</li>
		</ul>
	</li>
	<li>Creature is moved to the new area (instantly) and flagged <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_Flags_BIT14">Moving Between Areas</a></code> until their delay expires (if it's used). It won't be active until the delay expires (it's hidden, cannot be affected by Area-effect, doesn't occupy space). It can still be targeted by the various <code>Everyone</code> targeting modes in the new area while it's still inactive, but similar to <a href="#op213">maze</a>/<a href="#op211">imprisonment</a>, effects won't trigger (including <a href="#op25">poison</a> and similar) on them until they become active.</li>
</ul>



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
IWD2: there was a note to not use this effect in older IESDP.<br />
There is some confusion whether the Target (bg1, iwds) or the Caster point field is used.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
Avoid saving during the delay (can lead to lost NPCs or crashes if you load while NPC's are still in transition).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op187" class="opcode">
		<span class="opnumberdata">#187 (0xBB)</span>

		<span class="opnamedata">Script: Store Local Variable</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op187">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op187">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect sets the variable specified by the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xA8">Variable Name</a></code> field to the value specified by the <code>Value</code> field.



<div class="note important">
  <div>
    <strong>Important:</strong> 
This effect can only be used in an external effect (<a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Effects">CRE</a>/<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
This effect is always instantaneous (local variables are stored internally, not as effects, while the game is running). All local variables for a <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> are stored as <a href="#op187">opcode #187</a> effects on that <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> whenever the game is saved, which will trigger as soon as the game is loaded.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op188" class="opcode">
		<span class="opnumberdata">#188 (0xBC)</span>

		<span class="opnamedata">Spell Effect: Aura Cleansing</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op188">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> While ON, the creature displays string <code><a href="../files/2da/2da_bgee/enginest.htm#86">STRREF_FEEDBACK_AURA_CLEANSED</a></code> (EE games only) whenever they begin to cast a spell before their aura would normally clear (i.e. more than once/round). Does NOT affect item usage, only spellcasting.<br/>
Set the <code>Stat Value</code> field to any non-zero value if you want no time needed between spells.
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#76">AURACLEANSING</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op189" class="opcode">
		<span class="opnumberdata">#189 (0xBD)</span>

		<span class="opnamedata">Stat: Casting Time Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg1tots.htm#op189">BG1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op189">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Speed Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x12">Casting Time</a></code> of spells by the value specified by the <code>Speed Modifier</code> field. This effect is cummulative. 
<br/>This effect sets <a href="../files/ids/bgee/stats.htm#77">MENTALSPEED</a> to <code>Speed Modifier</code>. Known value for <code>Type</code> are:
<ul>
	<li>
		0 &longrightarrow; Increment by <code>Speed Modifier</code>
		<ul>
			<li>Positive values decrease the casting time, negative values increase the casting time.</li>
		</ul>
	</li>
	<li>
		1 &longrightarrow; Set casting time of every spell to <code>Speed Modifier</code>
		<ul>
			<li>Negative values set casting time to <code>0</code></li>
		</ul>
	</li>
	<li>
		2 &longrightarrow; Set casting time of spells with casting time higher than <code>Speed Modifier</code> to <code>Speed Modifier</code>
		<ul>
			<li>Other spells are unaffected.</li>
		</ul>
	</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Type=2</code> was tested only for BGEE and might not work on non-EE.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op190" class="opcode">
		<span class="opnumberdata">#190 (0xBE)</span>

		<span class="opnamedata">Stat: Attack Speed Factor</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op190">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Speed Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Alters the weapon's <a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_SpeedFactor"><code>attack speed</code></a> by the value specified by the <code>Speed Modifier</code> field. This effect is not cumulative. <a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_SpeedFactor"><code>Attack speed</code></a> ranges from <code>0</code> (good) to <code>10</code> (bad). This effect acts as a bonus, so a high <code>Speed Modifier</code> is good.
<br/>This effect sets <a href="../files/ids/bgee/stats.htm#78"><code>PHYSICALSPEED</code></a> to <code>Speed Modifier</code>.
 </div>
		<hr />

	</div>

	<div id="op191" class="opcode">
		<span class="opnumberdata">#191 (0xBF)</span>

		<span class="opnamedata">Spell: Casting Level Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op191">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op191">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op191">PST</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the value specified by the <code>Modifier</code> field as a bonus to casting spell levels, of a type specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Mage</li>
	<li>1 &longrightarrow; Cleric</li>
</ul>

<br/>This effect modifies <a href="../files/ids/bgee/stats.htm#79">CASTINGLEVELBONUSMAGE</a> or <a href="../files/ids/bgee/stats.htm#80">CASTINGLEVELBONUSCLERIC</a> depending on <code>Type</code>.
 </div>
		<hr />

	</div>

	<div id="op192" class="opcode">
		<span class="opnumberdata">#192 (0xC0)</span>

		<span class="opnamedata">Spell Effect: Find Familiar</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op192">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op192">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Upgrade Marker</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies <a href="#op195">opcode #195</a>, <a href="#op196">opcode #196</a>, and <a href="#op268">opcode #268</a> to the summoned familiar.<br/>
The Familiar summoned is based on the alignment of the Protagonist and values stored in the <a href="../file_formats/ie_formats/gam_v2.0.htm#GAMEV2_0_Familiar">GAM</a> file (non-EE games) or <a href="../files/2da/2da_bgee/familiar.htm">FAMILIAR.2DA</a> (EE games).
<br/>On non-EE games, the <code>Upgrade Marker</code> field is used internally to indicate the familiar has received the ToB upgrades.
<ul>
	<li>On EE games, if there is an <code>Upgrade Marker</code>, it isn't on <a href="#op192">opcode #192</a> (needs researching...).</li>
</ul>
<br/>On non-EE games, default creatures for familiars are:
<ul>
	<li>Lawful Good &longrightarrow; Pseudo Dragon (<code>FAMPSD</code>)</li>
	<li>Lawful Neutral &longrightarrow; Ferret (<code>FAMFER</code>)</li>
	<li>Lawful Evil &longrightarrow; Imp (<code>FAMIMP</code>)</li>
	<li>Neutral Good &longrightarrow; Pseudo Dragon (<code>FAMPSD</code>)</li>
	<li>True Neutral &longrightarrow; Rabbit (<code>FAMRAB</code>)</li>
	<li>Neutral Evil &longrightarrow; Dust Mephit (<code>FAMDUST</code>)</li>
	<li>Chaotic Good &longrightarrow; Fairy Dragon (<code>FAMFAIR</code>)</li>
	<li>Chaotic Neutral &longrightarrow; Cat (<code>FAMCAT</code>)</li>
	<li>Chaotic Evil &longrightarrow; Quasit (<code>FAMQUAS</code>)</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
The familiars (<a href="../file_formats/ie_formats/cre_v1.htm">CRE</a>) available are locked in once a new game begins (any changes to <a href="../files/2da/2da_bgee/familiar.htm">FAMILIAR.2DA</a> must occur before starting a new game).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Max HP boost for summoning a familiar (and eventually loss when it dies) is ½ the familiar’s Max HP (including any CON bonus) at the time of summoning.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The familiar restriction to <code>&lt;CHARNAME&gt;</code> is game-specific. IWDEE has no such restriction, but still only allows a single character to have a familiar at a time. It’s unclear if it’s a specific flag in the <a href="../file_formats/ie_formats/gam_v2.0.htm">GAM</a> file or if it’s engine-side.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op193" class="opcode">
		<span class="opnumberdata">#193 (0xC1)</span>

		<span class="opnamedata">Spell Effect: Invisible Detection by Script</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op193">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op193">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Allows invisible creatures to be attacked (via scripts) and makes it possible to target improved invisible creatures with spells.
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#81">SEEINVISIBLE</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op194" class="opcode">
		<span class="opnumberdata">#194 (0xC2)</span>

		<span class="opnamedata">Ignore Dialog Pause</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op194">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op194">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op194">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Allows the targeted creature(s) to carry on their actions during dialogs which pause action.
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#82">IGNOREDIALOGPAUSE</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op195" class="opcode">
		<span class="opnumberdata">#195 (0xC3)</span>

		<span class="opnamedata">Spell Effect: Death Dependent Constitution Loss (Familiar Bond)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op195">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op195">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Max HP Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Unused</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Master ID (owner)</span><br />
		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> When this creature dies, the following is applied to <code>Master ID</code>:
<ul>
	<li>Floats Text String <a href="../files/2da/2da_bgee/enginest.htm#990">STRREF_GUI_MIXED_FAMILIARDIED</a>.</li>
	<li><a href="#op10">Opcode #10</a>: <code>Statistic Modifier = -1</code>, <code>Type = 0</code>, <code>Timing Mode 1</code>.</li>
	<li>
		<a href="#op18">Opcode #18</a>: <code>Statistic Modifier = Max HP Modifier</code>, <code>Type = 0</code>, <code>Timing Mode 1</code>.
		<ul>
			<li><a href="#op192">Opcode #192</a> sets <code>Max HP Modifier</code> to <code>-&frac12; the familiar's Max HP</code></li>
		</ul>
	</li>
	<li>
		<a href="#op12">Opcode #12</a>: <code>Damage Amount = 'this creature's Max HP'</code>, <code>Type = MAGIC</code>, <code>Timing Mode 1</code>, <code>Save Type = Bypass Mirror Image</code>.
		<ul>
			<li>
				Normally, Maximum HP of <code>Master ID</code> is lowered by <code>Max HP Modifier</code>, and Current HP is lowered by twice <code>Max HP Modifier</code> (since <code>Max Hp Modifier = &frac12; familiar's Max HP</code>).<br/>
				It won't be if the familiar's Max HP is increased (or decreased) permanently after it is summoned (temporary changes to Max HP will be removed by death before it deals damage, and so they won't affect the amount).<br/>
				Permanent changes to the familiar's Constitution, enough to alter the bonus HP it grants, will have similar results.
			</li>
		</ul>
	</li>
</ul>

Known values for <code>Master ID</code> are:
<ul>
	<li>-1 &longrightarrow; Not Party Member</li>
	<li>0 &longrightarrow; Player1</li>
	<li>1 &longrightarrow; Player2</li>
	<li>2 &longrightarrow; Player3</li>
	<li>3 &longrightarrow; Player4</li>
	<li>4 &longrightarrow; Player5</li>
	<li>5 &longrightarrow; Player6</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
Needs <code>Timing Mode 9</code>, otherwise it will be removed (by death) before it fully triggers.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Parameter2</code> is possibly intended to be <code>Damage Type</code>. It uses the same format as <a href="#op12">opcode #12</a> (<a href="#op192">opcode #192</a> sets it to <code>0x400000 – MAGIC</code>), but changing it has no effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op196" class="opcode">
		<span class="opnumberdata">#196 (0xC4)</span>

		<span class="opnamedata">Spell Effect: Familiar Block</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op196">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op196">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> If this effect is found on any creature in the <a href="../file_formats/ie_formats/gam_v2.0.htm">GAM</a> file, the engine will block summoning of more familiars.



<div class="note important">
  <div>
    <strong>Important:</strong> 
The effect should be set with a <code>Timing Mode</code> of <code>9</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op197" class="opcode">
		<span class="opnumberdata">#197 (0xC5)</span>

		<span class="opnamedata">Spell: Bounce (by Impact Projectile)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op197">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op197">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op197">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Impact Projectile</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will reflect effects whose <code>Projectile</code> is equal to the one specified by the <code>Impact Projectile</code> field back to the attacker.

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Projectile</code> from the Extended Header (<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x26">SPL</a> / <a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x2A">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xA0">V2 effects</a> specify it manually.
</p>

<p>
	Values for <code>Impact Projectile</code> are taken from <a href="../files/ids/bgee/projectl.htm">PROJECTL.IDS</a>.
</p>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<ul>
	<li><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> projectiles only impact through their <a href="../file_formats/ie_formats/pro_v1.htm#0x21A">explosion</a> and/or <a href="../file_formats/ie_formats/pro_v1.htm#0x214">secondary</a> projectiles, so they are what must be specified in <code>Impact Projectile</code>.</li>
	<li><a href="#op333">Opcode #333</a>, <a href="#op326">opcode #326</a> and <a href="#op146">opcode #146</a><code><sup><small>*</small></sup>p2=2</code> are NOT properly reflected by this opcode – the spell specified by their <code>resource</code> key will affect the original target (as if it wasn't reflected).</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT reflect effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CAN reflect EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can reflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT reflect effects from self.</li>
	<li>Maintains animation <code>SPTURNI2</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Reflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is reflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op198" class="opcode">
		<span class="opnumberdata">#198 (0xC6)</span>

		<span class="opnamedata">Spell: Bounce (by Opcode)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op198">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op198">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op198">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Opcode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will reflect effects containing the opcode specified by the <code>Opcode</code> field.



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
This can cause a crash if two creatures end up reflecting to each other.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="#op333">Opcode #333</a>, <a href="#op326">opcode #326</a> and <a href="#op146">opcode #146</a><code><sup><small>*</small></sup>p2=2</code> are NOT properly reflected by this opcode – the spell specified by their <code>resource</code> key will affect the original target (as if it wasn't reflected).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT reflect effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CAN reflect EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can reflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT block effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#67">Spell Deflection</a></code> on the target (this is likely a bug).</li>
	<li>Maintains animation <code>SPTURNI2</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Reflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is reflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op199" class="opcode">
		<span class="opnumberdata">#199 (0xC7)</span>

		<span class="opnamedata">Spell: Bounce (by Power Level)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op199">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op199">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op199">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Power Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will reflect effects whose <code>Power</code> attribute is equal to the one specified by the <code>Power Level</code> field (<code>range: 0 – 9</code>).



<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="#op333">Opcode #333</a>, <a href="#op326">opcode #326</a> and <a href="#op146">opcode #146</a><code><sup><small>*</small></sup>p2=2</code> are NOT properly reflected by this opcode – the spell specified by their <code>resource</code> key will affect the original target (as if it wasn't reflected).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT block effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CANNOT block EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode cannot reflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT block effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#67">Spell Deflection</a></code> on the target (this is likely a bug).</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Reflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is reflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op200" class="opcode">
		<span class="opnumberdata">#200 (0xC8)</span>

		<span class="opnamedata">Spell: Bounce (by Power level, decrementing)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op200">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op200">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op200">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Total Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Power Level</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will reflect a number of effects (specified by the <code>Total Amount</code> field) whose <code>Power</code> attribute is equal to the one specified by the <code>Power Level</code> field (<code>range: 0 – 9</code>).

<p>
	The <code>Power</code> level of the first effect to trigger any instance of this opcode's reflection will determine how much this opcode's <code>Total Amount</code> is decremented. Every instance of this opcode on the creature will be decremented by this amount.
	<ul>
		<li>Example – Minor Spell Turning applies <a href="#op200">opcode #200</a> 4 times, with <code>parameter2 = (1, 2, 3, and 4)</code>, and <code>parameter1</code> based on caster level. If any of them trigger, all of them will be decremented by the same amount. It doesn't matter that they come from the same spell. If you cast both Spell Turning and Minor Spell Turning, all instances of <a href="#op200">opcode #200</a> from both spells would be decremented, even if the spell(effect) triggering it was level 5–9 (above what Minor Spell Turning can reflect).</li>
	</ul>
</p>

<p>
	On EE games, <code>resource</code> field &longrightarrow; Spell cast when this effect self-terminates, <code>default = Parent + "B"</code>.
</p>



<div class="note important">
  <div>
    <strong>Important:</strong> 
As of EE v2.6, spells can no longer be "chained" back and forth by reflection.<br><br>

If Caster and Target are both affected by this opcode, the spell from Caster will reflect off Target, but not reflect back off Caster. Previously, whoever had more reflection charges would end up victorious, now the initial target always ends up victorious.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT block effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CANNOT block EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode cannot reflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT block effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#65">Spell Turning</a></code> on the target.</li>
	<li>Maintains animation <code>SPTURNI2</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Reflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is reflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op201" class="opcode">
		<span class="opnumberdata">#201 (0xC9)</span>

		<span class="opnamedata">Spell: Immunity (by Power Level, decrementing)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op201">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op201">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op201">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Total Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Power Level</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will absorb a number of effects (specified by the <code>Total Amount</code> field) whose <code>Power</code> attribute is equal to the one specified by the <code>Power Level</code> field (<code>range: 0 – 9</code>).

<p>
	The <code>Power</code> level of the first effect to trigger any instance of this opcode's deflection will determine how much this opcode's <code>Total Amount</code> is decremented. Every instance of this opcode on the creature will be decremented by this amount.
</p>

<p>
	On EE games, <code>resource</code> field &longrightarrow; Spell cast when this effect self-terminates, <code>default = Parent + "B"</code>.
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT block effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CANNOT block EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode cannot deflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT block effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#67">Spell Deflection</a></code> on the target.</li>
	<li>Maintains animation <code>SPMAGGLO</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Deflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is deflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op202" class="opcode">
		<span class="opnumberdata">#202 (0xCA)</span>

		<span class="opnamedata">Spell: Bounce (by School)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op202">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op202">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op202">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">School</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will turn effects from the school specified by the <code>School</code> field.

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Primary Type (School)</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x25">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x17">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x4C">V2 effects</a> specify it manually.
</p>

Known values for <code>School</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; ABJURATION</li>
	<li>2 &longrightarrow; CONJURATION</li>
	<li>3 &longrightarrow; DIVINATION</li>
	<li>4 &longrightarrow; ENCHANTMENT</li>
	<li>5 &longrightarrow; ILLUSION</li>
	<li>6 &longrightarrow; EVOCATION</li>
	<li>7 &longrightarrow; NECROMANCY</li>
	<li>8 &longrightarrow; ALTERATION</li>
	<li>9 &longrightarrow; GENERALIST</li>
	<li>10 &longrightarrow; WILDMAGE</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="#op333">Opcode #333</a>, <a href="#op326">opcode #326</a> and <a href="#op146">opcode #146</a><code><sup><small>*</small></sup>p2=2</code> are NOT properly reflected by this opcode – the spell specified by their <code>resource</code> key will affect the original target (as if it wasn't reflected).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT reflect effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CAN reflect EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can reflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT reflect effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#67">Spell Deflection</a></code> on the target (this is likely a bug).</li>
	<li>Maintains animation <code>SPTURNI2</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Reflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is reflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op203" class="opcode">
		<span class="opnumberdata">#203 (0xCB)</span>

		<span class="opnamedata">Spell: Bounce (by Secondary Type)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op203">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op203">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op203">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Secondary Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will turn effects with a secondary type matching that specified by the <code>Secondary Type</code> field.

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Secondary Type</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.
</p>

Known values for <code>Secondary Type</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; SPELLPROTECTIONS</li>
	<li>2 &longrightarrow; SPECIFICPROTECTIONS</li>
	<li>3 &longrightarrow; ILLUSIONARYPROTECTIONS</li>
	<li>4 &longrightarrow; MAGICATTACK</li>
	<li>5 &longrightarrow; DIVINATIONATTACK</li>
	<li>6 &longrightarrow; CONJURATION</li>
	<li>7 &longrightarrow; COMBATPROTECTIONS</li>
	<li>8 &longrightarrow; CONTINGENCY</li>
	<li>9 &longrightarrow; BATTLEGROUND</li>
	<li>10 &longrightarrow; OFFENSIVEDAMAGE</li>
	<li>11 &longrightarrow; DISABLING</li>
	<li>12 &longrightarrow; COMBINATION</li>
	<li>13 &longrightarrow; NON-COMBAT</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="#op333">Opcode #333</a>, <a href="#op326">opcode #326</a> and <a href="#op146">opcode #146</a><code><sup><small>*</small></sup>p2=2</code> are NOT properly reflected by this opcode – the spell specified by their <code>resource</code> key will affect the original target (as if it wasn't reflected).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT reflect effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
	</li>

	<li>
		CAN reflect EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can reflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT reflect effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#67">Spell Deflection</a></code> on the target (this is likely a bug).</li>
	<li>Maintains animation <code>SPTURNI2</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Reflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is reflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op204" class="opcode">
		<span class="opnumberdata">#204 (0xCC)</span>

		<span class="opnamedata">Spell: Protection (by School)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op204">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op204">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op204">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">School</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) immunity to effects from the school specified by the <code>School</code> field.

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Primary Type (School)</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x25">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x17">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x4C">V2 effects</a> specify it manually.
</p>

Known values for <code>School</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; ABJURATION</li>
	<li>2 &longrightarrow; CONJURATION</li>
	<li>3 &longrightarrow; DIVINATION</li>
	<li>4 &longrightarrow; ENCHANTMENT</li>
	<li>5 &longrightarrow; ILLUSION</li>
	<li>6 &longrightarrow; EVOCATION</li>
	<li>7 &longrightarrow; NECROMANCY</li>
	<li>8 &longrightarrow; ALTERATION</li>
	<li>9 &longrightarrow; GENERALIST</li>
	<li>10 &longrightarrow; WILDMAGE</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT block effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CAN block EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can deflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT block effects from self.</li>
	<li>Maintains animation <code>SPMAGGLO</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Deflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is deflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op205" class="opcode">
		<span class="opnumberdata">#205 (0xCD)</span>

		<span class="opnamedata">Spell: Protection (by Secondary Type)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op205">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op205">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op205">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Secondary Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) immunity to effects from the secondary type specified by the <code>Secondary Type</code> field.

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Secondary Type</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.
</p>

Known values for <code>Secondary Type</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; SPELLPROTECTIONS</li>
	<li>2 &longrightarrow; SPECIFICPROTECTIONS</li>
	<li>3 &longrightarrow; ILLUSIONARYPROTECTIONS</li>
	<li>4 &longrightarrow; MAGICATTACK</li>
	<li>5 &longrightarrow; DIVINATIONATTACK</li>
	<li>6 &longrightarrow; CONJURATION</li>
	<li>7 &longrightarrow; COMBATPROTECTIONS</li>
	<li>8 &longrightarrow; CONTINGENCY</li>
	<li>9 &longrightarrow; BATTLEGROUND</li>
	<li>10 &longrightarrow; OFFENSIVEDAMAGE</li>
	<li>11 &longrightarrow; DISABLING</li>
	<li>12 &longrightarrow; COMBINATION</li>
	<li>13 &longrightarrow; NON-COMBAT</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>CANNOT block effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.</li>

	<li>
		CAN block EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can deflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT block effects from self.</li>
	<li>Maintains animation <code>SPMAGGLO</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Deflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is deflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op206" class="opcode">
		<span class="opnumberdata">#206 (0xCE)</span>

		<span class="opnamedata">Spell: Protection from Spell</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op206">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op206">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">String Reference</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) immunity from the spell specified in the <code>resource</code> key. The strref specified by the <code>String Reference</code> field is displayed when the spell is absorbed.



<div class="note bug">
	<div>
		<strong>Bug:</strong> 
As of EE v2.6, <code>String Reference</code> is bound by
<details>
<pre>
// NOTE: strrefs [0xF00000&mdash;0xF00537] index into <a href="../files/2da/2da_bgee/enginest.htm">enginest.2da</a>, with the row being "strref - 0xF00000"

if (!pEffect-&gt;m_sourceRes.IsValid() || (pImmunitySpell-&gt;m_error != 0xf00074 &amp;&amp; pImmunitySpell-&gt;m_error != 0xf00080))
{
	uint nNewFeedback = 0xffffffff;
	if (pImmunitySpell-&gt;m_error == 0xf00074) {
		nNewFeedback = 0xf00073;
	}
	pImmunitySpell-&gt;m_error = nNewFeedback;
}
</pre>
</details>
Basically, <code>String Reference</code> has to be <code>0xF00074</code> (<code><a href="../files/2da/2da_bgee/enginest.htm#116">STRREF_FEEDBACK_EVADE_RESOURCE</a></code>) or <code>0xF00080</code> (<code><a href="../files/2da/2da_bgee/enginest.htm#128">STRREF_FEEDBACK_IMMUNE_RESOURCE</a></code>) for the engine to display it.
<br /><br />

<b><u>NOTE:</u></b> the engine only allows <code>0xF00074</code> / <code>0xF00080</code> — it doesn’t care that <code><a href="../files/2da/2da_bgee/enginest.htm#128">STRREF_FEEDBACK_IMMUNE_RESOURCE</a></code> (<code>99389</code> on BG2:EE) is what <code>0xF00080</code> eventually resolves to, it’s not <code>0xF00080</code>. <a href="#op206">opcode #206</a>’s <code>String Reference</code> should look like this in <a href="https://github.com/Argent77/NearInfinity">Near Infinity</a> (right click ⇒ Edit as hex number):
<details>
	<img src="../images/op206 string reference.png" alt="op206_string_reference" />
</details>

	</div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
At least in EEs, this opcode can block <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files too.<br />
In order to do so, both the <code>Resource</code> field of <a href="#op206">opcode #206</a> and the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x94">Parent Resource</a></code> field of the EFF file must be the same string (max. 8 character long); moreover, you must set the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90">Resource Type</a></code> field of the EFF file to <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_1">Spell</a></code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op207" class="opcode">
		<span class="opnumberdata">#207 (0xCF)</span>

		<span class="opnamedata">Spell: Bounce (by Resource)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op207">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op207">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op207">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will reflect the <a href="../file_formats/ie_formats/spl_v1.htm">SPL</a> file specified by the <code>resource</code> key.



<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="#op333">Opcode #333</a>, <a href="#op326">opcode #326</a> and <a href="#op146">opcode #146</a><code><sup><small>*</small></sup>p2=2</code> are NOT properly reflected by this opcode – the spell specified by their <code>resource</code> key will affect the original target (as if it wasn't reflected).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>Similar to <a href="#op206">opcode #206</a>, this can only reflect EFF files if their <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90">Parent Type</a></code> is set to <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_1">Spell</a></code>.</li>
	<li>
		CANNOT reflect effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CAN reflect EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can reflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT reflect effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#67">Spell Deflection</a></code> on the target (this is likely a bug).</li>
	<li>Maintains animation <code>SPTURNI2</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Reflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is reflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op208" class="opcode">
		<span class="opnumberdata">#208 (0xD0)</span>

		<span class="opnamedata">HP: Minimum Limit</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="pst.htm#op208">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Minimum Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) HP value will not drop below the value specified by the <code>Minimum Value</code> field.
<br/>This effect sets <a href="../files/ids/bgee/stats.htm#83">MINHITPOINTS</a> to <code>Minimum Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li><code>Minimum Value</code> values <code>65536</code> to <code>98303</code> will set an only allowed hit point value (HP can't be higher or lower), each representing <code>'Minimum Value' value - 65536</code>, so <code>0</code> to <code>32767</code>.</li>
	<li>Values <code>32768</code> to <code>65535</code> do this as well, but all result in negative HP amounts, so not usable, as they will result in the same bugged non-death as <a href="#op17">opcode #17</a> reducing HP to 0.</li>
	<li>All values higher than <code>98303</code> just repeat loop over from <code>-32768</code> to <code>32767</code>.</li>
	<li>Any positive value will also grant the creature immunity to directly applied <a href="#op13">opcode #13</a> effects. Those applied indirectly will still kill the creature, notably by opcodes <a href="#op55">#55</a>, <a href="#op134">#134</a>, <a href="#op151">#151</a>, <a href="#op209">#209</a>, and <a href="#op238">#238</a>.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op209" class="opcode">
		<span class="opnumberdata">#209 (0xD1)</span>

		<span class="opnamedata">Death: Kill 60HP</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op209">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op209">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op209">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Instantly kills the targeted creature(s), if the targeted creature(s) has less than 60 HP.<br/>
More specifically, it functions by applying <a href="#op13">opcode #13</a> (<code>Death Type = 4 // Normal Death</code>).



<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="#op101">Immunity</a> to <a href="#op13">opcode #13</a> is not sufficient to block this effect unless it’s granted through <code><a href="../files/2da/2da_bgee/7eyes.htm">7EYES.2DA</a></code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op210" class="opcode">
		<span class="opnumberdata">#210 (0xD2)</span>

		<span class="opnamedata">Spell Effect: Stun 90HP</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op210">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op210">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the stun effect to the targeted creature(s), if the targeted creature(s) has less than 90 HP.
<br/>The <code>duration</code> of the effect is:
<ul>
	<li>1 to 29 HP &longrightarrow; stunned for 4d4 rounds</li>
	<li>30 to 59 HP &longrightarrow; stunned for 2d4 rounds</li>
	<li>60 to 89 HP &longrightarrow; stunned for 1d4 rounds</li>
</ul>

More specifically, it functions by applying <a href="#op45">opcode #45</a>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="#op101">Immunity</a> to <a href="#op45">opcode #45</a> is sufficient to block the stun effect, but without <a href="#op101">immunity</a> to <a href="#op210">opcode #210</a> it will still generate an erroneous <code>~Stunned~</code> string display.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op211" class="opcode">
		<span class="opnumberdata">#211 (0xD3)</span>

		<span class="opnamedata">Spell Effect: Imprisonment</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op211">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op211">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op211">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the imprisonment effect to the targeted creature(s).
<br/>The field at <code>0xcc</code> can be used to prevent death related effects (e.g. removal from party) running on the targetted creature(s) – not verified on EE games (it is very likely that this was replaced by giving <a href="#op213">Maze</a> a specified <code>duration</code> option).
<br/><br/>

Aside from kicking from the party, or granting experience for a kill, the targeted creature(s) is suspended from the area:
<ul>
	<li>They can not be targeted by <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> projectiles, only with effect targets <code>Party</code> or <code>Everyone</code> or similar.</li>
	<li>They are not detectable by any script triggers, though they may still be targeted with actions directly by scriptname or partyslot.</li>
	<li>
		Excluding Opcodes <a href="#op211">#211</a>/<a href="#op212">#212</a>/<a href="#op213">#213</a>:
		<ul>
			<li>All other effects on the creature are suppressed until this effect is removed.</li>
		</ul>
	</li>
	<li>
		Excluding <a href="#op212">opcode #212</a>:
		<ul>
			<li>Delayed effects that would trigger will be further delayed until this effect is removed.</li>
			<li>Effects that would expire will not expire until this effect is removed.</li>
		</ul>
	</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op212" class="opcode">
		<span class="opnumberdata">#212 (0xD4)</span>

		<span class="opnamedata">Protection: Freedom</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op212">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op212">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="pst.htm#op212">PST</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the freedom effect to the targeted creature(s).<br/>
Removes <a href="#op211">Imprisonment</a> and <a href="#op213">Maze</a>, and <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files using those opcodes.
 </div>
		<hr />

	</div>

	<div id="op213" class="opcode">
		<span class="opnumberdata">#213 (0xD5)</span>

		<span class="opnamedata">Spell Effect: Maze</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op213">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op213">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Icon</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the maze effect to the targeted creature(s).

<p>
	Suspends the creature in the same manner as <a href="#op211">Imprisonment</a>, disabling Inventory and removing all active Portrait Icons (except its own), but without kicking or granting exp. It actually removes itself with a delayed <a href="#op212">opcode #212</a> effect (that it also applies), not by expiring. Blocking the <a href="#op212">opcode #212</a> effect will prevent maze from ending.
</p>

<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Use intelligence based duration (via <a href="../files/2da/2da_bgee/intmod.htm">INTMOD.2DA</a>)</li>
	<li>1 &longrightarrow; Use <code>Duration</code> field</li>
</ul>

<br/>The duration of the effect is set in <a href="../files/2da/2da_bgee/intmod.htm">INTMOD.2DA</a>, default values are:
<ul>
	<li>0 to 2 int   &longrightarrow; 20d4 rounds</li>
	<li>3 to 5 int   &longrightarrow; 10d4 rounds</li>
	<li>6 to 8 int   &longrightarrow; 5d4 rounds</li>
	<li>9 to 11 int  &longrightarrow; 4d4 rounds</li>
	<li>12 to 14 int &longrightarrow; 3d4 rounds</li>
	<li>15 to 17 int &longrightarrow; 2d4 rounds</li>
	<li>18&plus; int &longrightarrow; 1d4 rounds</li>
</ul>

<p>
	<code>Icon</code> defines the index from <a href="../files/2da/2da_bgee/statdesc.htm">STATDESC.2DA</a> for custom portrait icons (EE only). Default value is <code><a href="../files/2da/2da_bgee/statdesc.htm#78">Maze</a></code>.
</p>
 </div>
		<hr />

	</div>

	<div id="op214" class="opcode">
		<span class="opnumberdata">#214 (0xD6)</span>

		<span class="opnamedata">Spell Effect: Select Spell</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op214">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op214">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Uses the 2da specified by the <code>resource</code> key to display multiple spell options, based on the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Use <code>resource</code> 2da list</li>
	<li>1 &longrightarrow; Known <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_1">mage</a></code> spells, except Identify (<code>"SPWI110"</code>), and Nahal's Reckless Dweomer (<code>"SPWI124"</code>)</li>
	<li>2 &longrightarrow; Known <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C_1">mage</a></code> spells, except the above, and those with spell flag <code><a href="../file_formats/ie_formats/spl_v1.htm#Header_Flags_BIT15">Ignore Wild Surge</a></code></li>
</ul>

When <code>Type</code> is <code>0</code>, the 2da file must follow the following format:<br/>
<pre>
2DA V1.0
****
ResRef		Type
name		RESREF			Casting Type
name		RESREF			Casting Type
</pre>
<br/>

<code>name</code> can be any string of characters/numbers without any whitespace, and does not need to be unique. <code>RESREF</code> is the filename of the spell without its <code>.SPL</code> extension.<br/>
As far as <code>Casting Type</code> is concerned:
<ul>
	<li>0/1 &longrightarrow; Spell completely mimics the mechanics of casting a spell from a quick-cast slot (including requiring and expending a memorization of the spell)</li>
	<li>
		2 &longrightarrow; It either does nothing or crashes, depending on the spell.
		<ul>
			<li><code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0xC_5">Caster</a></code> targeted spells just do nothing.</li>
			<li><code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0xC_1">Actor</a></code>/<code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0xC_4">Location</a></code> targeted spells will crash the game.</li>
		</ul>
	</li>
	<li>3 &longrightarrow; Ignores Spells/Round rule, ignores memorization.</li>
	<li>4 &longrightarrow; Ignores Spells/Round rule, ignores memorization, spellcasting cannot be interrupted by damage, uses normal <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0x12">casting speed</a></code>.</li>
	<li>5 &longrightarrow; Ignores Spells/Round rule, cast instantly, even if the game is paused, can be cast without memorization, but will decrement memorization if exists.</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
The target of this effect must be the only currently selected character when it triggers, and remain the selected character until a spell is chosen, or the menu will terminate.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The presence of this effect in any of a spell’s ability headers will force any Wild Surge of that spell to use the ‘Cast Normal’ result.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op215" class="opcode">
		<span class="opnumberdata">#215 (0xD7)</span>

		<span class="opnamedata">Graphics: Play 3D Effect</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op215">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op215">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undetermined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Play where?</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Plays the BAM/VVC specified by the <code>resource</code> key, in the style specified by the <code>Play where?</code> value.
<br/>Known values for <code>Play where?</code> are:
<ul>
	<li>0 &longrightarrow; Play on target (not attached)</li>
	<li>1 &longrightarrow; Play on target (attached)</li>
	<li>2 &longrightarrow; Play on point</li>
</ul>

<br/>Known BAM files are:
<ul>
	<li>acidblob &longrightarrow; Ankheg Spit</li>
	<li>aciddth &longrightarrow; Acid Hit</li>
	<li>bloodcr &longrightarrow; Blood Splash</li>
	<li>bloodl &longrightarrow; Blood Splash (Large)</li>
	<li>bloodm &longrightarrow; Blood Splash (Medium)</li>
	<li>bloods &longrightarrow; Blood Splash (Small)</li>
	<li>burnhand &longrightarrow; Burning Hands</li>
	<li>cgabjura &longrightarrow; Casting Glow (Abjuration)</li>
	<li>cgaltera &longrightarrow; Casting Glow (Alteration)</li>
	<li>cgconjur &longrightarrow; Casting Glow (Conjuration)</li>
	<li>cgdivina &longrightarrow; Casting Glow (Divination)</li>
	<li>cgenchan &longrightarrow; Casting Glow (Enchantment)</li>
	<li>cgillusi &longrightarrow; Casting Glow (Illusion)</li>
	<li>cginvoca &longrightarrow; Casting Glow (Invocation)</li>
	<li>cgnecrom &longrightarrow; Casting Glow (Necromancy)</li>
	<li>colrspry &longrightarrow; Colour Spray</li>
	<li>explode &longrightarrow; Crash</li>
	<li>fire &longrightarrow; Crash</li>
	<li>firebrn &longrightarrow; Small Dot of Fire</li>
	<li>flml &longrightarrow; Bolt Of Flame (Large)</li>
	<li>flmm &longrightarrow; Small Bolt Of Flame (Medium)</li>
	<li>flms &longrightarrow; Tiny Bolt Of Flame (Small)</li>
	<li>flmstrk &longrightarrow; BG Flame Strike</li>
	<li>glphwrdh &longrightarrow; Glyph of Warding (Part)</li>
	<li>glphwrdt &longrightarrow; Glyph of Warding (Full)</li>
	<li>greased &longrightarrow; Blob Of Grease</li>
	<li>greaseh &longrightarrow; Blob Of Grease</li>
	<li>grndglow &longrightarrow; Grey round ground Explosion</li>
	<li>hlymite &longrightarrow; Call Upon Holy Might</li>
	<li>magicstn &longrightarrow; Magic Stone</li>
	<li>minorglb &longrightarrow; Minor Globe of Invulnerability</li>
	<li>mmagich &longrightarrow; Burst of Yellowish Magic (like Bolt Of Glory)</li>
	<li>sanctry &longrightarrow; Sanctuary</li>
	<li>settrap &longrightarrow; Spell Icon</li>
	<li>shacid &longrightarrow; Acid Damage</li>
	<li>shair &longrightarrow; Green mist rises from head to air above</li>
	<li>sharea &longrightarrow; Exploding Yellow Ring above head</li>
	<li>shearth &longrightarrow; Blue drops from chest drop on ground</li>
	<li>shglyph &longrightarrow; Rubbish</li>
	<li>shskull &longrightarrow; Rubbish</li>
	<li>shwater &longrightarrow; Potion of Healing</li>
	<li>sklh &longrightarrow; Skull trap (moving)</li>
	<li>sklt &longrightarrow; Skull Trap (stationary)</li>
	<li>skybolt &longrightarrow; Call Lightning</li>
	<li>spabjura &longrightarrow; Four cornered blue magic joins in middle</li>
	<li>spagscho &longrightarrow; Unexplainable</li>
	<li>spaltera &longrightarrow; Coloured magic rising from ground (Like Teleport Field)</li>
	<li>spanisum &longrightarrow; Opening Plant (find familiar)</li>
	<li>sparmour2 &longrightarrow; Magic helm forms above target</li>
	<li>sparmouri &longrightarrow; golden armour joins together at chest of caster (armour)</li>
	<li>sparmour &longrightarrow; snowball like balls swirl around target</li>
	<li>spattck1 &longrightarrow; Globe of magic (Like ruby ray of reversal)</li>
	<li>spattck2 &longrightarrow; swirling small ball of magic (umber hulk confusion)</li>
	<li>spbaserd &longrightarrow; Golden Light with white rays of light coming from middle</li>
	<li>spbasewt &longrightarrow; Blue Light with white rays of light coming from middle</li>
	<li>spbdbur &longrightarrow; Lime green blob of magic</li>
	<li>spbdburs &longrightarrow; Direct Vertical Strike of greenish blue magic</li>
	<li>spbdimsp &longrightarrow; Greenish burst of magic upon target</li>
	<li>spbehbla &longrightarrow; Purplish magic swirling on target</li>
	<li>spbehray &longrightarrow; Fire like blob</li>
	<li>spbhandi &longrightarrow; Small ball of burning red fire</li>
	<li>spblbbtm &longrightarrow; Blade Barrier (bottom half)</li>
	<li>spblbtop &longrightarrow; Blade Barrier (Top Half)</li>
	<li>spbleshi &longrightarrow; 3 Golden rays converging upon target</li>
	<li>spblood &longrightarrow; Chunk of flesh when body explodes due to too much damage</li>
	<li>spboom &longrightarrow; Mushroom like cloud of fire</li>
	<li>spbrnhnd &longrightarrow; Burning Hands</li>
	<li>spburn &longrightarrow; Tiny blob of fire</li>
	<li>spburns1 &longrightarrow; Round fire</li>
	<li>spcagemz &longrightarrow; Maze (Only top 2 grates)</li>
	<li>spcallli &longrightarrow; Strike of Lightning (not lightning strike)</li>
	<li>spccmdsi &longrightarrow; Purplish red burst of magic</li>
	<li>spccolde &longrightarrow; Round of blue ice with a trail of smoke smashing on target</li>
	<li>spccoldl &longrightarrow; Travelling round blue ice with a trail of smoke</li>
	<li>spccwoui &longrightarrow; Burst of Bluish light bursting on target</li>
	<li>spchlgt1 &longrightarrow; Chain Lightning</li>
	<li>spchlgt2 &longrightarrow; Chain Lightning</li>
	<li>spchlgt3 &longrightarrow; Chain Lightning</li>
	<li>spchchromi &longrightarrow; Orb of Translucent bluish green magic</li>
	<li>spchrorb &longrightarrow; Chromatic Orb</li>
	<li>spchunks &longrightarrow; Ice Chunks (when target is frozen and smashed)</li>
	<li>spclcomp &longrightarrow; Blue cloud of mist</li>
	<li>spclkfri &longrightarrow; Blue Cloak forming on target (cloak of fear)</li>
	<li>spcloud1 &longrightarrow; Blue Cloud of mist</li>
	<li>spcloud2 &longrightarrow; A better Blue cloud of mist</li>
	<li>spcloud3 &longrightarrow; Small cloud of blue mist</li>
	<li>spcloudi &longrightarrow; Burst of orangey red magic</li>
	<li>spcmwoui &longrightarrow; Blue magic on target increases then shrinks and disappears</li>
	<li>spcomend &longrightarrow; Tentacle Whip</li>
	<li>spcomett &longrightarrow; A Purple Comet</li>
	<li>spcomstt &longrightarrow; A whip</li>
	<li>spconfus &longrightarrow; Confusion a ring of intertwined birds</li>
	<li>spcontin &longrightarrow; A large white star forming a book which blasts white light</li>
	<li>spcrtwpn &longrightarrow; Yellow and white rays circle forming hammer and anvil</li>
	<li>spcspra2 &longrightarrow; Coloured ball of magic</li>
	<li>spcspra3 &longrightarrow; Larger more clearer ball of magic</li>
	<li>spcsprai &longrightarrow; Same as last one</li>
	<li>spcswoui &longrightarrow; Blast of greenish yellowey white magic</li>
	<li>spdeath3 &longrightarrow; Rising spirit (Finger of Death)</li>
	<li>spdimdr1 &longrightarrow; Bg open dimension door</li>
	<li>spdimdr2 &longrightarrow; Bg opening dimension door</li>
	<li>spdimndr &longrightarrow; Bg2 dimension door</li>
	<li>spdispma &longrightarrow; Swirling balls of blue magic (dispel magic)</li>
	<li>spdivina &longrightarrow; Five balls of blue magic separating very small</li>
	<li>spdusty2 &longrightarrow; Disintegration dust</li>
	<li>spelltin &longrightarrow; Rubbish green square</li>
	<li>spentaai &longrightarrow; Green vine from ground</li>
	<li>spentaci &longrightarrow; A swarm of green vines</li>
	<li>spentaxi &longrightarrow; A swarm of vines that disappear after intertwining</li>
	<li>spfbsmal &longrightarrow; White Ball of fire</li>
	<li>spfdeath &longrightarrow; Rising Spirit (Finger of Death)</li>
	<li>spfdeth3 &longrightarrow; Rising Spirit (Finger Of Death)</li>
	<li>spfearef &longrightarrow; Face on ground (Horror)</li>
	<li>spfinodi &longrightarrow; A dieing Rose</li>
	<li>spfire &longrightarrow; Flame Damage</li>
	<li>spfirebl &longrightarrow; Fireball</li>
	<li>spfirepl &longrightarrow; Burst of fire in middle with a circle of white light leaving</li>
	<li>spfiresb &longrightarrow; Fire Shield Blue</li>
	<li>spfiresr &longrightarrow; Fire Shield Red</li>
	<li>spfiret &longrightarrow; Small Ball of Fire</li>
	<li>spfiretr &longrightarrow; Better Small Ball Of Fire</li>
	<li>spfirimp &longrightarrow; Fire Damage</li>
	<li>spfirsdi &longrightarrow; Burst of Flames</li>
	<li>spfirsed &longrightarrow; Fire Seed</li>
	<li>spfladow &longrightarrow; Flame Strike</li>
	<li>spflames &longrightarrow; Burst of Flames</li>
	<li>spflast1 &longrightarrow; Burst Of Flames (Different)</li>
	<li>spflast2 &longrightarrow; Flame Strike (different)</li>
	<li>spfleshs &longrightarrow; Swirling white rays (when Irenicus petrifies people)</li>
	<li>spflmarr &longrightarrow; Flame Arrow (more real)</li>
	<li>spflmbld &longrightarrow; Rising Sword</li>
	<li>spflmsti &longrightarrow; Bottom half Of Icewind Dale Style Flame Strike</li>
	<li>spflsrin &longrightarrow; Central flaming ball ejecting 2 rings of white light</li>
	<li>spflstri &longrightarrow; Flamestrike with burning bright yellow at bottom</li>
	<li>spfracti &longrightarrow; a chain breaking in half</li>
	<li>spfstrmi &longrightarrow; Small meteor swarm</li>
	<li>spgenhla &longrightarrow; Ray of bluish light with rays of yellow light (Holy Power)</li>
	<li>spgenhlb &longrightarrow; Ray Above but forming (the one above forms and finishes)</li>
	<li>spgflsh1 &longrightarrow; Burst of yellow red magic (when monsters unsummon)</li>
	<li>spglyphi &longrightarrow; Travelling Coloured glyph of warding</li>
	<li>spglypti &longrightarrow; Floating coloured glyph</li>
	<li>spgreaai &longrightarrow; Purple oval of magic</li>
	<li>spgreaci &longrightarrow; same oval of magic but still the one above forms and goes</li>
	<li>spgreaxi &longrightarrow; Blob of purple goo exploding on target</li>
	<li>spgreorb &longrightarrow; green Orb</li>
	<li>sphandat &longrightarrow; A electrical looking hand appearing</li>
	<li>sphealin &longrightarrow; Healing</li>
	<li>sphleft &longrightarrow; left Half of Icewind style Heal</li>
	<li>sphlhi01 &longrightarrow; left half of icewinds Heal</li>
	<li>sphlhi02 &longrightarrow; Right half of icewinds heal</li>
	<li>sphlybls &longrightarrow; Aid</li>
	<li>sphlysm2 &longrightarrow; Lighter Ray of Holy Smite</li>
	<li>sphlysm3 &longrightarrow; Darker ray of Holy Smite</li>
	<li>sphlysmt &longrightarrow; Yellow ray of light striking target</li>
	<li>sphollyw &longrightarrow; A swirl of blue magic forming then exploding into many doves</li>
	<li>spholmig &longrightarrow; Already formed circle of magic with white rays shining out</li>
	<li>spholymt &longrightarrow; Yellow ray with bluish mist on side vertically on target</li>
	<li>spholywd &longrightarrow; Light blue ray of vertical energy with whitish mist on side</li>
	<li>sphorpuf &longrightarrow; Yellowish puff of smoke</li>
	<li>sphorwil &longrightarrow; Abi Dalzims horrid wilting</li>
	<li>sphright &longrightarrow; Right hands side of Icewinds spell heal</li>
	<li>spicestm &longrightarrow; Ice storm</li>
	<li>spillus &longrightarrow; a ball of blue magic swirling</li>
	<li>spilusio &longrightarrow; a ball of blue magic swirling</li>
	<li>spinsect &longrightarrow; Black swarm of Insects</li>
	<li>spiplaai &longrightarrow; Brown swarm of insects</li>
	<li>spiplari &longrightarrow; Brown swarm of insects</li>
	<li>spiplaui &longrightarrow; Forming swarm of brown insects</li>
	<li>splightb &longrightarrow; Lightning Bolt</li>
	<li>spmagglo &longrightarrow; Minor Spell Deflection</li>
	<li>spmagmis &longrightarrow; Magic Missile</li>
	<li>spmetswa &longrightarrow; Flaming ball of fire</li>
	<li>spmetswm &longrightarrow; Meteor Swarm</li>
	<li>spmetswn &longrightarrow; More Balls of Meteor swarm</li>
	<li>spmindat &longrightarrow; The swirling ball above head when you are held</li>
	<li>spmirroi &longrightarrow; A shining blue mirror</li>
	<li>spmonsum &longrightarrow; Monster Summoning</li>
	<li>spnecro1 &longrightarrow; Ring of circling reddish purplish magic</li>
	<li>spnpoisi &longrightarrow; Icewinds style of cure disease</li>
	<li>spnwchrm &longrightarrow; Green orbs rising from ground to head (charm)</li>
	<li>sppfirai &longrightarrow; Produce Fire</li>
	<li>sppfirri &longrightarrow; smaller burst of fire</li>
	<li>sppfirxi &longrightarrow; larger burst of flame</li>
	<li>spplanar &longrightarrow; Large yellow orb forming then shattering</li>
	<li>sppolymp &longrightarrow; Polymorph</li>
	<li>spportal &longrightarrow; Round portal forming</li>
	<li>sppowwrd &longrightarrow; One of the red Power Word effects</li>
	<li>spprayri &longrightarrow; Icewind Dales style of prayer</li>
	<li>spprism2 &longrightarrow; swirling orb of colour</li>
	<li>spprism3 &longrightarrow; swirling ball of colour</li>
	<li>spprismt &longrightarrow; swirling ball of colour</li>
	<li>spproimg &longrightarrow; Crack in ground forming some round circle</li>
	<li>spprotec &longrightarrow; Protection from normal weapons</li>
	<li>spraised &longrightarrow; animate dead</li>
	<li>spraisei &longrightarrow; growing rose (raise dead)</li>
	<li>sprdrabu &longrightarrow; Vertical strike of red magic</li>
	<li>sprdrae2 &longrightarrow; burst of yellow fire like magic</li>
	<li>sprdraex &longrightarrow; burst of yellow fire like magic</li>
	<li>sprdraim &longrightarrow; puff of red smoke exploding on target in a ring</li>
	<li>sprdrasi &longrightarrow; puff of red smoke formed and it stays formed</li>
	<li>spresuri &longrightarrow; growing silver rose (resurrection)</li>
	<li>spring &longrightarrow; grey travelling ray</li>
	<li>sprmpari &longrightarrow; Icewind Style of remove paralysis</li>
	<li>sprotect &longrightarrow; Protection from evil</li>
	<li>sprwra2i &longrightarrow; A blue symbol on the ground with rays of blue rising from it</li>
	<li>sprwrati &longrightarrow; green ray forming and bursting down on target</li>
	<li>spsarmour &longrightarrow; Forming wings</li>
	<li>spschgi &longrightarrow; Purple energy with a black ring around it swirling</li>
	<li>spscorch &longrightarrow; Fire thing again (so many of these)</li>
	<li>spscoric &longrightarrow; same as above</li>
	<li>spsdbur &longrightarrow; A ray of misty grey magic vertically striking fast</li>
	<li>spsdimpa &longrightarrow; Great sparks of white bursting</li>
	<li>spsdrbur &longrightarrow; a ray of misty grey magic vertically striking</li>
	<li>spshadow &longrightarrow; Nothing</li>
	<li>spshield &longrightarrow; Prot normal missiles</li>
	<li>spshkimp &longrightarrow; Electrical damage effect</li>
	<li>spskullt &longrightarrow; red eyed skull with a trail of green smoke</li>
	<li>spsmkjet &longrightarrow; nothing</li>
	<li>spsmold &longrightarrow; nothing</li>
	<li>spsmpuff &longrightarrow; white round puff of smoke disappearing</li>
	<li>spsnrayi &longrightarrow; Sunray</li>
	<li>spsohopi &longrightarrow; Symbol forming and ejecting a ray of magic (symbol hopeless)</li>
	<li>spspaini &longrightarrow; Symbol of Pain</li>
	<li>spsparks &longrightarrow; sparks</li>
	<li>spspeart &longrightarrow; Bolt of Glory</li>
	<li>spspmaze &longrightarrow; 4 lines forming a sharp cage of spears</li>
	<li>spstink &longrightarrow; small puff of smoke rising from ground</li>
	<li>spstones &longrightarrow; stoneskin</li>
	<li>spstrenh &longrightarrow; Whiteray shooting down forming a puff of magic on target (lesser restoration)</li>
	<li>spstreni &longrightarrow; Strength of One</li>
	<li>spsturni &longrightarrow; Minor Spell Turning</li>
	<li>spsumgte &longrightarrow; gate (ring of bones)</li>
	<li>spsummon &longrightarrow; Call Woodland Beings</li>
	<li>spsunray &longrightarrow; Larger sunray</li>
	<li>sptrapbb &longrightarrow; Snare Trap</li>
	<li>sptrusee &longrightarrow; Opening Eye (clairvoyance)</li>
	<li>spturni2 &longrightarrow; Already formed spell turning</li>
	<li>spunhbl2 &longrightarrow; unholy smite</li>
	<li>spunhbl3 &longrightarrow; darker version of above</li>
	<li>spunhblt &longrightarrow; Red bolt shooting</li>
	<li>spunholy &longrightarrow; Am orange glow exploding into many doves</li>
	<li>spwi124a &longrightarrow; Spell Icon</li>
	<li>spwi124b &longrightarrow; Spell Icon</li>
	<li>spwi124c &longrightarrow; Spell Icon</li>
	<li>spwirbla &longrightarrow; Some ring forming a circle with other lines coming from it with blades arching up forming some cage</li>
	<li>spwrdfld &longrightarrow; Teleport Field</li>
	<li>stnkcldd &longrightarrow; Stinking Cloud</li>
	<li>stnkcldt &longrightarrow; Travelling Ball of Stinking Cloud</li>
	<li>travel &longrightarrow; An orb of swirling magic orb that shoots out to everyone</li>
	<li>trbloba &longrightarrow; green blob forming and splatting on target</li>
	<li>trblobb &longrightarrow; green blob forming and splatting on target</li>
	<li>trdartst &longrightarrow; Shooting knife looking things</li>
	<li>trgooyaa &longrightarrow; green blob forming and splatting on target</li>
	<li>trgooybb &longrightarrow; green blob forming and splatting on target</li>
	<li>trspeart &longrightarrow; Spear rising from ground striking target</li>
	<li>trventaa &longrightarrow; Bottom part of opening vent</li>
	<li>trventbb &longrightarrow; top part of opening vent which sprays out mist</li>
	<li>webbomb &longrightarrow; A burst of webs</li>
	<li>webc &longrightarrow; entangled in web</li>
	<li>webentd &longrightarrow; Other version of web</li>
	<li>webenth &longrightarrow; Entangling web</li>
	<li>webentt &longrightarrow; Travelling ball of shining web</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Play where?</code> <code>0</code> or <code>2</code> also supports <a href="../file_formats/ie_formats/vef_v1.htm">VEF</a> files.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op216" class="opcode">
		<span class="opnumberdata">#216 (0xD8)</span>

		<span class="opnamedata">Spell Effect: Level Drain</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op216">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op216">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op216">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Drains levels from the targeted creature(s) as specified by the <code>Amount</code> field. <code>Amount</code> can be positive or negative.<br/>
In particular:
<ul>
	<li>Alters the targeted creature(s) Base THAC0, Saving Throws, Hit Points, and Spell Slots as appropriate for their new effective level.</li>
	<li>Thief skills are adjusted depending of the class and kit of the creature.</li>
	<li>Rangers, Shamans, and Bards have their value adjusted as appropriate for their new effective level based on files <a href="../files/2da/2da_bgee/skillrng.htm">SKILLRNG.2DA</a>, <a href="../files/2da/2da_bgee/skillshm.htm">SKILLSHM.2DA</a>, and <a href="../files/2da/2da_bgee/skillbrd.htm">SKILLBRD.2DA</a>, respectively.</li>
	<li>Monks and Thieves skills are all adjusted by the average amount of skill points they receive per level (regardless of which skills they were spent on), applied and capped (range: <code>[0,255]</code>) before racial and/or dexterity adjustments.</li>
	<li>All effects using <code>Timing Mode 2</code> (equipped) that alter the above stats are suppressed.</li>
	<li>The targeted creature(s) cannot level-up.</li>
	<li>The targeted creature(s) current experience is hidden (they still gain experience as normal).</li>
	<li>This effect is removed, regardless of <code>Timing Mode</code>, by any death that sets <a href="../files/ids/bgee/state.htm#BIT11">STATE_DEAD</a>.</li>
</ul>

Moreover:
<ul>
	<li><code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x60">Parameter3</a></code> is used internally to store recalculated current hp.</li>
	<li><code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x64">Parameter4</a></code> is used internally to store recalculated max xp.</li>
</ul>

<br/>This effect sets <a href="../files/ids/bgee/stats.htm#200">LEVELDRAIN</a> to <code>Amount</code>.
 </div>
		<hr />

	</div>

	<div id="op217" class="opcode">
		<span class="opnumberdata">#217 (0xD9)</span>

		<span class="opnamedata">Spell Effect: Unconsciousness 20HP</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op217">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op217">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Wake on damage</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Icon</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies <a href="#op39">opcode #39</a> using <code>Sleep (Wake on Hit)</code> mode to the targeted creature(s), if the targeted creature(s) has less than 20 HP. The effect always lasts 5 rounds, and ignores the <code>duration</code> field. When calling the sleep opcode, parameters 2 and special are copied over.
 </div>
		<hr />

	</div>

	<div id="op218" class="opcode">
		<span class="opnumberdata">#218 (0xDA)</span>

		<span class="opnamedata">Protection: Stoneskin</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op218">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd2.htm#op218">IWD2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Use Dice?</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Icon</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) a number of protections from physical attacks, as specified by the <code>Amount</code> field.<br/>
Known values for <code>Use Dice?</code> are:
<ul>
	<li>0 &longrightarrow; No</li>
	<li>1 &longrightarrow; Yes</li>
</ul>

<p>
	<br/>If <code>Amount</code> and <code>Use Dice?</code> values are both non-zero, the total number of protections from physical attacks is: <code>'Amount' + Dice values</code>.
</p>

<p>
	This opcode maintains <a href="../files/ids/bgee/stats.htm#88">STONESKINS</a> to the amount of skins left.
</p>

<p>
	<code>Icon</code> defines the index from <a href="../files/2da/2da_bgee/statdesc.htm">STATDESC.2DA</a> for custom portrait icons. Default value is <code><a href="../files/2da/2da_bgee/statdesc.htm#80">Stoneskin</a></code>.
</p>
 </div>
		<hr />

	</div>

	<div id="op219" class="opcode">
		<span class="opnumberdata">#219 (0xDB)</span>

		<span class="opnamedata">Stat: AC vs. Creature Type Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op219">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op219">IWD2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) a 2 point bonus AC and Saving Throws against the creature type specified by the <code>IDS Entry</code> in the IDS file specified by the <code>IDS File</code> field. Note that the saving throws are not specified by the opcode name but are correctly rolled by the engine.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a> (EE-only, broken at least in 2.5)</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Multiple instances of this effect do not stack their bonus, but can be used to specify multiple creature types.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op220" class="opcode">
		<span class="opnumberdata">#220 (0xDC)</span>

		<span class="opnamedata">Removal: Remove School</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op220">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op220">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Maximum Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">School</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> For any effect that matches the specified <code>School</code>, and has a <code>0 <= Power Level <= Maximum Level</code>:
<ul>
	<li>All effects from that effect's <code>Parent Resource</code> with a <code>Power Level <= Maximum Level</code> that do not use <code>Timing Mode 9</code> will be removed.</li>
	<li>An effect using <code>Timing Mode 9</code> can be used to match the type and power level to trigger its resource's removal, but that effect itself will not be removed.</li>
	<li>If removal is triggered, the relevant string from <code><a href="../files/2da/2da_bgee/mschool.htm">MSCHOOL.2DA</a></code> is displayed in the combat log.</li>
</ul>

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Primary Type (School)</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x25">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x17">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x4C">V2 effects</a> specify it manually.
</p>

Known values for <code>School</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; ABJURATION</li>
	<li>2 &longrightarrow; CONJURATION</li>
	<li>3 &longrightarrow; DIVINATION</li>
	<li>4 &longrightarrow; ENCHANTMENT</li>
	<li>5 &longrightarrow; ILLUSION</li>
	<li>6 &longrightarrow; EVOCATION</li>
	<li>7 &longrightarrow; NECROMANCY</li>
	<li>8 &longrightarrow; ALTERATION</li>
	<li>9 &longrightarrow; GENERALIST</li>
	<li>10 &longrightarrow; WILDMAGE</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op221" class="opcode">
		<span class="opnumberdata">#221 (0xDD)</span>

		<span class="opnamedata">Removal: Remove Secondary Type</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op221">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op221">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Maximum Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Secondary Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> For any effect that matches the specified <code>Secondary Type</code>, and has a <code>0 <= Power Level <= Maximum Level</code>:
<ul>
	<li>All effects from that effect's <code>Parent Resource</code> with a <code>Power Level <= Maximum Level</code> that do not use <code>Timing Mode 9</code> will be removed.</li>
	<li>An effect using <code>Timing Mode 9</code> can be used to match the type and power level to trigger its resource's removal, but that effect itself will not be removed.</li>
	<li>If removal is triggered, the relevant string from <code><a href="../files/2da/2da_bgee/msectype.htm">MSECTYPE.2DA</a></code> is displayed in the combat log.</li>
</ul>

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Secondary Type</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.
</p>

Known values for <code>Secondary Type</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; SPELLPROTECTIONS</li>
	<li>2 &longrightarrow; SPECIFICPROTECTIONS</li>
	<li>3 &longrightarrow; ILLUSIONARYPROTECTIONS</li>
	<li>4 &longrightarrow; MAGICATTACK</li>
	<li>5 &longrightarrow; DIVINATIONATTACK</li>
	<li>6 &longrightarrow; CONJURATION</li>
	<li>7 &longrightarrow; COMBATPROTECTIONS</li>
	<li>8 &longrightarrow; CONTINGENCY</li>
	<li>9 &longrightarrow; BATTLEGROUND</li>
	<li>10 &longrightarrow; OFFENSIVEDAMAGE</li>
	<li>11 &longrightarrow; DISABLING</li>
	<li>12 &longrightarrow; COMBINATION</li>
	<li>13 &longrightarrow; NON-COMBAT</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op222" class="opcode">
		<span class="opnumberdata">#222 (0xDE)</span>

		<span class="opnamedata">Spell Effect: Teleport Field</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op222">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op222">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Max Range</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the teleport field to the targeted creature(s).
<br/>The <code>Max Range</code> field sets the maximum range of the teleporting effect. Teleport is random direction up to specified range, range measured same as projectile radius, i.e.: <code>16 = 1 ft</code>.
 </div>
		<hr />

	</div>

	<div id="op223" class="opcode">
		<span class="opnumberdata">#223 (0xDF)</span>

		<span class="opnamedata">Spell: Immunity (by School, decrementing)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op223">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op223">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Total Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">School</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will absorb a number of effects (specified by the <code>Total Amount</code> field) whose <code>Primary Type (School)</code> is equal to the one specified by the <code>School</code> field.

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Primary Type (School)</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x25">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x17">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x4C">V2 effects</a> specify it manually.
</p>

<p>
	The <code>Power</code> level of the first effect to trigger any instance of this opcode's deflection will determine how much this opcode's <code>Amount</code> is decremented. Every instance of this opcode on the creature will be decremented by this amount.
</p>

Known values for <code>School</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; ABJURATION</li>
	<li>2 &longrightarrow; CONJURATION</li>
	<li>3 &longrightarrow; DIVINATION</li>
	<li>4 &longrightarrow; ENCHANTMENT</li>
	<li>5 &longrightarrow; ILLUSION</li>
	<li>6 &longrightarrow; EVOCATION</li>
	<li>7 &longrightarrow; NECROMANCY</li>
	<li>8 &longrightarrow; ALTERATION</li>
	<li>9 &longrightarrow; GENERALIST</li>
	<li>10 &longrightarrow; WILDMAGE</li>
</ul>

<p>
	On EE games, <code>resource</code> field &longrightarrow; Spell cast when this effect self-terminates, <code>default = Parent + "B"</code>.
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT block effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CAN block EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can deflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT block effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#73">Spell Shield</a></code> on the target.</li>
	<li>Maintains animation <code>SPMAGGLO</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Deflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is deflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op224" class="opcode">
		<span class="opnumberdata">#224 (0xE0)</span>

		<span class="opnamedata">Cure: Level Drain (Restoration)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op224">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op224">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the restoration effect to the targeted creature(s), resetting the level of the target.



<div class="note info">
  <div>
    <strong>Note:</strong> 
Removes <a href="#op216">opcode #216</a> (Level drain) effects from the creature, will not remove <a href="#op96">opcode #96</a> (Level change) effects.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op225" class="opcode">
		<span class="opnumberdata">#225 (0xE1)</span>

		<span class="opnamedata">Spell: Reveal Magic</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op225">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op225">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undefined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Highlights the targeted creature(s) if they are affected by dispellable magic. The effect appears to be without duration.<br/>
More specifically, it functions by applying <a href="#op50">opcode #50</a> to creature(s) with any dispellable effects. Color glow is red.
 </div>
		<hr />

	</div>

	<div id="op226" class="opcode">
		<span class="opnumberdata">#226 (0xE2)</span>

		<span class="opnamedata">Spell: Immunity (by Secondary Type, decrementing)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op226">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op226">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Total Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Secondary Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will absorb a number of effects (specified by the <code>Total Amount</code> field) whose <code>Secondary Type</code> is equal to the one specified by the <code>Secondary Type</code> field.

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Secondary Type</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.
</p>

<p>
	The <code>Power</code> level of the first effect to trigger any instance of this opcode's deflection will determine how much this opcode's <code>Total Amount</code> is decremented. Every instance of this opcode on the creature will be decremented by this amount.
</p>

Known values for <code>Secondary Type</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; SPELLPROTECTIONS</li>
	<li>2 &longrightarrow; SPECIFICPROTECTIONS</li>
	<li>3 &longrightarrow; ILLUSIONARYPROTECTIONS</li>
	<li>4 &longrightarrow; MAGICATTACK</li>
	<li>5 &longrightarrow; DIVINATIONATTACK</li>
	<li>6 &longrightarrow; CONJURATION</li>
	<li>7 &longrightarrow; COMBATPROTECTIONS</li>
	<li>8 &longrightarrow; CONTINGENCY</li>
	<li>9 &longrightarrow; BATTLEGROUND</li>
	<li>10 &longrightarrow; OFFENSIVEDAMAGE</li>
	<li>11 &longrightarrow; DISABLING</li>
	<li>12 &longrightarrow; COMBINATION</li>
	<li>13 &longrightarrow; NON-COMBAT</li>
</ul>

<p>
	On EE games, <code>resource</code> field &longrightarrow; Spell cast when this effect self-terminates, <code>default = Parent + "B"</code>.
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>CAN block effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.</li>

	<li>
		CAN block EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can deflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT block effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#73">Spell Shield</a></code> on the target.</li>
	<li>Maintains animation <code>SPMAGGLO</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Deflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is deflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op227" class="opcode">
		<span class="opnumberdata">#227 (0xE3)</span>

		<span class="opnamedata">Spell: Bounce (by School, decrementing)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op227">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op227">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Total Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">School</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will reflect a number of effects (specified by the <code>Total Amount</code> field) whose <code>Primary Type (School)</code> is equal to the one specified by the <code>School</code> field.

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Primary Type (School)</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x25">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x17">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x4C">V2 effects</a> specify it manually.
</p>

<p>
	The <code>Power</code> level of the first effect to trigger any instance of this opcode's reflection will determine how much this opcode's <code>Total Amount</code> is decremented. Every instance of this opcode on the creature will be decremented by this amount.
</p>

Known values for <code>School</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; ABJURATION</li>
	<li>2 &longrightarrow; CONJURATION</li>
	<li>3 &longrightarrow; DIVINATION</li>
	<li>4 &longrightarrow; ENCHANTMENT</li>
	<li>5 &longrightarrow; ILLUSION</li>
	<li>6 &longrightarrow; EVOCATION</li>
	<li>7 &longrightarrow; NECROMANCY</li>
	<li>8 &longrightarrow; ALTERATION</li>
	<li>9 &longrightarrow; GENERALIST</li>
	<li>10 &longrightarrow; WILDMAGE</li>
</ul>

<p>
	On EE games, <code>resource</code> field &longrightarrow; Spell cast when this effect self-terminates, <code>default = Parent + "B"</code>.
</p>



<div class="note important">
  <div>
    <strong>Important:</strong> 
As of EE v2.6, spells can no longer be "chained" back and forth by reflection.<br><br>

If Caster and Target are both affected by this opcode, the spell from Caster will reflect off Target, but not reflect back off Caster. Previously, whoever had more reflection charges would end up victorious, now the initial target always ends up victorious.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT reflect effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CAN reflect EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can reflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT reflect effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#67">Spell Deflection</a></code> on the target (this is likely a bug).</li>
	<li>Maintains animation <code>SPTURNI2</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Reflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is reflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op228" class="opcode">
		<span class="opnumberdata">#228 (0xE4)</span>

		<span class="opnamedata">Spell: Bounce (by Secondary Type, decrementing)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op228">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op228">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Total Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Secondary Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will reflect a number of effects (specified by the <code>Total Amount</code> field) whose <code>Secondary Type</code> is equal to the one specified by the <code>Secondary Type</code> field.

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Secondary Type</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.
</p>

<p>
	The <code>Power</code> level of the first effect to trigger any instance of this opcode's reflection will determine how much this opcode's <code>Total Amount</code> is decremented. Every instance of this opcode on the creature will be decremented by this amount.
</p>

Known values for <code>Secondary Type</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; SPELLPROTECTIONS</li>
	<li>2 &longrightarrow; SPECIFICPROTECTIONS</li>
	<li>3 &longrightarrow; ILLUSIONARYPROTECTIONS</li>
	<li>4 &longrightarrow; MAGICATTACK</li>
	<li>5 &longrightarrow; DIVINATIONATTACK</li>
	<li>6 &longrightarrow; CONJURATION</li>
	<li>7 &longrightarrow; COMBATPROTECTIONS</li>
	<li>8 &longrightarrow; CONTINGENCY</li>
	<li>9 &longrightarrow; BATTLEGROUND</li>
	<li>10 &longrightarrow; OFFENSIVEDAMAGE</li>
	<li>11 &longrightarrow; DISABLING</li>
	<li>12 &longrightarrow; COMBINATION</li>
	<li>13 &longrightarrow; NON-COMBAT</li>
</ul>

<p>
	On EE games, <code>resource</code> field &longrightarrow; Spell cast when this effect self-terminates, <code>default = Parent + "B"</code>.
</p>



<div class="note important">
  <div>
    <strong>Important:</strong> 
As of EE v2.6, spells can no longer be "chained" back and forth by reflection.<br><br>

If Caster and Target are both affected by this opcode, the spell from Caster will reflect off Target, but not reflect back off Caster. Previously, whoever had more reflection charges would end up victorious, now the initial target always ends up victorious.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT reflect effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
	</li>

	<li>
		CAN reflect EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode can reflect effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT reflect effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#67">Spell Deflection</a></code> on the target (this is likely a bug).</li>
	<li>Maintains animation <code>SPTURNI2</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Reflection separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is reflected, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op229" class="opcode">
		<span class="opnumberdata">#229 (0xE5)</span>

		<span class="opnamedata">Removal: Remove One School</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op229">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op229">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op229">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Max Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">School</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes all effects with a matching <code>School</code>, with a <code>Power Level</code> up to <code>Max Level</code>, of the first two valid <code>Parent Resource</code>s from the targeted creature(s).

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Primary Type (School)</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x25">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x17">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x4C">V2 effects</a> specify it manually.
</p>

Known values for <code>School</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; ABJURATION</li>
	<li>2 &longrightarrow; CONJURATION</li>
	<li>3 &longrightarrow; DIVINATION</li>
	<li>4 &longrightarrow; ENCHANTMENT</li>
	<li>5 &longrightarrow; ILLUSION</li>
	<li>6 &longrightarrow; EVOCATION</li>
	<li>7 &longrightarrow; NECROMANCY</li>
	<li>8 &longrightarrow; ALTERATION</li>
	<li>9 &longrightarrow; GENERALIST</li>
	<li>10 &longrightarrow; WILDMAGE</li>
</ul>

<p>
	The first valid <code>Parent Resource</code> has a matching effect with a non-zero <code>Power Level</code> and a <code>Timing Mode</code> other than <code>2/5/8</code>, all such matching effects of this <code>Parent Resource</code> will be removed.
</p>

<p>
	The second valid <code>Parent Resource</code> has a matching effect with a non-zero <code>Power Level</code> and a <code>Timing Mode</code> of <code>2/5/8</code>, all such matching effects of this <code>Parent Resource</code> will be removed.
</p>

<p>
	If any effects are removed, the String Reference corresponding to the <code>School</code> from <code><a href="../files/2da/2da_bgee/mschool.htm">MSCHOOL.2DA</a></code> is returned to the combat log.
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
Basically it removes one equipped resource effect list and one non-equipped resource effect list, except that equipped effects aren’t removable while its item is equipped, so this behavior is not common.<br />
The only way to really see this behavior (removing two separate resources) is to have a spell or item ability that only applies equipped effects.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Effects with a <code>Power Level</code> of <code>0</code> are ignored when this opcode checks for effects, but will still be removed if another effect from its <code>Parent Resource</code> triggers removal.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op230" class="opcode">
		<span class="opnumberdata">#230 (0xE6)</span>

		<span class="opnamedata">Removal: Remove One Secondary Type</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op230">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op230">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op230">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Max Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Secondary Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes all effects with a matching <code>Secondary Type</code>, with a <code>Power Level</code> up to <code>Max Level</code>, of the first two valid <code>Parent Resource</code>s from the targeted creature(s).

<p>
	<a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their <code>Secondary Type</code> from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.
</p>

Known values for <code>Secondary Type</code> are:
<ul>
	<li>0 &longrightarrow; NONE</li>
	<li>1 &longrightarrow; SPELLPROTECTIONS</li>
	<li>2 &longrightarrow; SPECIFICPROTECTIONS</li>
	<li>3 &longrightarrow; ILLUSIONARYPROTECTIONS</li>
	<li>4 &longrightarrow; MAGICATTACK</li>
	<li>5 &longrightarrow; DIVINATIONATTACK</li>
	<li>6 &longrightarrow; CONJURATION</li>
	<li>7 &longrightarrow; COMBATPROTECTIONS</li>
	<li>8 &longrightarrow; CONTINGENCY</li>
	<li>9 &longrightarrow; BATTLEGROUND</li>
	<li>10 &longrightarrow; OFFENSIVEDAMAGE</li>
	<li>11 &longrightarrow; DISABLING</li>
	<li>12 &longrightarrow; COMBINATION</li>
	<li>13 &longrightarrow; NON-COMBAT</li>
</ul>

<p>
	The first valid <code>Parent Resource</code> has a matching effect with a non-zero <code>Power Level</code> and a <code>Timing Mode</code> other than <code>2/5/8</code>, all such matching effects of this <code>Parent Resource</code> will be removed.
</p>

<p>
	The second valid <code>Parent Resource</code> has a matching effect with a non-zero <code>Power Level</code> and a <code>Timing Mode</code> of <code>2/5/8</code>, all such matching effects of this <code>Parent Resource</code> will be removed.
</p>

<p>
	If any effects are removed, the String Reference corresponding to the <code>Secondary Type Type</code> from <code><a href="../files/2da/2da_bgee/msectype.htm">MSECTYPE.2DA</a></code> is returned to the combat log.
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
Basically it removes one equipped resource effect list and one non-equipped resource effect list, except that equipped effects aren’t removable while its item is equipped, so this behavior is not common.<br />
The only way to really see this behavior (removing two separate resources) is to have a spell or item ability that only applies equipped effects.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Effects with a <code>Power Level</code> of <code>0</code> are ignored when this opcode checks for effects, but will still be removed if another effect from its <code>Parent Resource</code> triggers removal.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op231" class="opcode">
		<span class="opnumberdata">#231 (0xE7)</span>

		<span class="opnamedata">Spell Effect: Time Stop</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op231">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the time stop effect. 
<br/>The timestop effect lasts half as long as the <code>Duration</code> specified for the effect.
<br/><br/>

In particular:
<ul>
	<li>All creatures not immune to Time Stop will be rendered uncontrollable, can be hit automatically by attacks as if they were HELPLESS (but do not actually have <code><a href="../files/ids/bgee/state.htm#BIT5">STATE_HELPLESS</a></code> set), and their frequency-based effects will not trigger (<a href="#op25">poison</a>/<a href="#op98">regeneration</a>), but their <code>duration</code> will run.</li>
	<li><a href="../file_formats/ie_formats/pro_v1.htm">Projectiles</a> are suspended mid-flight until the Time Stop ends, at which point they will resume normal function.</li>
	<li><code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area Effect</a></code> projectiles are suppressed until the Time Stop ends, at which point they will resume normal function, though their duration will run during the Time Stop.</li>
	<li>Projectiles that hit "instantly" (<code>#0</code> and <code>#1</code> for spells/items) are unaffected by Time Stop, which includes all melee weapons.</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
Both parameters should be <code>0</code> (zero).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Only one creature may have a Time Stop effect running at a time, applying a Time Stop effect during another will override the previous. The caster is always immune to their own Time Stop effect, they do not require <a href="#op310">opcode #310</a>, unless their own Time Stop is at risk of being overridden.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op232" class="opcode">
		<span class="opnumberdata">#232 (0xE8)</span>

		<span class="opnamedata">Spell Effect: Cast Spell on Condition</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op232">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op232">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op232">IWD2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Target</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Condition</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Extra</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Casts the spell specified by the <code>resource</code> field on the target specified by the <code>Target</code> field, when the condition from the <code>Condition</code> field is true. The conditions are akin to various triggers.
<br/><br/>

Known values for <code>Target</code> are:
<ul>
	<li>0 &longrightarrow; <code><a href="../files/ids/bgee/object.htm#1">Myself</a></code></li>
	<li>1 &longrightarrow; <code><a href="../files/ids/bgee/object.htm#LastHitter">LastHitter</a></code></li>
	<li>
		2 &longrightarrow; <code><a href="../files/ids/bgee/object.htm#12">NearestEnemyOf<a></code> (effectively <code><a href="../files/ids/bgee/ea.htm#200">[EVILCUTOFF]</a>)</code>
		<ul>
			<li>Since object specifiers are not relative to the creature, this works as expected only from the Player's perspective.</li>
		</ul>
	</li>
	<li>3+ &longrightarrow; <code><a href="../files/ids/bgee/object.htm#14">Nearest</a></code> (effectively <code>[ANYONE]</code>)</li>
</ul>

Known values for <code>Condition</code> are:
<ul>
	<li>0 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x0020">HitBy([ANYONE])</a></code> &mdash; Checked every time</li>
	<li>
		1 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x401C">See([EVILCUTOFF])</a></code> &mdash; Checked once per round
		<ul>
			<li>Since object specifiers are not relative to the creature, this works as expected only from the Player's perspective.</li>
		</ul>
	</li>
	<li>2 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x402D">HPPercentLT(Myself,50)</a></code> &mdash; Checked once per round</li>
	<li>3 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x402D">HPPercentLT(Myself,25)</a></code> &mdash; Checked once per round</li>
	<li>4 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x402D">HPPercentLT(Myself,10)</a></code> &mdash; Checked once per round</li>
	<li>5 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x4037">StateCheck(Myself,STATE_HELPLESS)</a></code> f.i. unconscious &mdash; Checked once per round</li>
	<li>6 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x4037">StateCheck(Myself,STATE_POISONED)</a></code> &mdash; Checked once per round</li>
	<li>7 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x0002">AttackedBy([ANYONE])</a></code> &mdash; Checked every time</li>
	<li>8 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x40B3">PersonalSpaceDistance([ANYONE],4)</a></code> &mdash; Checked once per round</li>
	<li>9 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x40B3">PersonalSpaceDistance([ANYONE],10)</a></code> &mdash; Checked once per round</li>
	<li>
		10 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x4027">Delay(<code>Extra</code>)</a></code> &mdash; Checked once per round
		<ul>
			<li>This condition is pretty unreliable because two events need to line up for it to fire: the <code><a href="../scripting/triggers/bgeetriggers.htm#0x4027">Delay()</a></code> trigger needs to return true at the same time the contingency is checked.</li>
		</ul>
	</li>
	<li>11 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x00CC">TookDamage()</a></code> &mdash; Checked every time</li>
	<li>12 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x004B">Killed([ANYONE])</a></code> &mdash; Checked every time</li>
	<li>
		13 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x401F">TimeOfDay(<code>Extra</code>)</a></code> &mdash; Checked once per round
		<ul>
			<li>For this particular <code>Condition</code>, the <code>Target</code> parameter must be <code>0</code>.</li>
		</ul>
	</li>
	<li>14 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x40B3">PersonalSpaceDistance([ANYONE],<code>Extra</code>)</a></code> &mdash; Checked once per round</li>
	<li>15 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x4037">StateCheck([ANYONE],<code>Extra</code>)</a></code> &mdash; Checked once per round</li>
	<li>16 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x0025">Die()</a></code></li>
	<li>17 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x004A">Died([ANYONE])</a></code> &mdash; Checked every time</li>
	<li>18 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x0008">TurnedBy([ANYONE])</a></code> &mdash; Checked every time</li>
	<li>19 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x4012">HPLT(Myself,<code>Extra</code>)</a></code> &mdash; Checked once per round</li>
	<li>20 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x402D">HPPercentLT(Myself,<code>Extra</code>)</a></code> &mdash; Checked once per round</li>
	<li>21 &longrightarrow; <code><a href="../scripting/triggers/bgeetriggers.htm#0x40E2">CheckSpellState(Myself,<code>Extra</code>)</a></code> &mdash; Checked once per round</li>
</ul>

Known values for <code>Extra</code> are:
<ul>
	<li>
		BIT0 &longrightarrow; When triggered, will display <code><a href="../files/2da/2da_bgee/enginest.htm#246">STRREF_GUI_FEEDBACK_CONTINGENCY_TRIGGER</a></code> as effect host and remove effect
		<ul>
			<li>If <code>Condition=0</code> and <code>(Extra BAND BIT0) == BIT0</code> (i.e., <code>BIT0</code> is set) &longrightarrow; Trigger even if the effect host was the source of the hit</li>
		</ul>
	</li>
	<li>
		BIT1 &longrightarrow; Fire subspell as effect source (the creature that casts the spell) instead of effect host (the creature the effect is attached to)
		<ul>
			<li>
				This is not relevant for vanilla spells. However, just for the sake of providing an example...
				<details>
					If you change Globe of Blades, (<code>"sppr725.spl"</code>) like so:
					<ol>
						<li><code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header">SPL Ability</a></code> &Rightarrow; <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0xC">Target</a> &equals; <a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0xC_1">Living actor</a></code></li>
						<li>And change all of the ability's <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Feature_Block">effects</a></code> to <code><a href="../file_formats/ie_formats/spl_v1.htm#V1_Feature_Block_0x2">Target</a> &equals; <a href="../file_formats/ie_formats/spl_v1.htm#V1_Feature_Block_0x2_2">Projectile target</a></code></li>
						<li>And change <code>"sppr725d.eff"</code> to <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_Resource">Resource</a> &equals; "spwi112"</code>, <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_Special">Special</a> &equals; 2</code></li>
					</ol>
					If you cast the spell on another creature, when the contingency is triggered the caster fires Magic Missile (<code>"spwi112.spl"</code>) at the contingency host. Basically it lets you check the conditions on another creature yet take an action from the caster.
				</details>
			</li>
		</ul>
	</li>
	<li>BIT2 &longrightarrow; Suppress subspell <code><a href="../file_formats/ie_formats/spl_v1.htm#Header_Casting_Graphics">casting glow</a></code> and <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x8">string</a></code></li>
	<li>BIT3 &longrightarrow; Suppress subspell <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Extended_Header_0xE">range</a></code> check</li>
</ul>

The <code>Extra</code> field is also used for the following <code>Condition</code> values:
<ul>
	<li>13 &longrightarrow; Use value from <code><a href="../files/ids/bgee/timeoday.htm">TIMEODAY.IDS</a></code></li>
	<li>14 &longrightarrow; Range in feet</li>
	<li>15 &longrightarrow; Use value from <code><a href="../files/ids/bgee/state.htm">STATE.IDS</a></code></li>
	<li>19 &longrightarrow; Any numeric value</li>
	<li>20 &longrightarrow; Any numeric value</li>
	<li>21 &longrightarrow; Use value from <code><a href="../files/ids/bgee/splstate.htm">SPLSTATE.IDS</a></code></li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
<ul>
	<li>As you may have noticed, <code>Extra</code> acting as both flags and parameters for some <code>Condition</code> values is annoying.</li>
	<li>
		As a matter of fact, conditions such as <code><a href="../scripting/triggers/bgeetriggers.htm#0x401F">TimeOfDay(DUSK)</a></code> (i.e., <code>Condition=13</code> and <code>Extra=1</code>) may not work as expected &mdash; In this particular case, since <code>BIT0</code> is set to <code>1</code>, the effect will terminate after first trigger and <code><a href="../files/2da/2da_bgee/enginest.htm#246">STRREF_GUI_FEEDBACK_CONTINGENCY_TRIGGER</a></code> will be displayed in the combat log.
		<ul>
			<li>Hopefully, this is not an issue since you can set up the <a href="#op232">opcode #232</a> effect to always fire (see below) and then add <a href="#op318">opcode #318</a>/<a href="#op324">opcode #324</a> effects to the subspell filtering for the desired condition(s).</li>
		</ul>
	</li>
</ul>

  </div>
</div>


<p>
	When used in an external <code><a href="../file_formats/ie_formats/eff_v2.htm">EFF</a></code> file, <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70">resource2</a></code> and <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x78">resource3</a></code> can also be specified &mdash; all spells will be cast when triggered.
</p>

<p>
	When used in an external <code><a href="../file_formats/ie_formats/eff_v2.htm">EFF</a></code> file, known values for <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x60">Parameter3</a></code> are:
	<ul>
		<li>0 &longrightarrow; Not a "real" contingency (Fire Shields, Globe of Blades, etc...)</li>
		<li>
			1 &longrightarrow; Real contingency
			<ul>
				<li>Maintains <code><a href="../files/2da/2da_bgee/statdesc.htm#75">Contingency</a></code> portrait icon, displays feedback message <code><a href="../files/2da/2da_bgee/enginest.htm#246">STRREF_GUI_FEEDBACK_CONTINGENCY_TRIGGER</a></code> when triggered, and terminates this effect after first trigger. This value is always set when created by <a href="#op234">opcode #234</a>.</li>
			</ul>
		</li>
	</ul>
</p>

<p>
	When used in an external <code><a href="../file_formats/ie_formats/eff_v2.htm">EFF</a></code> file, <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90">Parent Type (Source Type)</a></code> may be manually set to influence its behavior. Known values for <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90">Parent Type</a></code> are:
	<ul>
		<li>
			0 &longrightarrow; None
			<ul>
				<li>Allows further effects with a matching <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x94">Parent Resource</a></code> to affect the target.</li>
			</ul>
		</li>
		<li>
			1 &longrightarrow; Spell
			<ul>
				<li>Any further effects with a matching <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x94">Parent Resource</a></code> will be blocked by the engine and string <code><a href="../files/2da/2da_bgee/enginest.htm#42">STRREF_ERROR_CAN_NOT_CAST_TWO_CONT</a></code> is returned to the combat log. Spells must therefore either have this as the last effect, or use it in an <code><a href="../file_formats/ie_formats/eff_v2.htm">EFF</a></code> through <a href="#op177">opcode #177</a>, specifying a <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90">Parent Type</a></code> of <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_0">0</a></code> or <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_2">2</a></code>.</li>
			</ul>
		</li>
		<li>
			2 &longrightarrow; Item
			<ul>
				<li>Allows further effects with a matching <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x94">Parent Resource</a></code> to affect the target.</li>
			</ul>
		</li>
	</ul>
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		If you need a condition which is always true, you could set <code>Condition</code> to <code>20</code> and <code>Extra</code> to <code>102</code> &mdash; <code>hp &lt; 102&percnt;</code> will always be true. <code>102</code> is used because its binary representation does not have <code>BIT0</code> set to <code>1</code>. In so doing:
		<ul>
			<li><code><a href="../files/2da/2da_bgee/enginest.htm#246">STRREF_GUI_FEEDBACK_CONTINGENCY_TRIGGER</a></code> won't be displayed in the combat log</li>
			<li>the effect won't terminate after first trigger</li>
		</ul>
	</li>
	<li>These triggers and objects are limited to their normal detection range: e.g., <code><a href="../scripting/triggers/bgeetriggers.htm#0x004A">Died([ANYONE])</a></code> won't see someone dying on the other side of the map.</li>
	<li>Excluding the <code><a href="../scripting/triggers/bgeetriggers.htm#0x40B3">PersonalSpaceDistance()</a></code> checks, <code><a href="../files/ids/bgee/ea.htm#0">[ANYONE]</a></code> includes <code><a href="../files/ids/bgee/object.htm#1">Myself</a></code>.</li>
	<li>The presence of this effect in any of a spell's ability headers will force any Wild Surge of that spell to use the <code>Cast Normal</code> result.</li>
	<li>
		As of v2.6, the vanilla Contingency spells will now remove a previous instance of themselves if recast before they have triggered.
		<ul>
			<li>Probably was a cleaner solution than working with subspells to do the same with <a href="#op321">opcode #321</a>.</li>
		</ul>
	</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op233" class="opcode">
		<span class="opnumberdata">#233 (0xE9)</span>

		<span class="opnamedata">Stat: Proficiency Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op233">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets the weapon proficiency points for the weapon type specified in the <code>Type</code> field, to the value specified by the <code>Amount</code> field, for the targeted creature(s).
<br/><br/>

<table border="1" width="98%">
	<colgroup>
		<col width="10%" />
		<col width="10%" />
		<col width="*" />
	</colgroup>
	<thead>
		<tr>
			<th><code>Type</code> value</th>
			<th>BG2</th>
			<th>BG:EE / IWD:EE</th>
			<th>BG2:EE</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>89</td>
			<td>PROFICIENCYBASTARDSWORD</td>
			<td>PROFICIENCYBASTARDSWORD</td>
			<td>PROFICIENCYBASTARDSWORD</td>
		</tr>
		<tr>
			<td>90</td>
			<td>PROFICIENCYLONGSWORD</td>
			<td>PROFICIENCYLONGSWORD</td>
			<td>PROFICIENCYLONGSWORD</td>
		</tr>
		<tr>
			<td>91</td>
			<td>PROFICIENCYSHORTSWORD</td>
			<td>PROFICIENCYSHORTSWORD</td>
			<td>PROFICIENCYSHORTSWORD</td>
		</tr>
		<tr>
			<td>92</td>
			<td>PROFICIENCYAXE</td>
			<td>PROFICIENCYAXE</td>
			<td>PROFICIENCYAXE</td>
		</tr>
		<tr>
			<td>93</td>
			<td>PROFICIENCYTWOHANDEDSWORD</td>
			<td>PROFICIENCYTWOHANDEDSWORD</td>
			<td>PROFICIENCYTWOHANDEDSWORD</td>
		</tr>
		<tr>
			<td>94</td>
			<td>PROFICIENCYKATANA</td>
			<td>PROFICIENCYKATANA</td>
			<td>PROFICIENCYKATANA</td>
		</tr>
		<tr>
			<td>95</td>
			<td>PROFICIENCYSCIMITARWAKISASHININJATO</td>
			<td>PROFICIENCYSCIMITARWAKISASHININJATO</td>
			<td>PROFICIENCYSCIMITARWAKISASHININJATO</td>
		</tr>
		<tr>
			<td>96</td>
			<td>PROFICIENCYDAGGER</td>
			<td>PROFICIENCYDAGGER</td>
			<td>PROFICIENCYDAGGER</td>
		</tr>
		<tr>
			<td>97</td>
			<td>PROFICIENCYWARHAMMER</td>
			<td>PROFICIENCYWARHAMMER</td>
			<td>PROFICIENCYWARHAMMER</td>
		</tr>
		<tr>
			<td>98</td>
			<td>PROFICIENCYSPEAR</td>
			<td>PROFICIENCYSPEAR</td>
			<td>PROFICIENCYSPEAR</td>
		</tr>
		<tr>
			<td>99</td>
			<td>PROFICIENCYHALBERD</td>
			<td>PROFICIENCYHALBERD</td>
			<td>PROFICIENCYHALBERD</td>
		</tr>
		<tr>
			<td>100</td>
			<td>PROFICIENCYFLAILMORNINGSTAR</td>
			<td>PROFICIENCYFLAILMORNINGSTAR</td>
			<td>PROFICIENCYFLAILMORNINGSTAR</td>
		</tr>
		<tr>
			<td>101</td>
			<td>PROFICIENCYMACE</td>
			<td>PROFICIENCYMACE</td>
			<td>PROFICIENCYMACE</td>
		</tr>
		<tr>
			<td>102</td>
			<td>PROFICIENCYQUARTERSTAFF</td>
			<td>PROFICIENCYQUARTERSTAFF</td>
			<td>PROFICIENCYQUARTERSTAFF</td>
		</tr>
		<tr>
			<td>103</td>
			<td>PROFICIENCYCROSSBOW</td>
			<td>PROFICIENCYCROSSBOW</td>
			<td>PROFICIENCYCROSSBOW</td>
		</tr>
		<tr>
			<td>104</td>
			<td>PROFICIENCYLONGBOW</td>
			<td>PROFICIENCYLONGBOW</td>
			<td>PROFICIENCYLONGBOW</td>
		</tr>
		<tr>
			<td>105</td>
			<td>PROFICIENCYSHORTBOW</td>
			<td>PROFICIENCYSHORTBOW</td>
			<td>PROFICIENCYSHORTBOW</td>
		</tr>
		<tr>
			<td>106</td>
			<td>PROFICIENCYDART</td>
			<td>PROFICIENCYDART</td>
			<td>PROFICIENCYDART</td>
		</tr>
		<tr>
			<td>107</td>
			<td>PROFICIENCYSLING</td>
			<td>PROFICIENCYSLING</td>
			<td>PROFICIENCYSLING</td>
		</tr>
		<tr>
			<td>108</td>
			<td>PROFICIENCYBLACKJACK</td>
			<td>PROFICIENCYBLACKJACK</td>
			<td>PROFICIENCYBLACKJACK</td>
		</tr>
		<tr>
			<td>109</td>
			<td>PROFICIENCYGUN</td>
			<td>WEAPON_ENCHANTMENT<small><sup>*</sup></small></td>
			<td>CLERIC_HALLOW<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>110</td>
			<td>PROFICIENCYMARTIALARTS</td>
			<td>CLERIC_ARMOR_OF_FAITH<small><sup>*</sup></small></td>
			<td>CLERIC_ARMOR_OF_FAITH<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>111</td>
			<td>PROFICIENCY2HANDED</td>
			<td>PROFICIENCY2HANDED</td>
			<td>PROFICIENCY2HANDED</td>
		</tr>
		<tr>
			<td>112</td>
			<td>PROFICIENCYSWORDANDSHIELD</td>
			<td>PROFICIENCYSWORDANDSHIELD</td>
			<td>PROFICIENCYSWORDANDSHIELD</td>
		</tr>
		<tr>
			<td>113</td>
			<td>PROFICIENCYSINGLEWEAPON</td>
			<td>PROFICIENCYSINGLEWEAPON</td>
			<td>PROFICIENCYSINGLEWEAPON</td>
		</tr>
		<tr>
			<td>114</td>
			<td>PROFICIENCY2WEAPON</td>
			<td>PROFICIENCY2WEAPON</td>
			<td>PROFICIENCY2WEAPON</td>
		</tr>
		<tr>
			<td>115</td>
			<td>EXTRAPROFICIENCY1</td>
			<td>PROFICIENCYCLUB</td>
			<td>PROFICIENCYCLUB</td>
		</tr>
		<tr>
			<td>116</td>
			<td>EXTRAPROFICIENCY2</td>
			<td>WIZARD_SPELL_DEFLECTION<small><sup>*</sup></small></td>
			<td>WIZARD_SPELL_DEFLECTION<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>117</td>
			<td>EXTRAPROFICIENCY3</td>
			<td>PROTECTION_FROM_EVIL<small><sup>*</sup></small></td>
			<td>PROTECTION_FROM_EVIL<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>118</td>
			<td>EXTRAPROFICIENCY4</td>
			<td>TRUE_SIGHT<small><sup>*</sup></small></td>
			<td>TRUE_SIGHT<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>119</td>
			<td>EXTRAPROFICIENCY5</td>
			<td>CLERIC_CHAOTIC_COMMANDS<small><sup>*</sup></small></td>
			<td>CLERIC_CHAOTIC_COMMANDS<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>120</td>
			<td>EXTRAPROFICIENCY6</td>
			<td>CLERIC_INSECT_PLAGUE<small><sup>*</sup></small></td>
			<td>CLERIC_INSECT_PLAGUE<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>121</td>
			<td>EXTRAPROFICIENCY7</td>
			<td>CLERIC_BLADE_BARRIER<small><sup>*</sup></small></td>
			<td>CLERIC_BLADE_BARRIER<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>122</td>
			<td>EXTRAPROFICIENCY8</td>
			<td>CLERIC_PHYSICAL_MIRROR<small><sup>*</sup></small></td>
			<td>CLERIC_PHYSICAL_MIRROR<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>123</td>
			<td>EXTRAPROFICIENCY9</td>
			<td>CLERIC_SHIELD_OF_THE_ARCHONS<small><sup>*</sup></small></td>
			<td>CLERIC_SHIELD_OF_THE_ARCHONS<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>124</td>
			<td>EXTRAPROFICIENCY10</td>
			<td>CLERIC_REGENERATION<small><sup>*</sup></small></td>
			<td>CLERIC_REGENERATION<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>125</td>
			<td>EXTRAPROFICIENCY11</td>
			<td>WIZARD_FIRE_SHIELD<small><sup>*</sup></small></td>
			<td>WIZARD_FIRE_SHIELD<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>126</td>
			<td>EXTRAPROFICIENCY12</td>
			<td>WIZARD_PROTECTION_FROM_MAGIC_ENERGY<small><sup>*</sup></small></td>
			<td>WIZARD_PROTECTION_FROM_MAGIC_ENERGY<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>127</td>
			<td>EXTRAPROFICIENCY13</td>
			<td>WIZARD_MISLEAD<small><sup>*</sup></small></td>
			<td>WIZARD_MISLEAD<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>128</td>
			<td>EXTRAPROFICIENCY14</td>
			<td>WIZARD_PROTECTION_FROM_MAGIC_WEAPONS<small><sup>*</sup></small></td>
			<td>WIZARD_PROTECTION_FROM_MAGIC_WEAPONS<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>129</td>
			<td>EXTRAPROFICIENCY15</td>
			<td>WIZARD_SPELL_TURNING<small><sup>*</sup></small></td>
			<td>WIZARD_SPELL_TURNING<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>130</td>
			<td>EXTRAPROFICIENCY16</td>
			<td>WIZARD_PROTECTION_FROM_THE_ELEMENTS<small><sup>*</sup></small></td>
			<td>WIZARD_PROTECTION_FROM_THE_ELEMENTS<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>131</td>
			<td>EXTRAPROFICIENCY17</td>
			<td>CLERIC_FREE_ACTION<small><sup>*</sup></small></td>
			<td>CLERIC_FREE_ACTION<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>132</td>
			<td>EXTRAPROFICIENCY18</td>
			<td>WIZARD_KHELBENS_WARDING_WHIP<small><sup>*</sup></small></td>
			<td>WIZARD_KHELBENS_WARDING_WHIP<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>133</td>
			<td>EXTRAPROFICIENCY19</td>
			<td>CLERIC_DEFENSIVE_HARMONY<small><sup>*</sup></small></td>
			<td>CLERIC_DEFENSIVE_HARMONY<small><sup>*</sup></small></td>
		</tr>
		<tr>
			<td>134</td>
			<td>EXTRAPROFICIENCY20</td>
			<td>EXTRAPROFICIENCY20</td>
			<td>EXTRAPROFICIENCY20</td>
		</tr>
	</tbody>
</table>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>Every <code>STAT</code> from <code>89</code> to <code>134</code> is a weapon proficiency, even the weapon styles.</li>
	<li>
		Every one of those <code>STAT</code>s can be set as a weapon's proficiency and it will use that stat's value for proficiency bonuses.
		<ul>
			<li>
				This includes <code>STAT</code>s like <code>CLERIC_ARMOR_OF_FAITH<small><sup>*</sup></small></code>, even though they're used for an alternative purpose.
				<ul>
					<li>The only thing stopping them from showing up during chargen/level-up proficiency selection is their entries (or lack there of) in <a href="../files/2da/2da_bgee/weapprof.htm">WEAPPROF.2DA</a>. A <code>NAME_REF</code> column of <code>4294967296 (-1)</code> is hardcoded to hide the proficiency during chargen/level-up. Aside from that it just needs a non-zero maximum for the current class/kit.</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note bug">
	<div>
		<strong>Bug:</strong> 
In EE games, <code>Type 99 – PROFICIENCYHALBERD</code> currently cannot use the <code>Increment</code> option without crashing.

	</div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
In EE games, the <code>Special</code> field must currently be <code>0</code>, due to an incomplete (bugged) feature added by Beamdog (it wasn't used before anyway, so there was no point in it not being <code>0</code>).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The Proficiency Modifier effect cannot increment or decrement proficiency points, it can only SET them.
<br /><br />
This is however not true for EEs, where <code>param#2 ('Type')</code> is split into two word subfields. By setting the second (high) one to <code>1 (Increment)</code>, it’s possible to increment/decrement the proficiency points of the targeted creature(s) by the value specified by the <code>Amount</code> parameter.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op234" class="opcode">
		<span class="opnumberdata">#234 (0xEA)</span>

		<span class="opnamedata">Spell Effect: Contingency Creation</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op234">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op234">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op234">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Maximum Level Usable</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Amount/Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Creates a custom spell contingency, storing a certain number of spells to be cast upon a specified condition.
<br/>The spells are stored using <a href="#op232">opcode #232</a>, using <code>Timing Mode 1</code> and <code>Parameter3</code> set to <code>1</code>.
<br/>The <code>Maximum Level</code> field indicates the maximum spell level that can be used in the contingency. The <code>Amount/Type</code> field indicates the number of spells that can be used in the contingency, and the type of the contingency.
<br/>Known values for the <code>Amount/Type</code> field are:
<ul>
	<li>First word: Amount (<code>1–3</code>)</li>
	<li>Second word:
		<ul>
			<li>0 &longrightarrow; Chain Contingency (See <a href="#op232">opcode #232</a> for target and condition descriptions)
				<ul>
					<li>Target choices are limited to those listed in <a href="../files/2da/2da_bgee/conttarg.htm">CONTTARG.2DA</a></li>
					<li>Condition choices limited to those listed in <a href="../files/2da/2da_bgee/contcond.htm">CONTCOND.2DA</a>.</li>
				</ul>
			</li>
			<li>1 &longrightarrow; Normal Contingency
				<ul>
					<li>Target choice is limited to <code>0|Myself</code>, and only if it's listed in <a href="../files/2da/2da_bgee/conttarg.htm">CONTTARG.2DA</a>.</li>
					<li>Condition choices limited to those listed in <a href="../files/2da/2da_bgee/contcond.htm">CONTCOND.2DA</a>.</li>
				</ul>
			</li>
			<li>2 &longrightarrow; Sequencer
				<ul>
					<li>Functions as per <a href="#op257">opcode #257</a>.</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
As of v2.3, an entry for the <code>Parent Resource</code> or <code>Activation Key</code> must be added to the <code>mageBookStrings{}</code> lua table for the UI, or the game will crash upon use.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The presence of this effect in any of a spell’s ability headers will force any Wild Surge of that spell to use the ‘Cast Normal’ result.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode only works from party-members.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op235" class="opcode">
		<span class="opnumberdata">#235 (0xEB)</span>

		<span class="opnamedata">Spell Effect: Wing Buffet</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op235">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Speed</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Direction</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Applies the wing buffet effect centred on the casting creature(s), buffeting the targeted creature(s) at the speed specified by the <code>Speed</code> field, in the direction specified by the <code>Direction</code> field. <code>Speed</code> ranges from <code>0</code> to <code>255</code>.
<br/>Known values for <code>Direction</code> are:
<ul>
	<li>0/1 &longrightarrow; Away from the destination point (specified in EFF file)</li>
	<li>2 &longrightarrow; Away from the source</li>
	<li>3 &longrightarrow; Towards the destination point (specified in EFF file)</li>
	<li>4 &longrightarrow; Towards source</li>
</ul>


<div class="note important">
  <div>
    <strong>Important:</strong> 
The following animations are hardcoded to be immune to this effect:
<details>
	<ul>
		<li><a href="../files/ids/bgee/animate.htm#TANARRI"><code>TANARRI</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DRAGON_RED"><code>DRAGON_RED</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DRAGON_BLACK"><code>DRAGON_BLACK</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DRAGON_SILVER"><code>DRAGON_SILVER</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DRAGON_GREEN"><code>DRAGON_GREEN</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DRAGON_AQUA"><code>DRAGON_AQUA</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DRAGON_BLUE"><code>DRAGON_BLUE</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DRAGON_BROWN"><code>DRAGON_BROWN</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DRAGON_MULTICOLOR"><code>DRAGON_MULTICOLOR</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DRAGON_PURPLE"><code>DRAGON_PURPLE</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DEMOGORGON"><code>DEMOGORGON</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#ELEMENTAL_EARTH"><code>ELEMENTAL_EARTH</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#SHAMBLING_MOUND"><code>SHAMBLING_MOUND</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#ELEMENTAL_FIRE"><code>ELEMENTAL_FIRE</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#ELEMENTAL_FIRE_PURPLE"><code>ELEMENTAL_FIRE_PURPLE</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#BURNING_MAN"><code>BURNING_MAN</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#ELEMENTAL_AIR"><code>ELEMENTAL_AIR</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#RAVER"><code>RAVER</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#SLAYER"><code>SLAYER</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#SOLAR"><code>SOLAR</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#DEVA_MONADIC"><code>DEVA_MONADIC</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#MELISSAN"><code>MELISSAN</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#GIANT_FIRE"><code>GIANT_FIRE</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#GIANT_YAGA-SHURA"><code>GIANT_YAGA-SHURA</code></a></li>
		<li><a href="../files/ids/bgee/animate.htm#GOLEM_ICE"><code>GOLEM_ICE</code></a></li>
	</ul>
</details>

  </div>
</div>



<div class="note bug">
	<div>
		<strong>Bug:</strong> 
The opcode also has this weird block:
<details>
	<pre>
	if (this-&gt;m_sourceRes.startsWith("SP")) {
		this-&gt;m_effectAmount = (100 - pSprite-&gt;m_derivedStats.m_nResistMagic) / 100 * (float)this-&gt;m_effectAmount;
		if (this-&gt;m_effectAmount == 0) {
			return 0; // Terminate
		}
	}
	</pre>
</details>

	It's attempting to dampen the knockback speed with the target's <a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_MagicResistance"><code>magic resistance</code></a>, but it fails at casting the first division to a float.<br />
	If the <a href="../file_formats/ie_formats/spl_v1.htm"><code>SPL</code></a> resref starts with <code>SP</code> (see for instance <code>"spin695.spl"</code> &mdash; Wing Buffet) any positive <a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_MagicResistance"><code>magic resistance</code></a> will make the <code>Speed</code> parameter <code>0</code>, causing the opcode to immediately terminate.<br />
	Having said that, you can bypass this issue by having the <a href="../file_formats/ie_formats/spl_v1.htm"><code>SPL</code></a> file starting with <code>SP</code> apply a secondary <a href="../file_formats/ie_formats/spl_v1.htm"><code>SPL</code></a> file (for instance via <a href="#op146">opcode #146</a>), and then by having the secondary <a href="../file_formats/ie_formats/spl_v1.htm"><code>SPL</code></a> file apply <a href="#op235">opcode #235</a>. Just make sure the secondary <a href="../file_formats/ie_formats/spl_v1.htm"><code>SPL</code></a> resref does not start with <code>SP</code>.


	</div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
If used on creatures with the “pass-wall” effect applied, creatures can cross points marked as light obstacles on the search map.<br />
In EEs, this effect can push creatures through closed (and locked) doors (this does not require the “pass-wall” effect).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Direction</code> options <code>1</code> and <code>3</code> “can” be overriden in external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files, but default to the ability target/location.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op236" class="opcode">
		<span class="opnumberdata">#236 (0xEC)</span>

		<span class="opnamedata">Spell Effect: Image Projection</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op236">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op236">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undetermined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Creates an image (duplicate) of the caster, in the style specified by the <code>Type</code> field.
<br/>In particular:
<ul>
	<li>The Image inherits any/only effects attached to the creature using <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC_9"><code>Timing Mode 9</code></a></li>
	<li>The Image has duplicates of all of the targeted creature(s) items that are flagged with <a href="../files/ids/bgee/itemflag.htm#BIT2"><code>DROPPABLE</code></a> and not flagged with <a href="../files/ids/bgee/invitem.htm#BIT3"><code>NONDROPABLE</code></a></li>
	<li>All items on the Image are flagged with <a href="../files/ids/bgee/invitem.htm#BIT3"><code>NONDROPABLE</code></a>, so an image created by another image will have no items</li>
	<li>If the targeted creature(s) is not a party memeber, saving is disabled so long as the image exists</li>
</ul>

<br/>Known values for <code>Type</code> are:
<ul>
	<li>
		0 &longrightarrow; Clone &mdash; Image created with the targeted creature(s) Current Hit Points and the following (in order)
		<ul>
			<li>All AI scripts and Dialogues are set to <code>""</code> (empty string, i.e. they will be cleared)</li>
			<li><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x280"><code>Script Name</code></a> (Death Variable) set to <code>"COPY"</code></li>
			<li><a href="#op68">Opcode #68</a> based on effect <code>duration</code></li>
			<li>The creature is not immediately controllable, but will become controllable (if allied) after saving &amp; reloading</li>
		</ul>
	</li>

	<li>
		1 &longrightarrow; Mislead &mdash; Image created with the targeted creature(s) Maximum Hit Points and the following (in order)
		<ul>
			<li>Allegiance set to <a href="../files/ids/bgee/ea.htm#4"><code>ALLY</code></a>, <a href="../files/ids/bgee/ea.htm#128"><code>NEUTRAL</code></a>, or <a href="../files/ids/bgee/ea.htm#255"><code>ENEMY</code></a>, depending on target allegiance</li>
			<li><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_Gender"><code>Gender</code></a> set to <a href="../files/ids/bgee/gender.htm#ILLUSIONARY"><code>ILLUSIONARY</code></a></li>
			<li>All AI scripts and Dialogues are set to <code>""</code> (empty string, i.e. they will be cleared)</li>
			<li>
				If the clone's allegiance is not <a href="../files/ids/bgee/ea.htm#4"><code>ALLY</code></a>, <a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_ClassScript"><code>Class Script</code></a> is set to <code>'Original Class Script' + 'M'</code>. The script has to already exist (as a separate <a href="../file_formats/ie_formats/bcs.htm"><code>BCS</code></a> file).
				<ul>
					<li>And the <a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_ClassScript"><code>Class Script</code></a> is only set if it wasn't originally null/empty &mdash; it will never be just <code>"M"</code></li>
					<li>If original <a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_ClassScript"><code>Class Script</code></a> is 8 characters long, the last letter will be replaced with <code>"M"</code></li>
					<li>
						If you look in BG2EE, you will see these files:
						<ul>
							<li><code>MAGE18A.BCS &rightarrow; MAGE18AM.BCS</code></li>
							<li><code>MAGE18B.BCS &rightarrow; MAGE18BM.BCS</code></li>
							<li><code>MAGE18C.BCS &rightarrow; MAGE18CM.BCS</code></li>
							<li><code>MAGE18D.BCS &rightarrow; MAGE18DM.BCS</code></li>
						</ul>
						The caster uses the first one, their Mislead clone uses the second one
					</li>
				</ul>
			</li>
			<li><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x280"><code>Script Name</code></a> (Death Variable) set to <code>"COPY"</code></li>
			<li><a href="#op68">Opcode #68</a> based on effect <code>duration</code></li>
			<li><a href="#op237">Opcode #237</a><code><small><sup>*</sup></small>p2=1</code>: Puppet Stats, Mislead</li>
			<li><a href="#op145">Opcode #145</a><code><small><sup>*</sup></small>p2=0</code>: Disable Spell Casting, Wizard</li>
			<li><a href="#op145">Opcode #145</a><code><small><sup>*</sup></small>p2=1</code>: Disable Spell Casting, Priest</li>
			<li><a href="#op145">Opcode #145</a><code><small><sup>*</sup></small>p2=2</code>: Disable Spell Casting, Innate</li>
			<li><a href="#op144">Opcode #144</a><code><small><sup>*</sup></small>p2=8</code>: Disable Button (Use Item)</li>
			<li><a href="#op144">Opcode #144</a><code><small><sup>*</sup></small>p2=9</code>: Disable Button (Quick Item 1)</li>
			<li><a href="#op144">Opcode #144</a><code><small><sup>*</sup></small>p2=11</code>: Disable Button (Quick Item 2)</li>
			<li><a href="#op144">Opcode #144</a><code><small><sup>*</sup></small>p2=12</code>: Disable Button (Quick Item 3)</li>
			<li><a href="#op144">Opcode #144</a><code><small><sup>*</sup></small>p2=13</code>: Disable Button (Special Ability)</li>
			<li>Applies <code>"MISLEAD.SPL"</code></li>
		</ul>
	</li>

	<li>
		2 &longrightarrow; Project Image &mdash; Image is created with the targeted creature(s) Current Hit Points and the following (in order)
		<ul>
			<li>Allegiance set to <a href="../files/ids/bgee/ea.htm#4"><code>ALLY</code></a>, <a href="../files/ids/bgee/ea.htm#128"><code>NEUTRAL</code></a>, or <a href="../files/ids/bgee/ea.htm#255"><code>ENEMY</code></a>, depending on target allegiance</li>
			<li><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_Gender"><code>Gender</code></a> set to <a href="../files/ids/bgee/gender.htm#ILLUSIONARY"><code>ILLUSIONARY</code></a></li>
			<li>All AI scripts and Dialogues are set to <code>""</code> (empty string, i.e. they will be cleared)</li>
			<li><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x280"><code>Script Name</code></a> (Death Variable) set to <code>"COPY"</code></li>
			<li><a href="#op68">Opcode #68</a> based on effect <code>duration</code></li>
			<li><a href="#op237">Opcode #237</a><code><small><sup>*</sup></small>p2=2</code>: Puppet Stats, Project Image</li>
			<li>Applies <code>"PROJIMAG.SPL"</code></li>
		</ul>
	</li>

	<li>
		3 &longrightarrow; Simulacrum &mdash; Image is created with the targeted creature(s) Current Hit Points and the following (in order)
		<ul>
			<li>Allegiance set to <a href="../files/ids/bgee/ea.htm#4"><code>ALLY</code></a>, <a href="../files/ids/bgee/ea.htm#128"><code>NEUTRAL</code></a>, or <a href="../files/ids/bgee/ea.htm#255"><code>ENEMY</code></a>, depending on target allegiance</li>
			<li>All AI scripts and Dialogues are set to <code>""</code> (empty string, i.e. they will be cleared)</li>
			<li><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x280"><code>Script Name</code></a> (Death Variable) set to <code>"COPY"</code></li>
			<li><a href="#op68">Opcode #68</a> based on effect <code>duration</code></li>
			<li><a href="#op216">Opcode #216</a></li>
			<li><a href="#op237">Opcode #237</a><code><small><sup>*</sup></small>p2=3</code>: Puppet Stats, Simulacrum</li>
			<li>Applies <code>"SIMULACR.SPL"</code></li>
		</ul>
	</li>

	<li>4&plus; &longrightarrow; As <code>0</code></li>
</ul>


<div class="note bug">
	<div>
		<strong>Bug:</strong> 
<code>Simulacrum</code> is supposed to apply a <a href="#op216">level-drain</a> effect to the clone equal to <code>floor(ceil(average of </code><a href="../files/ids/bgee/stats.htm#34"><code>LEVEL</code></a><code>, </code><a href="../files/ids/bgee/stats.htm#68"><code>LEVEL2</code></a><code>, </code><a href="../files/ids/bgee/stats.htm#69"><code>LEVEL3</code></a><code>) * factor)</code>. The <code>factor</code> appears to be 50% in original games and 40% in EEs. However in EEs, the code is bugged for dual class characters — instead of using the character’s average level it uses the level count of the first class in the dual class name.<br /><br />

This means dual class mages usually end up with Simulacrums that are substantially more powerful than intended.

	</div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Keep in mind that if the caster is equipped with an irremovable item (e.g., Edwin’s Amulet), then its images will not inherit any bonuses/maluses from that specific item.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op237" class="opcode">
		<span class="opnumberdata">#237 (0xED)</span>

		<span class="opnamedata">Spell Effect: Puppet ID</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op237">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op237">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Master ID</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Image Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect stores information for images created by <a href="#op236">opcode #236</a>.
<br/>Known values for <code>Master ID</code> are:
<ul>
	<li>-1 &longrightarrow; Not Party Member (Disables saving while in effect)</li>
	<li>0 &longrightarrow; Player1</li>
	<li>1 &longrightarrow; Player2</li>
	<li>2 &longrightarrow; Player3</li>
	<li>3 &longrightarrow; Player4</li>
	<li>4 &longrightarrow; Player5</li>
	<li>5 &longrightarrow; Player6</li>
</ul>

Known values for <code>Image Type</code> are:
<ul>
	<li>0 &longrightarrow; Clone</li>

	<li>
		1 &longrightarrow; Mislead
		<ul>
			<li>Maintains <a href="../files/ids/bgee/state.htm#BIT4">STATE_INVISIBLE</a> on <code>Master ID</code>. This state is constantly reapplied whenever removed or terminated.</li>
		</ul>
	</li>

	<li>
		2 &longrightarrow; Project Image
		<ul>
			<li>Maintains <a href="../files/ids/bgee/state.htm#BIT5">STATE_HELPLESS</a> on <code>Master ID</code>. This state is constantly reapplied whenever removed or terminated.</li>
			<li>If <code>Master ID</code> triggers <code><a href="../scripting/triggers/bgeetriggers.htm#0x0020">HitBy([ANYONE],0)</a></code>, this creature is moved to area <code>"NO_AREA.ARE"</code>. This will delete non-global creatures from the game, unless such an area has been added to the game.</li>
		</ul>
	</li>

	<li>3 &longrightarrow; Simulacrum</li>
</ul>
<br/>

Modifies <a href="../files/ids/bgee/stats.htm#138">PUPPETMASTERID</a> to the <code>Object ID</code> of a projected image's Master. <code>Object ID</code> is the 4 byte long number stored at offset <code>0x27c</code> of the <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> file, and can change.
<br/><br/>

Modifies <a href="../files/ids/bgee/stats.htm#139">PUPPETMASTERTYPE</a>, to a value of <code>Parameter2</code>, on the creature specified by <a href="../files/ids/bgee/stats.htm#138">PUPPETMASTERID</a>:
<ul>
	<li>Stores the image type (Mislead, Projection, Simulacrum) of a creature's most recently created clone.</li>
</ul>
<br/>

Modifies <a href="../files/ids/bgee/stats.htm#140">PUPPETTYPE</a>, to a value of <code>Image Type</code>:
<ul>
	<li>Stores the image type (Mislead, Projection, Simulacrum) of a such a creature.</li>
</ul>
<br/>

<a href="../files/ids/bgee/stats.htm#141">PUPPETID</a> is likewise set on the <code>Master ID</code>, to the image's <code>Object ID</code> (likely whichever image is most recent, if they have multiple images).
 </div>
		<hr />

	</div>

	<div id="op238" class="opcode">
		<span class="opnumberdata">#238 (0xEE)</span>

		<span class="opnamedata">Death: Disintegrate</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op238">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Disintegrates the targeted creature(s), if the targeted creature(s) match the <code>IDS Entry</code> and in the specified <code>IDS File</code>, and if the targeted creature(s) hit-dice is less than those specified by the Dice Values.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a> (EE-only)</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op239" class="opcode">
		<span class="opnumberdata">#239 (0xEF)</span>

		<span class="opnamedata">Spell Effect: Farsight</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op239">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op239">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Allows viewing of the current area, based on the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; View explored sections only</li>
	<li>1 &longrightarrow; View explored section and unexplored sections</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Effect needs to target a creature. Opcode still non-functional in SoD v2.5.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op240" class="opcode">
		<span class="opnumberdata">#240 (0xF0)</span>

		<span class="opnamedata">Graphics: Remove Special Effect Icon</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op240">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op240">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Icon</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the icon specified by the <code>Icon</code> field.
<br/>Known values for <code>Icon</code> are: see <a href="#op142">opcode #142</a>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
Only removes <a href="#op142">opcode #142</a> effects, with a matching <code>param2</code> value. Cannot remove portrait icons generated by any other mechanic.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
In EE games, can also remove <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effects if their EFF file uses <a href="#op142">opcode #142</a> with a matching <code>param2</code> value.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op241" class="opcode">
		<span class="opnumberdata">#241 (0xF1)</span>

		<span class="opnamedata">Charm: Control Creature</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op241">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Creature ID</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Charm Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> As opcode <a href="#op5">#5</a>.
 </div>
		<hr />

	</div>

	<div id="op242" class="opcode">
		<span class="opnumberdata">#242 (0xF2)</span>

		<span class="opnamedata">Cure: Confusion</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op242">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op242">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes <a href="../files/ids/bgee/state.htm#BIT31">STATE_CONFUSED</a> and <a href="#op128">opcode #128</a> effects from the targeted creature(s).
 </div>
		<hr />

	</div>

	<div id="op243" class="opcode">
		<span class="opnumberdata">#243 (0xF3)</span>

		<span class="opnamedata">Item: Drain Item Charges</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op243">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op243">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op243">IWD2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount to Drain</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Unused</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Items will have their charges drained by <code>Amount to Drain</code>.
<br/>In particular:
<ul>
	<li>Only Item Abilities of type <code><a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x0_3">Magical</a></code> are drained.</li>
	<li>Only items with flag <code><a href="../files/ids/bgee/itemflag.htm#BIT6">MAGIC</a></code> can be drained.</li>
	<li>Items flagged as <code><a href="../files/ids/bgee/itemflag.htm#BIT0">INDESTRUCTIBLE</a></code> are not drained.</li>
	<li>Items with a <code><a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Header_0x38">Maximum Stack Size</a></code> greater than <code>1</code> are not drained.</li>
	<li>Items drained of all charges behave as dictated by their first Ability that is fully drained (the <code><a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x24">when drained</a></code> field).</li>
	<li>You can drain charges of a particular item if the <code>resource</code> field is used.</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op244" class="opcode">
		<span class="opnumberdata">#244 (0xF4)</span>

		<span class="opnamedata">Spell: Drain Wizard Spell</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op244">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op244">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Number to Drain</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Drains spells from a wizards memory. This effect always drains the highest level possible spell first and drains the number set by the <code>Number to Drain</code> parameter.
 </div>
		<hr />

	</div>

	<div id="op245" class="opcode">
		<span class="opnumberdata">#245 (0xF5)</span>

		<span class="opnamedata">Check For Berserk</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op245">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op245">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undefined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect enables a 1&percnt; chance of the targetted creature(s) going berserk on each attack it makes. This affect sets the berserk stat changes and then attaches <a href="#op246">opcode #246</a>.<br/>
It sets <a href="../files/ids/bgee/stats.htm#142">CHECKFORBERSERK</a>.
 </div>
		<hr />

	</div>

	<div id="op246" class="opcode">
		<span class="opnumberdata">#246 (0xF6)</span>

		<span class="opnamedata">Spell Effect: Berserking</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op246">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op246">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undetermined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undetermined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect appears to be a combination of <a href="#op3">opcode #3</a> and the <code><a href="../files/2da/2da_bgee/statdesc.htm#4">Berserk</a></code> portrait icon. This effect attaches <a href="#op247">opcode #247</a>.<br/>
It also sets <a href="../files/ids/bgee/stats.htm#143">BERSERKSTAGE1</a>.
 </div>
		<hr />

	</div>

	<div id="op247" class="opcode">
		<span class="opnumberdata">#247 (0xF7)</span>

		<span class="opnamedata">Spell Effect: Attack Nearest Creature</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op247">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Constant Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the attack nearest creature effect on the targeted creature(s).
<br/>This effect causes the targeted creature(s) to attack the nearest creature. The affected creature becomes berserk and its AI scripts stop running. Grants a <code>+2</code> bonus to hit and damage with all weapons. Unlike <a href="op3">opcode #3</a>, this one can affect enemies as well.
<br/>
<br/>This effect sets <a href="../files/ids/bgee/stats.htm#144">BERSERKSTAGE2</a> to <code>Constant Value</code>. It also sets the <a href="../files/ids/bgee/state.htm#BIT1">STATE_BERSERK</a> flag.



<div class="note important">
  <div>
    <strong>Important:</strong> 
The <code>Constant Value</code> parameter should be non-zero.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in EEs, the only difference between opcodes <a href="#op3">#3</a> and <a href="#op247">#247</a>, is that <a href="#op247">opcode #247</a> will not force the creature(s) to use melee weapons, and is not removed by <a href="#op4">opcode #4</a> (Cure Berserk).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op248" class="opcode">
		<span class="opnumberdata">#248 (0xF8)</span>

		<span class="opnamedata">Item: Set Melee Effect</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op248">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op248">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Fist only</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Sets the effect specified by the <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> key as a melee effect.
<br/>The specified effect will be applied to the target of each successful melee attack.
<br/>The <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> key references a <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> not a <a href="../file_formats/ie_formats/spl_v1.htm"><code>SPL</code></a>.


<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> files applied by this opcode can be blocked by <a href="#op101">opcode #101</a>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in EEs, setting <code>parameter2</code> to <code>4</code> (i.e., <code>BIT2</code>) results in restricting this effect to fists only. If you leave it at <code>0</code>, then all melee weapons are eligible (including fists).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
It will always apply to both main and offhand weapon.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode applies its effect inbetween base weapon damage and the on-hit effects of the weapon.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op249" class="opcode">
		<span class="opnumberdata">#249 (0xF9)</span>

		<span class="opnamedata">Item: Set Ranged Effect</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op249">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op249">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Sets the effect specified by the <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> key as a ranged effect.
<br/>The specified effect will be applied to the target of each successful ranged attack.
<br/>The <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> key references a <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> not a <a href="../file_formats/ie_formats/spl_v1.htm"><code>SPL</code></a>.


<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> files applied by this opcode can be blocked by <a href="#op101">opcode #101</a>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in EEs, this opcode applies its effect after both the base weapon damage and the on-hit effects of the weapon.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op250" class="opcode">
		<span class="opnumberdata">#250 (0xFA)</span>

		<span class="opnamedata">Spell Effect: Damage Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op250">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op250">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Damage Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the <code>Damage Modifier</code> value to the damage caused by the targetted creature(s). The effect works as a minimum damage value, i.e. at least <code>Damage Modifier</code> damage will always be caused (on a successful hit).

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#145">DAMAGELUCK</a>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
This opcode works in the same manner as <a href="#op22">luck</a> (and stacks with it), except that it only affects base weapon damage. It can be positive or negative.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op251" class="opcode">
		<span class="opnumberdata">#251 (0xFB)</span>

		<span class="opnamedata">Spell Effect: Change Bard Song Effect</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op251">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op251">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets the Bard Song of the targeted creature to the spell specified by the <code>resource</code> key.
<br/>On non-EE games, the default Bard Song applies the following effects:
<ul>
	<li>All effects are added to the entire party with <code>Timing Mode 4096</code> (end at ticks) and <code>duration = nGameTime + 100</code></li>
	<li>
		<a href="#op142">Display Special Effect Icon</a>
		<ul>
			<li><code>param2 (Icon) = 40 Bard Song</code></li>
		</ul>
	</li>

	<li>
		<a href="#op23">Morale Modifier</a> – Sets the Morale stat of the targetted creature(s) to <code>10</code>.
		<ul>
			<li><code>param1 (Ignored) = 10</code></li>
			<li><code>param2 (Ignored) = 0</code></li>
		</ul>
	</li>

	<li>
		<a href="#op161">Cure Horror</a>
		<ul>
			<li><code>param1 (Irrelevant) = 1</code></li>
			<li><code>param2 (Irrelevant) = 0</code></li>
		</ul>
	</li>

	<li>
		<a href="#op101">Protection from Opcode</a>
		<ul>
			<li><code>param1 (Irrelevant) = 1</code></li>
			<li><code>param2 (Opcode) = 24 (State: Horror)</code></li>
		</ul>
	</li>
</ul>

<br/>On EE games, the default bardsong has been externalized to <code>"BARDSONG.SPL"</code>.
 </div>
		<hr />

	</div>

	<div id="op252" class="opcode">
		<span class="opnumberdata">#252 (0xFC)</span>

		<span class="opnamedata">Spell Effect: Set Trap</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op252">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op252">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op252">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Attempts to set the spell specified by the <code>resource</code> key as a trap.<br/>
In particular:
<ul>
	<li>If the caster is a party member, the number of traps in the current area must not exceed their class limit specified in <a href="../files/2da/2da_bgee/traplimt.htm">TRAPLIMT.2DA</a>.</li>
	<li>Feedback string <code><a href="../files/2da/2da_bgee/enginest.htm#172">STRREF_FEEDBACK_SNAREFAILED_TOOMANY</a></code> will be displayed if there are too many.</li>
	<li>The caster cannot have any hostile creatures within their own visual range.</li>
	<li>Feedback string <code><a href="../files/2da/2da_bgee/enginest.htm#171">STRREF_FEEDBACK_SNAREFAILED_ENEMIES</a></code> will be displayed if there are enemies in sight.</li>
	<li>If the caster succeeds the skill check, Feedback string <code><a href="../files/2da/2da_bgee/enginest.htm#173">STRREF_FEEDBACK_SNARESUCCEEDED</a></code> will be displayed (and the spell specified by the <code>resource</code> key cast).</li>
	<li>If the caster fails the skill check, Feedback string <code><a href="../files/2da/2da_bgee/enginest.htm#170">STRREF_FEEDBACK_SNAREFAILED</a></code> will be displayed.</li>
	<li>If the caster has a critical failure, then they are struck by spell <code>'Resource' + 'F'</code>.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Feedback from this effect is only given when used by party members.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op253" class="opcode">
		<span class="opnumberdata">#253 (0xFD)</span>

		<span class="opnamedata">Spell Effect: Add Map Marker</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op253">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op253">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">String Reference</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Marker Color</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> <p>Applies the set map marker effect.</p>
<p>
The <code>String Reference</code> parameter is a string reference to the <a href="../file_formats/ie_formats/tlk_v1.htm">dialog.tlk</a>
file that sets what the marker says when the marker is read. The <code>Target</code> of this effect should be set to <code>Self</code>
to function correctly.
</p>

<p>
The "Marker Color" parameter corresponds to the marker images in flag1.bam. In BG2 it can be one of:
<ul>
  <li>0 - Gray (default value)</li>
  <li>1 - Violet</li>
  <li>2 - Green</li>
  <li>3 - Orange</li>
  <li>4 - Red</li>
  <li>5 - Blue</li>
  <li>6 - Dark Blue</li>
  <li>7 - Light Gray</li>
</ul>

And in EEs, one of:
<ul>
  <li>0 - Black (default value)</li>
  <li>1 - Grey (slate)</li>
  <li>2 - Red</li>
  <li>3 - Green</li>
  <li>4 - Yellow</li>
  <li>5 - Blue (tel)</li>
  <li>6 - Purple</li>
  <li>7 - Orange (salmon)</li>
  <li>8 - Cyan</li>
</ul>

</p>



<div class="note important">
  <div>
    <strong>Important:</strong> 
This effect works in SoA but not ToB. Works fine in EE's.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op254" class="opcode">
		<span class="opnumberdata">#254 (0xFE)</span>

		<span class="opnamedata">Spell Effect: Remove Map Marker</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op254">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">String Reference</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the remove map marker effect. This effect removes the map marker (if any) at the position the effect is cast. The <code>Target</code> of this effect should be set to <code>Pre-Target</code> to function correctly (actually, it can work with <code>Self</code>, might depend on how you are using it).

<p>
	The <code>String Reference</code> field should match <code><a href="#op253">opcode #253 StrRef</a></code> to be removed. <a href="#op254">Opcode #254</a> needs to be cast on exact coordinates as <a href="#op253">opcode #253</a>.
</p>



<div class="note important">
  <div>
    <strong>Important:</strong> 
This effect works in SoA but not ToB. Works fine in EE's.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op255" class="opcode">
		<span class="opnumberdata">#255 (0xFF)</span>

		<span class="opnamedata">Item: Create Inventory Item (days)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op255">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Charges</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Creates the item specified by the <code>resource</code> key. The number of items created is controlled by the <code>Charges</code> field. The number of secondary charge is determined by <code>Parameter3</code>. The number of tertiary charges is determined by <code>Parameter4</code> (external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s). The item is created in the Inventory, and has the <code>can not steal</code> bit set.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The difference from <a href="#op122">opcode #122</a> is that when used in an external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>, the <code>duration</code> (from the calling file) is specified in days.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op256" class="opcode">
		<span class="opnumberdata">#256 (0x100)</span>

		<span class="opnamedata">Spell: Spell Sequencer Active</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op256">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op256">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect stores the spell resources for an active spell sequencer. These resources are stored in the <code>resource</code> key, VVC field (<code>resource2</code>), and <code>resource3</code>.<br/>
This effect stores spells to be cast through <a href="#op258">opcode #258</a> and <a href="#op260">opcode #260</a>.
<br/>

When used in an external EFF file, known values for <code>Parameter3 (Type)</code> are:
<ul>
	<li>0 &longrightarrow; Hidden – this sequencer is not viewable in the MageBook 'Contingency' screen, and is not removed when activated.</li>
	<li>1 &longrightarrow; Displayed – this sequencer is viewable in the MageBook 'Contingency' screen, and is removed when activated.</li>
</ul>

When used in an external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file, <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90">Parent Type (Source Type)</a></code> may be manually set to influence its behavior. Known values for <code>Parent Type</code> are:
<ul>
	<li>0 &longrightarrow; None – Allows further effects with a matching "Parent Resource" to affect the target.</li>
	<li>1 &longrightarrow; Spell – Any further effects with a matching "Parent Resource" will be blocked by the engine and string <code><a href="../files/2da/2da_bgee/enginest.htm#42">STRREF_ERROR_CAN_NOT_CAST_TWO_CONT</a></code> is returned to the combat log.</li>
	<li>2 &longrightarrow; Item – Allows further effects with a matching "Parent Resource" to affect the target.</li>
</ul>

When used in an external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file, <code>Parent Resource (Activation Key)</code> must be manually set to influence its behavior.<br/>
The <code>Activation Key</code> is the "Resource" to be referenced by the effect(s) that will activate this sequencer.<br/>
When set manually, it cannot contain lowercase characters, it MUST be in ALLCAPS, numbers, and/or symbols, or the sequencer cannot be activated.
<br/>



<div class="note info">
  <div>
    <strong>Note:</strong> 
The presence of this effect in any of a spell’s ability headers will force any Wild Surge of that spell to use the ‘Cast Normal’ result.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Activation Key</code> does not have to reference an actual spell or item resource, it can be any valid string, so long as the effects involved (<a href="#op256">256</a>/<a href="#op257">257</a> and <a href="#op258">258</a>/<a href="#op260">260</a>) use the exact same string.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op257" class="opcode">
		<span class="opnumberdata">#257 (0x101)</span>

		<span class="opnamedata">Spell: Spell Sequencer Creation</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op257">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op257">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Maximum Level Usable</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Amount</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Creates a custom spell sequencer, storing a certain number of spells for later use.<br/>
It applies <a href="#op256">opcode #256</a> to the caster upon completing the spell selection process, and at the same time it grants you the <code>-D</code> or <code>-P</code> subspell (via <a href="#op171">opcode #171</a>). In particular:

<ul>
	<li>if all of the sequenced spells use <code>Ability Target 4 (Target Point)</code>, it will grant spell <code>'Parent' + 'P'</code> (provided such a spell exists – for instance: <code>SPWI420P</code>),</li>
	<li>otherwise it will grant spell <code>'Parent' + 'D'</code> (for instance: <code>SPWI420D</code>).</li>
</ul>

The chosen spells are stored using <a href="#op256">opcode #256</a>, using <code>Timing Mode 1</code> (regardless of timing mode for <a href="#op257">opcode #257</a>) and <code>Parameter3</code> set to <code>1</code>.

<br/>The <code>Maximum Level</code> field indicates the maximum spell level that can be used in the sequencer. The <code>Amount</code> field indicates the number of spells that can be used in the sequencer.
<br/><br/>

When used in an external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file, <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90">Parent Type (Source Type)</a></code> may be manually set to influence its behavior. Known values for <code>Parent Type</code> are:
<ul>
	<li>0 &longrightarrow; None – Allows further effects with a matching "Parent Resource" to affect the target.</li>
	<li>1 &longrightarrow; Spell – Any further effects with a matching "Parent Resource" will be blocked by the engine and string <code><a href="../files/2da/2da_bgee/enginest.htm#42">STRREF_ERROR_CAN_NOT_CAST_TWO_CONT</a></code> is returned to the combat log.</li>
	<li>2 &longrightarrow; Item – Allows further effects with a matching "Parent Resource" to affect the target.</li>
</ul>

When used in an external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file, <code>Parent Resource (Activation Key)</code> must be manually set to influence its behavior.<br/>
When set manually, it cannot contain lowercase characters, it MUST be in ALLCAPS, numbers, and/or symbols, or the sequencer cannot be activated.
<br/><br/>

If not used in an external EFF, the <code>Activation Key</code> will be the "Parent Resource".<br/>
If used in an external EFF, the <code>Activation Key</code> must be explicitly specified, but doesn't need to match its actual "Parent Resource".<br/>
For the vanilla spells, the <code>Activation Key</code> is always the parent spell of <a href="#op257">opcode #257</a>.



<div class="note important">
  <div>
    <strong>Important:</strong> 
As of v2.3, an entry for the "Parent Resource" or "Activation Key" must be added to the <code>mageBookStrings{}</code> lua table, or the game will crash upon use.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
The filename of a spell containing this effect should be no more than 7 characters.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The presence of this effect in any of a spell’s ability headers will force any Wild Surge of that spell to use the ‘Cast Normal’ result.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Activation Key</code> does not have to reference an actual spell or item resource, it can be any valid string, so long as the effects involved (<a href="#op256">256</a>/<a href="#op257">257</a> and <a href="#op258">258</a>/<a href="#op260">260</a>) use the exact same string.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op258" class="opcode">
		<span class="opnumberdata">#258 (0x102)</span>

		<span class="opnamedata">Spell: Spell Sequencer Activation</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op258">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op258">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op258">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Activates a spell sequencer at a single target.<br/>
Activates any <a href="#op256">opcode #256</a> effects with a matching resource (<code>Activation Key</code>) of the targeted creature(s).<br/>

When used in combination with <a href="#op257">opcode #257</a> (Spell Sequencer Creation):

<ul>
	<li>The <code>resource</code> key must be set to the filename of the spell which contains the Spell Sequencer Creation effect.</li>
	<li>The spell which contains the Spell Sequencer Creation effect can have a maximum filename of 7 characters.</li>
	<li>The spell which contains the Spell Sequencer Activation effect must have the same filename, suffixed with the <code>D</code> character, and should be an innate ability. For instance:
		<ul>
			<li>Spell Sequencer Creation filename = <code>SPWI420</code></li>
			<li>Spell Sequencer Activation filename = <code>SPWI420D</code></li>
		</ul>
	</li>
</ul>
<br/>

Those spells are cast by the targeted creature(s) at "this" ability's target.<br/>
For each stored spell, "this" ability's target must be within range of that spell, or it will fail.
<br/><br/>

All <a href="#op256">opcode #256</a> effects with a matching <code>Activation Key</code> are removed if their <code>Parameter3 = 1</code> (those created by <a href="#op257">opcode #257</a> / <a href="#op234">opcode #234</a> have this value set to <code>1</code> by default).



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode will fail if delivered directly in an area effect projectile (though it may still target “self” or be used in subsequent non-AoE subspells).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Activation Key</code> does not have to reference an actual spell or item resource, it can be any valid string, so long as the effects involved (<a href="#op256">256</a>/<a href="#op257">257</a> and <a href="#op258">258</a>/<a href="#op260">260</a>) use the exact same string.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op259" class="opcode">
		<span class="opnumberdata">#259 (0x103)</span>

		<span class="opnamedata">Protection: Spell Trap (by Power Level, decrementing)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op259">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op259">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Total Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Power Level</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the spell-trap effect to the targeted creature(s), absorbing a number of effects as specified by the <code>Total Amount</code> field, of the level specified by the <code>Power Level</code> field, and recalling previously cast spells.

<p>
	The <code>Power</code> level of the first effect to trigger any instance of this opcode's trap will determine how much this opcode's <code>Total Amount</code> is decremented. Every instance of this opcode on the creature will be decremented by this amount.
</p>

<p>
	On EE games, <code>resource</code> field &longrightarrow; Spell cast when this effect self-terminates, <code>default = Parent + "B"</code>.
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		CANNOT trap effects of Secondary Type <code><a href="../files/2da/2da_bgee/msectype.htm#4">MagicAttack</a></code>.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm">V1 effects</a> inherit their Secondary Type from the Header(<a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x27">SPL</a>) / Extended Header(<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Extended_Header_0x19">ITM</a>), <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xD0">V2 effects</a> specify it manually.</li>
		</ul>
	</li>

	<li>
		CANNOT trap EFF files with <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C_BIT2">resist_dispel = BIT2</a></code>.
		<ul>
			<li>Keep in mind that this BIT is automatically set on any effect delivered by an <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">Area-Effect</a> (Explosion) projectile, so this opcode cannot trap effects through <a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">AoE</a> projectiles.</li>
		</ul>
	</li>

	<li>CANNOT trap effects from self.</li>
	<li>Maintains portrait icon <code><a href="../files/2da/2da_bgee/statdesc.htm#117">Spell Trap</a></code> on the target.</li>
	<li>Maintains animation <code>SPMAGGLO</code> on the target, can be suppressed by <a href="#op291">opcode #291</a>.</li>
	<li>
		When it traps an effect, it applies <a href="#op261">opcode #261</a> to the target.
		<ul>
			<li><code>Parameter1</code> is the <code>Power</code> level of the trapped effect, <code>Parameter2</code> is always <code>0|Wizard</code>.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files delivered by <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> will interact with Trapping separately from the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect that applies them, and only if that <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect already got through. If the <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> effect is trapped, then the values in the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> file won’t matter. Most vanilla <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files have these fields set to <code>empty/zero</code> to avoid interacting with this opcode.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op260" class="opcode">
		<span class="opnumberdata">#260 (0x104)</span>

		<span class="opnamedata">Spell: Spell Sequencer Activation</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op260">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op260">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Activates a spell sequencer at a target point.<br/>
Activates any <a href="#op256">opcode #256</a> with a matching resource (<code>Activation Key</code>) of the targeted creature(s).<br/>

When used in combination with <a href="#op257">opcode #257</a> (Spell Sequencer Creation):

<ul>
	<li>The <code>resource</code> key must be set to the filename of the spell which contains the Spell Sequencer Creation effect.</li>
	<li>The spell which contains the Spell Sequencer Creation effect can have a maximum filename of 7 characters.</li>
	<li>The spell which contains the Spell Sequencer Activation effect must have the same filename, suffixed with the <code>P</code> character, and should be an innate ability. For instance:
		<ul>
			<li>Spell Sequencer Creation filename = <code>SPWI420</code></li>
			<li>Spell Sequencer Activation filename = <code>SPWI420P</code></li>
		</ul>
	</li>
</ul>
<br/>

Those spells are cast by the targeted creature(s) at "this" ability's target.<br/>
For each stored spell, "this" ability's target must be within range of that spell, or it will fail.
<br/><br/>

All <a href="#op256">opcode #256</a> effects with a matching <code>Activation Key</code> are removed if their <code>Parameter3 = 1</code> (those created by <a href="#op257">opcode #257</a> / <a href="#op234">opcode #234</a> have this value set to <code>1</code> by default).



<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Activation Key</code> does not have to reference an actual spell or item resource, it can be any valid string, so long as the effects involved (<a href="#op256">256</a>/<a href="#op257">257</a> and <a href="#op258">258</a>/<a href="#op260">260</a>) use the exact same string.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op261" class="opcode">
		<span class="opnumberdata">#261 (0x105)</span>

		<span class="opnamedata">Spell: Restore Lost Spells</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op261">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Spell Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Spell Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the restore lost spell effect to the targeted creature(s).
<br/>This effect will restore 1 spell to memory, at the level specified by the <code>Spell Level</code> field, and of the type specified by the <code>Spell Type</code> field. If there is no free slot at the specified level, the effect restores a spell at the next lowest level possible.
<br/>Known values for <code>Spell Type</code> are:
<ul>
	<li>0 &longrightarrow; Wizard / Bard / Sorcerer</li>
	<li>1 &longrightarrow; Cleric / Druid / Shaman</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op262" class="opcode">
		<span class="opnumberdata">#262 (0x106)</span>

		<span class="opnamedata">Stat: Visual Range</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op262">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op262">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the visual range effect to the targeted creature(s).
<br/>This effect modifies the visual range of the targeted creature(s).
<br/>The <code>Statistic Modifier</code> parameter seems to be in the <code>0–15</code> interval.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Visual Range = Visual Range + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Visual Range = 'Statistic Modifier' value</code></li>
</ul>

<p>
	The effect modifies <a href="../files/ids/bgee/stats.htm#147">VISUALRANGE</a>.
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
With relation to this effect:
<ul>
	<li>Each unit of visible range equals 2ft: <code>32px(horizontal)/24px(vertical)</code></li>
	<li>Default Visual Range = 14</li>
	<li>Maximum visual range to reveal "Fog of War" = 23</li>
</ul>

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op263" class="opcode">
		<span class="opnumberdata">#263 (0x107)</span>

		<span class="opnamedata">Stat: Backstab</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op263">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Backstab = Backstab + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Backstab = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Backstab = (Backstab * 'Statistic Modifier' value) / 100</code></li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op264" class="opcode">
		<span class="opnumberdata">#264 (0x108)</span>

		<span class="opnamedata">Spell Effect: Drop Weapons in Panic</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op264">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op264">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the drop weapons effect to the targeted creature(s), in the style specified by the <code>Type</code> field.
<br/>This effect causes the targeted creature(s) to drop an inventory item.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Drop first inventory item in order from <a href="../files/ids/bgee/slots.htm">SLOTS.IDS</a></li>
	<li>1 &longrightarrow; Drop weapons from Quick-Weapon Slot (slots <code>#35 – #38</code>)</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Can drop items located in the <code><a href="../files/ids/bgee/slots.htm#34">Magical Weapon Slot</a></code> if they are not flagged properly.<br />
Will never drop items:
<ul>
	<li>located in slot <code><a href="../files/ids/bgee/slots.htm#10">SLOT_FIST</a></code>.</li>
	<li>flagged as <code><a href="../files/ids/bgee/itemflag.htm#BIT0">INDESTRUCTIBLE</a></code>.</li>
	<li>NOT flagged as <code><a href="../files/ids/bgee/itemflag.htm#BIT2">DROPPABLE</a></code>.</li>
	<li>flagged as <code><a href="../files/ids/bgee/invitem.htm#BIT3">NONDROPABLE</a></code>.</li>
</ul>

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op265" class="opcode">
		<span class="opnumberdata">#265 (0x109)</span>

		<span class="opnamedata">Script: Modify Global Variable</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op265">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the global variable specified by the <code>resource</code> key, in the style specified by the <code>Type</code> field, by the value specified by the <code>Value</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Set Global (to <code>Value</code>)</li>
	<li>1 &longrightarrow; Increment Global (by <code>Value</code>)</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>
		Since the <code>Resource</code> Key can only be 8 characters long maximum, you can not set a Global Variable with this effect that has a name longer than this amount.
		<ul>
			<li>
				You can use the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70">VVC</a></code> field of external EFF files for an additional 8 characters of variable name.
				<ul>
					<li>You can use the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x78">3<small><sup>rd</sup></small>resource</a></code> field of external EFF files for an additional 8 characters of variable name.</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
All timing modes act as permanent for this effect.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Value</code> can store integers or coordinates. Coordinates are stored as first 2 bytes X, last 2 bytes Y (f.i.: <code>310 + (30 &lt;&lt; 16)</code>).

  </div>
</div>




<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Make sure to set target. Target: Self (1) works well. If target is unset (0), the game will freeze.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op266" class="opcode">
		<span class="opnumberdata">#266 (0x10A)</span>

		<span class="opnamedata">Spell: Remove Protection from Spell</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op266">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes <a href="#op206">opcode #206</a> with matching <code>resource</code> keys.



<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in BG2 and EEs, this effect can remove <a href="#op177">opcode #177</a>/<a href="#op283">opcode #283</a> when EFF file uses <a href="#op206">opcode #206</a> and matching <code>resource</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op267" class="opcode">
		<span class="opnumberdata">#267 (0x10B)</span>

		<span class="opnamedata">Text: Protection from Display Specific String</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op267">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">String Reference</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Prevents the strref specified by the <code>String Reference</code> field being displayed by the targeted creature(s).
<br/>



<div class="note important">
  <div>
    <strong>Important:</strong> 
Only grants immunity to <a href="op139.html">opcode #139</a> effects with a matching <code>String Reference</code> value.<br/>
Cannot block string displays from any other mechanic.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op268" class="opcode">
		<span class="opnumberdata">#268 (0x10C)</span>

		<span class="opnamedata">Spell Effect: Clear Fog of War (Wizard Eye)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op268">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the clear fog of war effect on the targeted creature(s).
<br/>The targeted creature(s) will be able to explore like a PC does.
<br/>
<br/>This effect sets <a href="../files/ids/bgee/stats.htm#148">EXPLORE</a> to <code>1</code>.
<br/>



<div class="note important">
  <div>
    <strong>Important:</strong> 
Only 8 creatures in a given area can fully clear fog of war, with priority going to party members.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op269" class="opcode">
		<span class="opnumberdata">#269 (0x10D)</span>

		<span class="opnamedata">Spell Effect: Shake Window</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op269">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Strength</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undetermined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the shake windows effect, with an intensity specified by the <code>Strength</code> field.
 </div>
		<hr />

	</div>

	<div id="op270" class="opcode">
		<span class="opnumberdata">#270 (0x10E)</span>

		<span class="opnamedata">Cure: Unpause Target</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op270">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the <a href="#op165">pause effect</a> from the targeted creature(s).
 </div>
		<hr />

	</div>

	<div id="op271" class="opcode">
		<span class="opnumberdata">#271 (0x10F)</span>

		<span class="opnamedata">Graphics: Avatar Removal</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op271">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op271">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Hides the creature's animation and selection circle, including illusionary images (Blur / Mirror Image).<br/>
The creature cannot take any action not listed in <a href="../files/ids/bgee/instant.htm">INSTANT.IDS</a> (usually through <a href="../scripting/actions/bgeeactions.htm#1">ActionOverride()</a>).<br/>
The creature is still subject to area effect and may still be targeted directly by mouseover.
<br/><br/>

Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Default behavior</li>
	<li>1 &longrightarrow; In addition, disables the creature's AI scripts, sets <a href="../files/ids/bgee/stats.htm#188">SUMMON_DISABLE_ACTION</a> to <code>1</code></li>
</ul>

<br/>This effect sets <a href="../files/ids/bgee/stats.htm#70">CasterHold</a> and <a href="../files/ids/bgee/stats.htm#150">SUMMONDISABLE</a> to <code>1</code>. </div>
		<hr />

	</div>

	<div id="op272" class="opcode">
		<span class="opnumberdata">#272 (0x110)</span>

		<span class="opnamedata">Spell: Apply Repeating EFF</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op272">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op272">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount_1</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Amount_2</span><br />
		
		
			<span class="parameterheading">Parameter #4:</span> <span class="parameterdata">Frequency Multiplier</span><br />
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Icon</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Applies the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> specified by the <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> key to the targeted creature(s) as specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Apply once per second
		<ul>
			<li><code>Amount_2</code> and <code>Frequency Multiplier</code> are ignored &mdash; <code>Amount_1</code> needs to be non-zero</li>
		</ul>
	</li>
	<li>1 &longrightarrow; Unknown (see below for further details)</li>
	<li>2 &longrightarrow; Apply <code>Amount_1</code> times every <code>Frequency Multiplier</code> second(s)</li>
	<li>3 &longrightarrow; Apply once every <code>'Amount_1' * 'Frequency Multiplier'</code> second(s)</li>
	<li>4 &longrightarrow; Apply <code>Amount_2</code> times every <code>'Amount_1' * 'Frequency Multiplier'</code> second(s) &mdash; This is the only one that must be in external <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> files</li>
	<li>5+ &longrightarrow; Crash</li>
</ul>

<p>
	<code>Icon</code> defines the index from <a href="../files/2da/2da_bgee/statdesc.htm"><code>STATDESC.2DA</code></a> for custom portrait icons. Default value is <code>None (no icon)</code>.
</p>


<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> files applied by this opcode can be blocked by <a href="#op101">opcode #101</a>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
The timings are relative to the movement rate of the affected creature(s). <a href="#op40">opcode #40</a> (Slow) and <a href="#op78">opcode #78</a> (Disease) doubles the timing rate, effect <a href="#op16">opcode #16</a> (Haste) halves the timing rate.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
This opcode does not have any function when <code>Type = 1</code>, thought the effect is still present (it doesn't just instantly terminate), and will generate a portrait icon if <code>Icon</code> is non-zero.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
If <code>Frequency Multiplier = 0</code>, its value is treated as <code>1</code>. This is the default value for SPL/ITM effects.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op273" class="opcode">
		<span class="opnumberdata">#273 (0x111)</span>

		<span class="opnamedata">Remove: Specific Area Effect(Zone of Sweet Air)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op273">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undetermined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undetermined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes projectiles listed in <a href="../files/2da/2da_bgee/clearair.htm">CLEARAIR.2DA</a>.
<br/>



<div class="note info">
  <div>
    <strong>Note:</strong> 
At least in EEs, If the <code>resource</code> field is filled, it will use a custom <a href="../file_formats/ie_formats/2da.htm">2DA</a> file to determine which projectiles to remove.<br />
The custom 2DA file must be structured as <code>"CLEARAIR.2DA"</code>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op274" class="opcode">
		<span class="opnumberdata">#274 (0x112)</span>

		<span class="opnamedata">Spell Effect: Teleport to Target</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op274">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undetermined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undetermined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Teleports the affected creature(s) to a random enemy (i.e. party members would teleport to a red circled creature, red circled creatures teleport to the party). Enemy needs to be within visual range, but can be invisible.
 </div>
		<hr />

	</div>

	<div id="op275" class="opcode">
		<span class="opnumberdata">#275 (0x113)</span>

		<span class="opnamedata">Stat: Hide in Shadows Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op275">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Skill = Skill + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Skill = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Skill = (Skill * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type = 0</code> and <code>Timing Mode = 9</code>, it modifies <a href="../files/ids/bgee/stats.htm#180">HIDEINSHADOWSMTPBONUS</a>. The final value for this stat is multiplied by its percentage entry in <a href="../files/2da/2da_bgee/thiefscl.htm">THIEFSCL.2DA</a> capped to the range [0,255], before being included in the creature’s Hide in Shadows score.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op276" class="opcode">
		<span class="opnumberdata">#276 (0x114)</span>

		<span class="opnamedata">Stat: Detect Illusion Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op276">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op276">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Skill = Skill + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Skill = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Skill = (Skill * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
At least in EEs, when <code>Type = 0</code> and <code>Timing Mode = 9</code>, it modifies <a href="../files/ids/bgee/stats.htm#181">DETECTILLUSIONSMTPBONUS</a>. The final value for this stat is multiplied by its percentage entry in <a href="../files/2da/2da_bgee/thiefscl.htm">THIEFSCL.2DA</a> capped to the range [0,255], before being included in the creature’s Detect Illusions score.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op277" class="opcode">
		<span class="opnumberdata">#277 (0x115)</span>

		<span class="opnamedata">Stat: Set Traps Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op277">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Skill = Skill + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Skill = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Skill = (Skill * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
At least in EEs, when <code>Type = 0</code> and <code>Timing Mode = 9</code>, it modifies <a href="../files/ids/bgee/stats.htm#182">SETTRAPSMTPBONUS</a>. The final value for this stat is multiplied by its percentage entry in <a href="../files/2da/2da_bgee/thiefscl.htm">THIEFSCL.2DA</a> capped to the range [0,255], before being included in the creature’s Set Traps score.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op278" class="opcode">
		<span class="opnumberdata">#278 (0x116)</span>

		<span class="opnamedata">Stat: To Hit Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op278">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>To-hit = To-hit + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>To-hit = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>To-hit = (To-hit * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
This effect adjusts modified THAC0, rather than the base stat.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op279" class="opcode">
		<span class="opnumberdata">#279 (0x117)</span>

		<span class="opnamedata">Button: Enable Button</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op279">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Button</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Enables the button specified by the <code>Button</code> field. The resource field acts as a matching key to the resource field of the Enable Button, allowing separate enable/disable reasons.
<br/>Known values for <code>Button</code> are:
<ul>
	<li>0 &longrightarrow; Stealth Button</li>
	<li>1 &longrightarrow; Thieving Skill Button</li>
	<li>2 &longrightarrow; Spell Select Button</li>
	<li>3 &longrightarrow; First Quick Spell Button</li>
	<li>4 &longrightarrow; Second Quick Spell Button</li>
	<li>5 &longrightarrow; Third Quick Spell Button</li>
	<li>6 &longrightarrow; Turn Undead Button</li>
	<li>7 &longrightarrow; Talk Button</li>
	<li>8 &longrightarrow; Use Item Button</li>
	<li>9 &longrightarrow; First Quick Item Button</li>
	<li>10 &longrightarrow; Bard Song Button (EE only)</li>
	<li>11 &longrightarrow; Second Quick Item Button</li>
	<li>12 &longrightarrow; Third Quick Item Button</li>
	<li>13 &longrightarrow; Innate Ability Button</li>
	<li>14 &longrightarrow; Find Traps Button</li>
	<li>15 &longrightarrow; Inventory Button (EE only)</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
Removing <a href="op144.html">opcode #144</a> is all it does, it cannot enable buttons disabled by other mechanics.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op280" class="opcode">
		<span class="opnumberdata">#280 (0x118)</span>

		<span class="opnamedata">Spell Effect: Wild Magic</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op280">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the wild magic effect to the targeted creature(s).
<br/>This effect causes other spells to be subject to wild magic throws.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>1 &longrightarrow; Affect next spell cast</li>
	<li>2 &longrightarrow; Affect all spells cast for effect duration</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Can only force Wild Surges on spells that are normally valid for them.<br />
In particular, it doesn’t work for <code>SPL</code>s whose <a href="../file_formats/ie_formats/spl_v1.htm#Header_Flags_BIT14">BIT14</a> is set to <code>1</code>, subspells, as well as certain script actions – mostly the “instant-cast” ones.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
Maintains <a href="../files/ids/bgee/stats.htm#153">FORCESURGE</a> to <code>Type</code>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op281" class="opcode">
		<span class="opnumberdata">#281 (0x119)</span>

		<span class="opnamedata">Stat: Wild Magic</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op281">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect will alter the wild-surge roll, making the resultant effect either more or less beneficial.
<br/>Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Chance = Chance + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Chance = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Chance = (Chance * 'Statistic Modifier' value) / 100</code></li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
At least in EEs, the final value is added to the inherint level-based bonus of the Wild Mage.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op282" class="opcode">
		<span class="opnumberdata">#282 (0x11A)</span>

		<span class="opnamedata">Script: Scripting State Modifier</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op282">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Scripting State</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Modifies <code>Scripting State</code> to the given value. <code>Scripting State</code> range from <code>0</code> to <code>35</code>. The scripting state can be checked via scripts (see <a href="../files/ids/bgee/stats.htm">STATS.IDS</a>) subtract <code>156</code> from the stat value to get the scripting state.
<br/>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>On non-EE games, this effect does not have proper bounds checking. It can therefore be used in unintended ways. For example scripting state <code>13</code> equals with the <code>NO_CIRCLE</code> attribute (<code>stat=169</code>), and scripting state <code>1139</code> ties to <code>PICKPOCKET</code> (<code>stat=29</code>).</li>
	<li>
		EEs have proper bounds checking for this opcode, can only modify stats <code>#156 – #200</code>, except <a href="../files/ids/bgee/stats.htm#188">SUMMON_DISABLE_ACTION</a>, not all values are a straight "subtract <code>156</code> from their stat".
		<ul>
			<li>For best results, it should only be used for stats <code>#156 – #165</code>, as all others have dedicated opcodes and hardcoded effects.</li>
		</ul>
	</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op283" class="opcode">
		<span class="opnumberdata">#283 (0x11B)</span>

		<span class="opnamedata">Use EFF File (Cursed)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op283">BG2</a>
			
		
			
				
			
			
			
				<a class="opvariant" href="iwd1totl.htm#op283">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Applies the <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> file specified by the <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> key to the targeted creature(s), if the targeted creature(s) match the <code>IDS Entry</code> in the specified <code>IDS File</code>. The <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> can be removed via the <a href="#op26">Remove Curse opcode</a> (in addition to other standard methods).
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm"><code>EA.IDS</code></a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm"><code>GENERAL.IDS</code></a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm"><code>RACE.IDS</code></a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm"><code>CLASS.IDS</code></a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm"><code>SPECIFIC.IDS</code></a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm"><code>GENDER.IDS</code></a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm"><code>ALIGN.IDS</code></a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm"><code>KIT.IDS</code></a></li>
</ul>


<div class="note important">
  <div>
    <strong>Important:</strong> 
<a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> files applied by this opcode bypass / ignore <a href="#op101">opcode #101</a>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op284" class="opcode">
		<span class="opnumberdata">#284 (0x11C)</span>

		<span class="opnamedata">Stat: Melee THAC0 Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op284">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>THAC0 = THAC0 + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>THAC0 = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>THAC0 = (THAC0 * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#166">MELEE_THACO_BONUS</a>.
 </div>
		<hr />

	</div>

	<div id="op285" class="opcode">
		<span class="opnumberdata">#285 (0x11D)</span>

		<span class="opnamedata">Stat: Melee Weapon Damage Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op285">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Damage = Damage + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Damage = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Damage = (Damage * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#167">MELEE_DAMAGE_BONUS</a>.
 </div>
		<hr />

	</div>

	<div id="op286" class="opcode">
		<span class="opnumberdata">#286 (0x11E)</span>

		<span class="opnamedata">Stat: Missile Weapon Damage Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op286">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Damage = Damage + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Damage = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Damage = (Damage * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#168">MISSILE_DAMAGE_BONUS</a>.
 </div>
		<hr />

	</div>

	<div id="op287" class="opcode">
		<span class="opnumberdata">#287 (0x11F)</span>

		<span class="opnamedata">Graphics: Selection Circle Removal</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op287">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes the selection circle from the targeted creature(s).
<br/>
<br/>The effect modifies <a href="../files/ids/bgee/stats.htm#169">DISABLE_CIRCLE</a>.
 </div>
		<hr />

	</div>

	<div id="op288" class="opcode">
		<span class="opnumberdata">#288 (0x120)</span>

		<span class="opnamedata">Stat: Fist THAC0 Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op288">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op288">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>THAC0 = THAC0 + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>THAC0 = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>THAC0 = (THAC0 * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#170">FIST_THACO_BONUS</a>.
 </div>
		<hr />

	</div>

	<div id="op289" class="opcode">
		<span class="opnumberdata">#289 (0x121)</span>

		<span class="opnamedata">Stat: Fist Damage Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op289">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op289">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Damage = Damage + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Damage = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Damage = (Damage * 'Statistic Modifier' value) / 100</code></li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#171">FIST_DAMAGE_BONUS</a>.
 </div>
		<hr />

	</div>

	<div id="op290" class="opcode">
		<span class="opnumberdata">#290 (0x122)</span>

		<span class="opnamedata">Text: Change Title</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op290">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op290">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op290">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">String Reference</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Position</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Class</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Changes the title of the targeted creature(s), to the strref specified by the <code>String Reference</code> field, at the location specified by the <code>Position</code> field.
<br/>Known values for <code>Position</code> are:
<ul>
	<li>0 &longrightarrow; Records Screen information section</li>
	<li>1 &longrightarrow; Various character screens (eg. Inventory and Records Screen)</li>
</ul>
<br/>
The effect modifies <a href="../files/ids/bgee/stats.htm#172">CLASS_STRING_OVERRIDE_MIXED</a> and <a href="../files/ids/bgee/stats.htm#173">CLASS_STRING_OVERRIDE_LOWER</a>.
<br/>

<code>Class</code> specifies which classes title is replaced (values are from <a href="../files/ids/bgee/class.htm">CLASS.IDS</a>). </div>
		<hr />

	</div>

	<div id="op291" class="opcode">
		<span class="opnumberdata">#291 (0x123)</span>

		<span class="opnamedata">Graphics: Disable Visual Effect</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op291">IWD1</a>
			
		
			
			
			
				<a class="opvariant" href="iwd2.htm#op291">IWD2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Blocks the hardcoded animations applied by the following opcodes: <a href="#op201">201</a>, <a href="#op204">204</a>, <a href="#op205">205</a>, <a href="#op223">223</a>, <a href="#op226">226</a>, <a href="#op259">259</a>, <a href="#op197">197</a>, <a href="#op198">198</a>, <a href="#op200">200</a>, <a href="#op202">202</a>, <a href="#op203">203</a>, <a href="#op207">207</a>, <a href="#op227">227</a>, <a href="#op228">228</a>, <a href="#op299">299</a>. These are the SPTURNI2 and SPMAGGLO BAM animations.
<br/>
<br/>The effect modifies <a href="../files/ids/bgee/stats.htm#174">PREVENT_SPELL_PROTECTION_EFFECTS</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op292" class="opcode">
		<span class="opnumberdata">#292 (0x124)</span>

		<span class="opnamedata">Protection: Backstab</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op292">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Makes the targeted creature(s) immune to backstabbing.
<br/>
<br/>The effect modifies <a href="../files/ids/bgee/stats.htm#175">IMMUNITY_TO_BACKSTAB</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op293" class="opcode">
		<span class="opnumberdata">#293 (0x125)</span>

		<span class="opnamedata">Script: Enable Offscreen AI</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op293">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will still run scripts when off-screen and out of combat.
<br/>
<br/>The effect modifies <a href="../files/ids/bgee/stats.htm#183">PREVENT_AI_SLOWDOWN</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>Creatures in EE run scripts as long as they are in the current area, <a href="#op293">opcode #293</a> does not alter this, nor allow their scripts to run while they are in different areas.</li>
	<li>However, creatures without this opcode attached will run scripts at a considerably slower rate (about &frac13; or &frac14; rate).</li>
	<li>Moreover, it looks like off-screen creatures move only at halved speed (which might be true for other actions as well). With this opcode creatures seem to move and act at the same speed as on-screen.</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op294" class="opcode">
		<span class="opnumberdata">#294 (0x126)</span>

		<span class="opnamedata">Spell Effect: Existance Delay Override</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op294">IWD1</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Constant Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Existance is the verbal constant group from <code>69</code> to <code>74</code> (or <code>70–74</code>). These sounds are randomly played (for non global, alive characters, when not in cutscene or dialog). This stat tunes the frequency of these random strings.
<br/>Known values for <code>Constant Value</code> are:
<ul>
	<li>-1 &longrightarrow; no existance sounds</li>
	<li>0 &longrightarrow; standard existance sound frequency</li>
	<li>Other values &longrightarrow; random existance sound frequency (the higher the rarer)</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
The effect modifies <a href="../files/ids/bgee/stats.htm#184">EXISTANCE_DELAY_OVERRIDE</a>, unless <code>Constant Value</code> is set to <code>1</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op295" class="opcode">
		<span class="opnumberdata">#295 (0x127)</span>

		<span class="opnamedata">Graphics: Disable Permanent Death</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op295">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This targeted creature(s) will never suffer a permanent death (and will therefore always remain resurrectable) – exceptions include petrification and freeze-death.
<br/>
<br/>The effect modifies <a href="../files/ids/bgee/stats.htm#186">NO_PERMANENT_DEATH</a> to <code>Stat Value</code>.<br/>
<code>Timing Mode</code> should be set to <code>9 (Permanent after Death)</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op296" class="opcode">
		<span class="opnumberdata">#296 (0x128)</span>

		<span class="opnamedata">Graphics: Protection from Specific Animation</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd1totl.htm#op296">IWD1</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Provides the targeted creature(s) with immunity to <a href="op215.html">opcode #215</a> effects with a matching "Resource" specified by the <code>resource</code> key.



<div class="note info">
  <div>
    <strong>Note:</strong> 
It does not remove any <a href="op215.html">opcode #215</a> effect already present on the targeted creature.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
It cannot block animations from any other source.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op297" class="opcode">
		<span class="opnumberdata">#297 (0x129)</span>

		<span class="opnamedata">Spell Effect: Immunity to Turn Undead</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op297">IWD2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Makes the targeted creature(s) immune to the Turn Undead effect.
<br/>
<br/>The effect modifies <a href="../files/ids/bgee/stats.htm#187">IMMUNE_TO_TURN_UNDEAD</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op298" class="opcode">
		<span class="opnumberdata">#298 (0x12A)</span>

		<span class="opnamedata">Spell Effect: Execute Script cut250a</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="iwd2.htm#op298">IWD2</a>
			
		
			
			
			
				<a class="opvariant" href="bg2tob.htm#op298">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Executes script <code>"cut250a.bcs"</code>. By default this script teleports the party to the Pocket Plane area (<code>AR4500</code>).



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Game will become locked in cutscene mode if <code>"cut250a.bcs"</code> doesn’t exist.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op299" class="opcode">
		<span class="opnumberdata">#299 (0x12B)</span>

		<span class="opnamedata">Spell Effect: Chaos Shield</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op299">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Shield Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Icon</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect defends against wild surges and displays an associated icon as specified by the <code>Icon</code> parameter.
<br/>Known values for <code>Icon</code> are:
<ul>
	<li>0 &longrightarrow; Normal Chaos Shield</li>
	<li>1 &longrightarrow; Improved Chaos Shield</li>
</ul>
<br/>
The effect modifies <a href="../files/ids/bgee/stats.htm#189">CHAOS_SHIELD</a>.
<br/>



<div class="note info">
  <div>
    <strong>Info:</strong> 
It displays animation <code>"SPTURNI2.BAM"</code> (Spell Turning Disk).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
It does not directly block <a href="#op281">opcode #281</a> (or <a href="#op280">opcode #280</a>), it blocks the wild surge itself, which can be natural or forced.<br />
Surges it prevents do not count towards the “Next Spell” option of <a href="#op280">opcode #280</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op300" class="opcode">
		<span class="opnumberdata">#300 (0x12C)</span>

		<span class="opnamedata">Spell Effect: NPCBump</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Unknown</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect allows the targetted creature(s) to push other creatures out of the way while moving.
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#190">NPC_BUMP</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op301" class="opcode">
		<span class="opnumberdata">#301 (0x12D)</span>

		<span class="opnamedata">Stat: Critical Hit Modifier</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op301">BG2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Condition</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Weapon Category</span><br />
		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Attack Type</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect improves the Critical Hit chances. 
<br/>Critical hits will occur on a roll (on a <code>1d20</code>) greater or equal to: <code>20 - 'Statistic Modifier'</code>.
<br/>Known values for <code>Condition</code> are:
<ul>
	<li>0 &longrightarrow; Apply Critical Hit chance for both hands</li>
	<li>1 &longrightarrow; Apply Critical Hit chance only for this weapon</li>
</ul>

<br/>Known values for <code>Attack Type</code> are:
<ul>
	<li>0 &longrightarrow; Any attack type</li>
	<li>1 &longrightarrow; Melee attack only</li>
	<li>2 &longrightarrow; Ranged attack only</li>
	<li>3 &longrightarrow; Magical attack only</li>
</ul>

<br/>(External <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s) Known values for <code>Weapon Category</code> are defined in <a href="../files/ids/bgee/itemcat.htm">ITEMCAT.IDS</a>.

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#146">CRITICALHITBONUS</a>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
In v2.3 and prior, only the latest instance of this opcode applies. In v2.5+, all instances stack together.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op302" class="opcode">
		<span class="opnumberdata">#302 (0x12E)</span>

		<span class="opnamedata">Item: Can Use Any Item</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op302">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) can use any item.
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#191">USE_ANY_ITEM</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
It does not bypass item restrictions from <a href="../files/2da/2da_bgee/item_use.htm">ITEM_USE.2DA</a>, Ability Score/Level requirements, or to scribing spells of opposition schools.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op303" class="opcode">
		<span class="opnumberdata">#303 (0x12F)</span>

		<span class="opnamedata">Spell Effect: Backstab Every Hit</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op303">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) will backstab with every hit.
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#192">ASSASSINATE</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
Creature must still be using a weapon valid for backstabbing.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>Backstabs no longer require the creature to be invisible.</li>
	<li>Sneak Attacks no longer require the creature to be flanking their target.</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op304" class="opcode">
		<span class="opnumberdata">#304 (0x130)</span>

		<span class="opnamedata">Mass Raise Dead</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect will raise multiple dead Party Members (PCs).
 </div>
		<hr />

	</div>

	<div id="op305" class="opcode">
		<span class="opnumberdata">#305 (0x131)</span>

		<span class="opnamedata">Stat: THAC0 Modifier (Off-Hand)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>THAC0 = THAC0 + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>THAC0 = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>THAC0 = (THAC0 * 'Statistic Modifier' value) / 100</code></li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op306" class="opcode">
		<span class="opnumberdata">#306 (0x132)</span>

		<span class="opnamedata">Stat: THAC0 Modifier (On-Hand)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>THAC0 = THAC0 + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>THAC0 = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>THAC0 = (THAC0 * 'Statistic Modifier' value) / 100</code></li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op307" class="opcode">
		<span class="opnumberdata">#307 (0x133)</span>

		<span class="opnamedata">Ranger Tracking Ability</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Range</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Activates the Tracking Ability. A string from <a href="../files/2da/2da_bgee/tracking.htm">TRACKING.2DA</a> is shown, and arrows appear along the screen edge pointing to any creatures within range. The units of the range parameter are unknown.



<div class="note info">
  <div>
    <strong>Info:</strong> 
The arrow effect may be hardcoded to spell <code>"SPCL922.SPL"</code>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The file <a href="../files/2da/2da_bgee/tracking.htm">TRACKING.2DA</a> lists the string reference that shows what information is learned from using this effect for each area.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op308" class="opcode">
		<span class="opnumberdata">#308 (0x134)</span>

		<span class="opnamedata">Protection: From Tracking</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op308">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Radius</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Protects the targeted creature(s) from the Tracking arrows effect (has no effect on the area string displayed).
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#195">IMMUNE_TO_TRACKING</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>




<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Using this effect <code>While Equipped</code> on an item will crash the game.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
Arrows do not display when using <code>permanent</code> or <code>equipped</code> timing modes.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
This effect is not saved to file, it will be lost if you save &amp; reload.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<code>Radius</code>: same scale as Area-Effect projectiles (<code>16 units = 1ft</code>).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op309" class="opcode">
		<span class="opnumberdata">#309 (0x135)</span>

		<span class="opnamedata">Script: Modify Local Variable</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Modifies the local variable specified by the <code>resource</code> key to the value specified by the <code>Value</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Set Local (to <code>Value</code>)</li>
	<li>1 &longrightarrow; Increment Local (by <code>Value</code>)</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		Since the <code>resource</code> key can only be 8 characters long maximum, you can not set a variable with this Effect that has a name longer than this amount.
		<ul>
			<li>
				You can use the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70">Resource 2</a></code> field of external EFF files for an additional 8 characters of variable name.
				<ul>
					<li>
						You can use the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x78">Resource 3</a></code> field of external EFF files for an additional 8 characters of variable name.
						<ul>
							<li>As a result, it cannot modify variables more than 24 characters long.</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
This effect is always instantaneous (local variables are stored internally, not as effects, while the game is running). All local variables for a <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> are stored as <a href="#op187">opcode #187</a> effects on that <a href="../file_formats/ie_formats/cre_v1.htm">CRE</a> whenever the game is saved, which will trigger as soon as the game is loaded.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
<code>Value</code> can store integers or coordinates. Coordinates are stored as first 2 bytes X, last 2 bytes Y (f.i.: <code>310 + (30 &lt;&lt; 16)</code>).

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op310" class="opcode">
		<span class="opnumberdata">#310 (0x136)</span>

		<span class="opnamedata">Protection: from Timestop</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The targeted creature(s) becomes immune to time-stop.
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#197">IMMUNE_TO_TIME_STOP</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value.<br />
If you set it to <code>0</code>, you will disable the effect (for its duration). For instance, a Time Stop spell that applies (to everyone) op#310 with <code>Stat Value = 0</code> for <code>18s</code> would trap those such as Demogorgon in the time stop.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Creatures are naturally immune to their own Time Stop effects, without needing this effect or setting <a href="../files/ids/bgee/stats.htm#197">IMMUNE_TO_TIME_STOP</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op311" class="opcode">
		<span class="opnumberdata">#311 (0x137)</span>

		<span class="opnamedata">Spell: Random Wish Spell</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect casts a wish spell (<code>SPWISH01 – SPWISH25</code>), selected based on the casting creatures Wisdom attribute, as outlined below.
<br/><br/>

<pre>
SPWISHxx    MinWis    MaxWis
01          10        25
02          10        25
03          10        25
04          10        25
05          0         25
06          10        25
07          0         25
08          15        25
09          0         25
10          0         25
11          0         25
12          0         25
13          0         25
14          0         25
15          15        25
16          0         25
17          0         25
18          0         17
19          0         9
20          0         17
21          0         17
22          0         9
23          0         9
24          0         9
25          0         25
</pre>
 </div>
		<hr />

	</div>

	<div id="op312" class="opcode">
		<span class="opnumberdata">#312 (0x138)</span>

		<span class="opnamedata">Crash</span>

		
		
		
		
			
				
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op312">BG2</a>
			
		
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undefined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The effect modifies <a href="../files/ids/bgee/stats.htm#198">IMMUNE_TO_SEQUESTER</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op313" class="opcode">
		<span class="opnumberdata">#313 (0x139)</span>

		<span class="opnamedata">High-Level Ability Denotation</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Undetermined</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Undetermined</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect denotes that the high level ability specified by the <code>resource</code> key has been gained. Used for pre-requisites/count limits.



<div class="note info">
  <div>
    <strong>Info:</strong> 
Automatically applied by the engine when selecting HLAs, but can be manually applied for the same effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op314" class="opcode">
		<span class="opnumberdata">#314 (0x13A)</span>

		<span class="opnamedata">Spell: Golem Stoneskin</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) a number of protections from physical attacks, as specified by the <code>Amount</code> field.<br />
This opcode maintains <a href="../files/ids/bgee/stats.htm#199">STONESKINSGOLEM</a> to the amount of skins left.



<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Do not use this effect in conjunction with the Juggernaut Golem Manual as it will corrupt the use of that item.<br />
In particular, the Juggernaut Golem <code>"TOMEGOL4.CRE"</code> is scripted by <code>"TOMEGOL4.BCS"</code> to <code><a href="../scripting/actions/bgeeactions.htm#131">Kill()</a></code> itself if its Summoner and no Party Members have <a href="../files/ids/bgee/stats.htm#199">STONESKINSGOLEM</a> set to a non-zero value.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op315" class="opcode">
		<span class="opnumberdata">#315 (0x13B)</span>

		<span class="opnamedata">Graphics: Animation Removal</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect will remove the animation of the targeted creature(s).
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#201">STAT #201</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op316" class="opcode">
		<span class="opnumberdata">#316 (0x13C)</span>

		<span class="opnamedata">Spell: Magical Rest</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect will refresh spells and remove any fatigue.
 </div>
		<hr />

	</div>

	<div id="op317" class="opcode">
		<span class="opnumberdata">#317 (0x13D)</span>

		<span class="opnamedata">State: Haste 2</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect is functionally identical to <a href="#op16">opcode #16</a>. The only difference between the two is that some ITMs/SPLs/abilities will specifically block/remove <a href="#op16">opcode #16</a> but not <a href="#op317">opcode #317</a> (e.g., Monks are immune to <a href="#op16">opcode #16</a> but not <a href="#op317">opcode #317</a>).
 </div>
		<hr />

	</div>

	<div id="op318" class="opcode">
		<span class="opnumberdata">#318 (0x13E)</span>

		<span class="opnamedata">Protection from Resource</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bg2tob.htm#op318">BG2</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The creature type specified by the <code>Type</code> field becomes immune to the spell or item specified in the <code>Resource</code> field. See <a href="#op324">opcode #324</a> for more information.



<div class="note info">
  <div>
    <strong>Info:</strong> 
This opcode can block <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files too.<br />
In order to do so, both the <code>Resource</code> field of <a href="#op318">opcode #318</a> and the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x94">Parent Resource</a></code> field of the EFF file must be the same string (max. 8 character long). Unlike <a href="#op206">opcode #206</a>, this one can innately block any type of resource (<code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_0">None</a>/<a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_1">Spell</a>/<a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_2">Item</a></code>).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op319" class="opcode">
		<span class="opnumberdata">#319 (0x13F)</span>

		<span class="opnamedata">Usability: Item Usability</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Description note</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> When <code>Power</code> is set to <code>1</code>, this opcode restricts the item to creature(s) matching the object identifiers. When <code>Power</code> is set to <code>0</code>, creature(s) matching the object identifiers cannot use the item. The string to display when an invalid creature attempts to use the item is held in <code>0x2C</code>.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a></li>
	<li>10 &longrightarrow; Actor's name</li>
	<li>11 &longrightarrow; Actor's scripting name (8 maximum in <code>resource</code> field)</li>
</ul>

<br/>The message defined in <code>Description note</code> will be displayed whenever this opcode is triggered.



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>If <code>IDS File</code> is set to <code>10</code> and the strref held in <code>parameter1</code> is set to <code>"-1" (None)</code>, then you're targeting player-created characters (e.g., "CHARNAME").</li>
	<li>If <code>IDS File</code> is set to <code>11</code> and no death variable is specified in the <code>resource</code> field, then you're targeting player-created characters (e.g., "CHARNAME").</li>
</ul>

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
This opcode must be attached to the item itself, and does not work when applied in <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files (such as through <a href="op177.html">opcode 177</a>).

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op320" class="opcode">
		<span class="opnumberdata">#320 (0x140)</span>

		<span class="opnamedata">Change Weather</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Weather</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Changes the weather of the current area to the weather specified by <code>Weather</code>.
<br/>Known values for <code>Weather</code> are:
<ul>
	<li>0 &longrightarrow; Normal</li>
	<li>1 &longrightarrow; Rain</li>
	<li>2 &longrightarrow; Snow</li>
	<li>3 &longrightarrow; Fog</li>
</ul>

 <div class="note info">
  <div>
    <strong>Note:</strong> 
The action has no effect if <code class="language-plaintext highlighter-rouge">Weather</code> has been disabled in the game options.
In addition, Fog option requires <code class="language-plaintext highlighter-rouge">Enable Fog</code> to be enabled in the game options.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op321" class="opcode">
		<span class="opnumberdata">#321 (0x141)</span>

		<span class="opnamedata">Removal: Effects specified by Resource</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

Removes effects from the resource specified by the <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> key, in the style specified by the <code>Type</code> field. Both <a href="../file_formats/ie_formats/spl_v1.htm"><code>SPL</code></a> and <a href="../file_formats/ie_formats/itm_v1.htm"><code>ITM</code></a> resources are considered.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>
		0 &longrightarrow; Default
		<ul>
			<li>Will remove effects applied with any <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC"><code>Timing Mode</code></a></li>
		</ul>
	</li>
	<li>
		1 &longrightarrow; Equipped effects list only
		<ul>
			<li>Will only remove effects applied with <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC_2"><code>Timing Mode 2</code></a></li>
		</ul>
	</li>
	<li>
		2 &longrightarrow; Timed effects list only
		<ul>
			<li>Will remove effects applied with any <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC"><code>Timing Mode</code></a>, excluding <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC_2"><code>2</code></a> and <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC_9"><code>9</code></a></li>
		</ul>
	</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>
		It always needs to be the first effect for stacking prevention.
		<ul>
			<li><a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC"><code>Timing Mode</code></a> should be either <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC_0"><code>0</code></a> with <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xE"><code>duration</code></a><code>=0</code>, or <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC_1"><code>1</code></a>.</li>
		</ul>
	</li>
	<li>
		It will only look at effects attached directly to the creature.
		<ul>
			<li>
				Any <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> file filtered through an <a href="#op177">opcode #177</a>&sol;<a href="#op182">opcode #182</a>&sol;<a href="#op183">opcode #183</a> effect will not be looked at.
				<ul>
					<li>Only the <a href="#op177">opcode #177</a>&sol;<a href="#op182">opcode #182</a>&sol;<a href="#op183">opcode #183</a> effect itself will be checked.</li>
				</ul>
			</li>
			<li>Any <a href="../file_formats/ie_formats/eff_v2.htm"><code>EFF</code></a> file applied by an <a href="#op248">opcode #248</a>&sol;<a href="#op249">opcode #249</a>&sol;<a href="#op272">opcode #272</a> effect will be looked at, as they get attached directly to the corresponding creature.</li>
		</ul>
	</li>
</ul>

  </div>
</div>



<div class="note important">
  <div>
    <strong>Important:</strong> 
If an <a href="../file_formats/ie_formats/itm_v1.htm"><code>ITM</code></a> file and a <a href="../file_formats/ie_formats/spl_v1.htm"><code>SPL</code></a> file share the same <code>resref</code> (f.i. <code>"spwi112.itm"</code> , <code>"spwi112.spl"</code>), and the <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> field of this opcode is set to <code>"spwi112"</code>, then it will remove effects from both resources (the engine doesn't care about the extension when checking the <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> field).
<ul>
	<li>You might want to keep it mind when using this opcode (you can potentially break things&hellip;)</li>
</ul>

  </div>
</div>




<div class="note warning">
  <div>
    <strong>Warning:</strong> 
Leaving the <a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_Resource"><code>resource</code></a> field empty will remove any effect on the creature without a parent resource. Weapon proficiencies, HLA markers, stealth, turn undead (paladin’s panic only) … Local variable effects are however safe.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op322" class="opcode">
		<span class="opnumberdata">#322 (0x142)</span>

		<span class="opnamedata">Evade Area of Effect</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

If present on a creature's effect list, this opcode enables extra logic when the creature is checking its saving throws against an effect.

<div style="margin-top: 0.5em">In particular &ndash; if an incoming effect:</div>
<ul>
    <li>
        Does <b>not</b> have any of the lower 5 bits of its <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x40"><code>Saving throw type</code></a> set
    </li>
    <li>
        <b>and</b> <code>BIT2</code> of its <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x5C"><code>Dispel/Resistance</code></a> field is set
    </li>
</ul>

&rightarrow; then the presence of this opcode causes the incoming effect's <a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x40"><code>Saving throw type</code></a>
to be shifted 5 bits to the right. The usual saving throw logic is subsequently applied to the shifted
<a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x40"><code>Saving throw type</code></a> contents.
 </div>
		<hr />

	</div>

	<div id="op323" class="opcode">
		<span class="opnumberdata">#323 (0x143)</span>

		<span class="opnamedata">Stat: Turn Undead Level</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Mode</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>TurnLevel = TurnLevel + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>TurnLevel = 'Statistic Modifier' value</code></li>
</ul>

<br/><br/>Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Normal: Effect functions as dictated by the <code>Type</code> field.</li>
	<li>1 &longrightarrow; Parameter #1 is incremented by the highest target level.</li>
</ul>

<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#55">TURNUNDEADLEVEL</a>.
<ul>
	<li>However, this stat does NOT include the amount provided by cleric/paladin levels (<code>effective turn undead level = <a href="../files/ids/bgee/stats.htm#55">TURNUNDEADLEVEL</a> + cleric/paladin turn amount</code>).</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Only Clerics and Paladins will display their Turn Undead level on the Record Screen.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op324" class="opcode">
		<span class="opnumberdata">#324 (0x144)</span>

		<span class="opnamedata">Protection: Immunity to Resource and Message</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The creature type specified by the <code>Type</code> field becomes immune to the spell or item specified in the <code>Resource</code> field. It also gives a message on successful resist.
<br/>Known values for <code>Stat Type</code> are defined in <a href="../files/2da/2da_bgee/splprot.htm">SPLPROT.2DA</a>. <a href="../files/2da/2da_bgee/splprot.htm">SPLPROT.2DA</a> uses three codes (labeled <code>STAT</code>, <code>VALUE</code> and <code>RELATION</code>) to define a targeting type.

<br/><br/><code>STAT</code> is either a straight stat value (listed in <a href="../files/ids/bgee/stats.htm">STATS.IDS</a>) or a pseudo stat of the to be targeted creature:
<ul>
  <li>0x100 &longrightarrow; source equals target</li>
  <li>0x101 &longrightarrow; source is not target</li>
  <li>0x102 &longrightarrow; circle size</li>
  <li>0x103 &longrightarrow; use two rows of <a href="../files/2da/2da_bgee/splprot.htm">SPLPROT.2DA</a></li>
  <li>0x104 &longrightarrow; negate 0x103</li>
  <li>0x105 &longrightarrow; source and target morale match</li>
  <li>0x106 &longrightarrow; <a href="../files/ids/bgee/areatype.htm">AREATYPE.IDS</a> (like outdoors, forest, etc)</li>
  <li>0x107 &longrightarrow; time of day (in hours)</li>
  <li>0x108 &longrightarrow; source and target ethical match</li>
  <li>0x109 &longrightarrow; evasion</li>
  <li>0x10a &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
  <li>0x10b &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
  <li>0x10c &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
  <li>0x10d &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
  <li>0x10e &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
  <li>0x10f &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
  <li>0x110 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
  <li>0x111 &longrightarrow; <a href="../files/ids/bgee/state.htm">STATE.IDS</a></li>
  <li>0x112 &longrightarrow; <a href="../files/ids/bgee/splstate.htm">SPLSTATE.IDS</a></li>
  <li>0x113 &longrightarrow; source and target allies</li>
  <li>0x114 &longrightarrow; source and target enemies</li>
  <li>0x115 &longrightarrow; summon creature limit</li>
  <li>0x116 &longrightarrow; chapter check</li>
</ul>

<br/><code>VALUE</code> is a number used to compare to the stat using a relational operator. Depending on the stat/operator it could be a bit value (hexadecimal allowed). If value is set to <code>"-1"</code>, then <code>Value</code> of the opcode will be used.

<br/><br/><code>RELATION</code> is an index to a relational operator:
<ul>
  <li>0 &longrightarrow; less or equal</li>
  <li>1 &longrightarrow; equal</li>
  <li>2 &longrightarrow; less</li>
  <li>3 &longrightarrow; greater</li>
  <li>4 &longrightarrow; greater or equal</li>
  <li>5 &longrightarrow; not equal</li>
  <li>6 &longrightarrow; binary less or equal (stat doesn't contain extra bits not in value)</li>
  <li>7 &longrightarrow; binary more or equal (stat contains all bits of value)</li>
  <li>8 &longrightarrow; binary match (at least one bit is common)</li>
  <li>9 &longrightarrow; binary not match (none of the bits are common)</li>
  <li>10 &longrightarrow; binary more (stat contains at least one bit not in value)</li>
  <li>11 &longrightarrow; binary less (stat doesn't contain all the bits of value)</li>
</ul>



<div class="note info">
  <div>
    <strong>Info:</strong> 
This opcode can block <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files too.<br />
In order to do so, both the <code>Resource</code> field of <a href="#op324">opcode #324</a> and the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x94">Parent Resource</a></code> field of the EFF file must be the same string (max. 8 character long). Unlike <a href="#op206">opcode #206</a>, this one can innately block any type of resource (<code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_0">None</a>/<a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_1">Spell</a>/<a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x90_2">Item</a></code>).

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
  <li>As of v2.6, the name of the correct resource is displayed instead of the name of the resource the effect instance is located in.</li>
  <li>When displaying its feedback message, it will attempt to identify the name of the parent spell if this effect is located in a child spell with no name. It does in the following manner: if the effect is used within a spell that has no name but there is a spell in the game whose <code>resname</code> is one character shorter with a valid name, then it will display that name. This feature is used by Sunfire (<code>"SPWI523D.spl"</code>) in IWD:EE to check for thief evasion.</li>
  <ul>
    <li>This feature will also attempt to look for an identical <code>"resname.itm"</code> and display that (identified/unidentified) name if the <code>.spl</code> the effect is in doesn't have a valid name.</li>
  </ul>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op325" class="opcode">
		<span class="opnumberdata">#325 (0x145)</span>

		<span class="opnamedata">Stat: Save vs. all</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters all saving throws by the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:

<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Save = Save + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Save = 'Statistic Modifier' value</code></li>
	<li>2 &longrightarrow; Percentage Modifier: <code>Save = (Save * 'Statistic Modifier' value) / 100</code></li>
	<li>3 &longrightarrow; Increment Instantly: <code>Save = Save + 'Statistic Modifier' value</code></li>
</ul>

<p>
	<code>Statistic Modifier</code> can be positive or negative.
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type = 3</code>, this opcode processes before saving throws are checked for effects proceeding it in the same effect stack; when <code>Type = 0</code>, it processes after.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op326" class="opcode">
		<span class="opnumberdata">#326 (0x146)</span>

		<span class="opnamedata">Apply Effects List</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The creature type specified by the <code>Stat Type</code> field will be affected by the spell in the <code>Resource</code> field. See <a href="#op324">opcode #324</a> for more information.

<p>
  The spell specified by the <code>resource</code> field is cast at the same level as the current effect, regardless of <code><a href="../file_formats/ie_formats/spl_v1.htm#splv1_Header_0x1C">Spell type</a></code>.
</p>

<p>
  Unlike <a href="#op146">opcode #146</a>, when targeting <code>Self</code> or <code>Original Caster</code>, the <code>resource</code> is still cast on the ability target, not the caster.
</p>

<p>
  For the purpose of dispelling effects only, the opcode target (not necessarily the caster) determines the caster level for effects in its <code>resource</code>. It also determines the "Caster location" saved to the V2 effect on creatures. It doesn't transfer full ownership though – the caster is still credited for damage.
</p>

<p>
  If the <code>resource</code> uses projectile <code>#0 (default)</code>:
  <ul>
    <li>The <code>resource</code> will ignore its <code>projectile</code> field, defaulting to use projectile <code>#1|None</code> for all effects.</li>
    <li>Effects in the <code>resource</code> that target <code>Self</code>, <code>Projectile Target</code>, or <code>Original Caster</code> will all affect the target of this effect.</li>
    <li>If this effect is reflected/turned, the target of effects in the <code>resource</code> is reflected.</li>
  </ul>
  Otherwise:
  <ul>
    <li>Effects in the <code>resource</code> that target <code>Self</code> will affect the target of this effect, not the caster.</li>
    <li>If this effect is reflected/turned, only effects in the <code>resource</code> targeting <code>Original Caster</code> will be affected, now affecting the target.</li>
  </ul>
</p>



<div class="note info">
  <div>
    <strong>Note:</strong> 
If this effect is applied through <a href="#op177">opcode #177</a>, the spell specified by the <code>resource</code> key is cast at the level specified at offset <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xC8">0xc8</a></code> of the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>.

  </div>
</div>




<div class="note important">
  <div>
    <strong>Important:</strong> 
<ul>
  <li>Unlike <a href="#op146">opcode #146</a><code><small><sup>*</sup></small>p2=1</code>, when this opcode gets reflected (<a href="#op197">opcode #197</a>, <a href="#op198">opcode #198</a>, <a href="#op199">opcode #199</a>, <a href="#op202">opcode #202</a>, <a href="#op203">opcode #203</a> and <a href="#op207">opcode #207</a>), the spell specified by the <code>resource</code> key is cast at the caster's Casting Level, and it will also affect the original target (as if it wasn't reflected).</li>
  <li>When this opcode is applied through <a href="#op177">opcode #177</a> and gets reflected (<a href="#op197">opcode #197</a>, <a href="#op198">opcode #198</a>, <a href="#op199">opcode #199</a>, <a href="#op202">opcode #202</a>, <a href="#op203">opcode #203</a> and <a href="#op207">opcode #207</a>), the spell specified by the <code>resource</code> key is cast at the level specified at offset <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xC8">0xc8</a></code> of the <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>, and it will also affect the original target (as if it wasn't reflected).</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
  <li>
    Effects in the <code>resource</code> will also bypass Magic Resistance, of every target, as if the caster targeted themselves, regardless of who they target with the spell or this effect.
    <ul>
      <li>Setting the <code><a href="../file_formats/ie_formats/pro_v1.htm#Behavior_BIT4">Ignore Center</a></code> bit in the subspell's projectile will force its effects to check Magic Resistance on every target, even if the caster did target themselves. Though as its primary function is to cause the projectile to ignore the caster (not "center"), it still won't affect them if it's <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">area-effect</a></code>.</li>
    </ul>
  </li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
The only meaningful <code>Timing Mode</code>s for this opcode are: <code>0|Instant/Limited</code> with <code>duration = 0</code>, <code>1|Instant/Permanent</code>, or <code>4|Delayed/Permanent</code>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op327" class="opcode">
		<span class="opnumberdata">#327 (0x147)</span>

		<span class="opnamedata">Graphics: Icewind Visual Spell Hit (plays sound)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Target</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Projectile Index</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Shows the lighting effect specified by the <code>Projectile Index</code> value. These effects are usually used for spell hits based on the spell school.
<br/>Functions similar to <a href="#op140">opcode #140</a>, with the <code>Use Projectile</code> option, except its <code>Projectile Index</code> is <code>4096 (0x1000)</code> less, instead of the usual <code>+1</code>. It can't display projectiles <code>0 – 4095</code>.

<br/>Known values for <code>Target</code> are:
<ul>
	<li>0 &longrightarrow; Launch projectile at effect target (doesn't work in Area-Effect spells)</li>
	<li>1 &longrightarrow; Affected targets launch projectile at ability target (<code>creature</code> or <code>location</code>). Use <code>Self</code> to generate just one projectile.</li>
</ul>

<code>Parameter2: Projectile Index (-4096)</code>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Like <a href="#op140">opcode #140</a>/<a href="#op141">opcode #141</a>, it doesn’t deliver any effects. Not affected by <a href="#op16">Haste</a>/<a href="#op40">Slow</a>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
It looks like the <code>Special</code> field is meant to override <code>Projectile Index</code>, using values straight from <a href="../files/ids/bgee/projectl.htm">PROJECTL.IDS</a> (without the <code>4096</code> offset), but it’s not actually implemented.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op328" class="opcode">
		<span class="opnumberdata">#328 (0x148)</span>

		<span class="opnamedata">State: Set Extended or Spell State</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Mode</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets the extended or spell state of the targetted creature(s) to the value specified by the <code>Type</code> field, depending on the <code>Mode</code> value.
<br/>These effects could be detected by the gamescript trigger <a href="../scripting/triggers/bgeetriggers.htm#0x40E1">ExtendedStateCheck()</a> (see <a href="../files/ids/bgee/extstate.htm">EXTSTATE.IDS</a>).
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Chaotic Command</li>
	<li>1 &longrightarrow; Miscast Magic</li>
	<li>2 &longrightarrow; Pain</li>
	<li>3 &longrightarrow; Greater Malison</li>
	<li>4 &longrightarrow; Blood Rage</li>
	<li>5 &longrightarrow; Cat's Grace</li>
	<li>6 &longrightarrow; Mold Touch</li>
	<li>7 &longrightarrow; Shroud of Flame</li>
</ul>

<br/>If <code>Mode</code> is set to <code>1</code>, then this effect behaves like IWD2 Set State effect (see <a href="../files/ids/bgee/splstate.htm">SPLSTATE.IDS</a>).



<div class="note info">
  <div>
    <strong>Info:</strong> 
<ul>
	<li>
		The <code>IWD mode</code> Spell States are interchangeable with their <code>IWD2 mode</code> counterparts.
		<ul>
			<li>However, keep in mind that the values do not match. Let us consider "Shroud of Flame" as an example. You must use <code>7</code> with <code>IWD mode</code> and <code>47</code> with <code>IWD2 mode</code>.</li>
		</ul>
	</li>
	<li>The <code>IWD mode</code> states are bits <code>18–25</code> from <a href="../files/ids/bgee/extstate.htm">EXTSTATE.IDS</a>, all of which are hardcoded.</li>
	<li>
		Each EXTSTATE has a hard-coded two-way mapping to a SPLSTATE, even though you can't actually set most of the EXTSTATEs directly:<br />
		<table border="1" width="98%">
			<colgroup>
				<col width="5%" />
				<col width="12%" />
				<col width="*" />
			</colgroup>
			<thead>
				<tr>
					<th>Hex value</th>
					<th>Bit</th>
					<th>Label</th>
					<th>Spell state</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>0x00000001</td>
					<td>BIT0</td>
					<td>STATE_PRAYER</td>
					<td>12 – BENEFICIAL_PRAYER</td>
				</tr>
		
				<tr>
					<td>0x00000002</td>
					<td>BIT1</td>
					<td>STATE_PRAYER_BAD</td>
					<td>13 – DETRIMENTAL_PRAYER</td>
				</tr>
		
				<tr>
					<td>0x00000004</td>
					<td>BIT2</td>
					<td>STATE_RECITATION</td>
					<td>14 – BENEFICIAL_RECITATION</td>
				</tr>
		
				<tr>
					<td>0x00000008</td>
					<td>BIT3</td>
					<td>STATE_RECITATION_BAD</td>
					<td>15 – DETRIMENTAL_RECITATION</td>
				</tr>
		
				<tr>
					<td>0x00000010</td>
					<td>BIT4</td>
					<td>STATE_EYE_OF_THE_MIND</td>
					<td>48 – EYE_OF_THE_MIND</td>
				</tr>
		
				<tr>
					<td>0x00000020</td>
					<td>BIT5</td>
					<td>STATE_EYE_OF_THE_SWORD</td>
					<td>49 – EYE_OF_THE_SWORD</td>
				</tr>
		
				<tr>
					<td>0x00000040</td>
					<td>BIT6</td>
					<td>STATE_EYE_OF_THE_MAGE</td>
					<td>50 – EYE_OF_THE_MAGE</td>
				</tr>
		
				<tr>
					<td>0x00000080</td>
					<td>BIT7</td>
					<td>STATE_EYE_OF_VENOM</td>
					<td>51 – EYE_OF_VENOM</td>
				</tr>
		
				<tr>
					<td>0x00000100</td>
					<td>BIT8</td>
					<td>STATE_EYE_OF_THE_SPIRIT</td>
					<td>52 – EYE_OF_THE_SPIRIT</td>
				</tr>
		
				<tr>
					<td>0x00000200</td>
					<td>BIT9</td>
					<td>STATE_EYE_OF_FORTITUDE</td>
					<td>53 – EYE_OF_FORTITUDE</td>
				</tr>
		
				<tr>
					<td>0x00000400</td>
					<td>BIT10</td>
					<td>STATE_EYE_OF_STONE</td>
					<td>54 – EYE_OF_STONE</td>
				</tr>
		
				<tr>
					<td>0x00000800</td>
					<td>BIT11</td>
					<td>STATE_ANIMAL_RAGE</td>
					<td>39 – ANIMAL_RAGE</td>
				</tr>
		
				<tr>
					<td>0x00001000</td>
					<td>BIT12</td>
					<td>STATE_SUPPRESS_HP_INFO</td>
					<td>35 – SUPPRESS_HP_INFO</td>
				</tr>
		
				<tr>
					<td>0x00002000</td>
					<td>BIT13</td>
					<td>STATE_BERSERK_ALWAYS_ACTIVE</td>
					<td>33 – BERSERK_ALWAYS_ACTIVE</td>
				</tr>
		
				<tr>
					<td>0x00004000</td>
					<td>BIT14</td>
					<td>STATE_SNEAK_ATTACK_IMMUNITY</td>
					<td>40 – SNEAK_ATTACK_IMMUNITY</td>
				</tr>
		
				<tr>
					<td>0x00008000</td>
					<td>BIT15</td>
					<td>STATE_CYNICISM_EQUIPPED</td>
					<td>255 – CYNICISM_EQUIPPED</td>
				</tr>
		
				<tr>
					<td>0x00010000</td>
					<td>BIT16</td>
					<td>STATE_UNSTUN_ON_DAMAGE</td>
					<td>37 – UNSTUN_ON_DAMAGE</td>
				</tr>
		
				<tr>
					<td>0x00020000</td>
					<td>BIT17</td>
					<td>STATE_DEAFENED</td>
					<td>38 – DEAFENED</td>
				</tr>
		
				<tr>
					<td>0x00040000</td>
					<td>BIT18</td>
					<td>STATE_CHAOTIC_COMMANDS</td>
					<td>41 – CHAOTIC_COMMANDS</td>
				</tr>
		
				<tr>
					<td>0x00080000</td>
					<td>BIT19</td>
					<td>STATE_MISCAST_MAGIC</td>
					<td>42 – MISCAST_MAGIC</td>
				</tr>
		
				<tr>
					<td>0x00100000</td>
					<td>BIT20</td>
					<td>STATE_PAIN</td>
					<td>43 – PAIN</td>
				</tr>
		
				<tr>
					<td>0x00200000</td>
					<td>BIT21</td>
					<td>STATE_MALISON</td>
					<td>44 – MALISON</td>
				</tr>
		
				<tr>
					<td>0x00400000</td>
					<td>BIT22</td>
					<td>STATE_BLOOD_RAGE</td>
					<td>34 – BLOOD_RAGE</td>
				</tr>
		
				<tr>
					<td>0x00800000</td>
					<td>BIT23</td>
					<td>STATE_CATS_GRACE</td>
					<td>45 – CATS_GRACE</td>
				</tr>
		
				<tr>
					<td>0x01000000</td>
					<td>BIT24</td>
					<td>STATE_MOLD_TOUCH</td>
					<td>46 – MOLD_TOUCH</td>
				</tr>
		
				<tr>
					<td>0x02000000</td>
					<td>BIT25</td>
					<td>STATE_SHROUD_OF_FLAME</td>
					<td>47 – SHROUD_OF_FLAME</td>
				</tr>
		
				<tr>
					<td>0x04000000</td>
					<td>BIT26</td>
					<td>STATE_STATIC_CHARGE</td>
					<td>116 – STATIC_CHARGE</td>
				</tr>
		
				<tr>
					<td>0x08000000</td>
					<td>BIT27</td>
					<td>STATE_DOESNT_AWAKEN_ON_DAMAGE</td>
					<td>36 – DOESNT_AWAKEN_ON_DAMAGE</td>
				</tr>
			</tbody>
		</table>
	</li>
</ul>

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op329" class="opcode">
		<span class="opnumberdata">#329 (0x149)</span>

		<span class="opnamedata">Spell Effect: Slow Poison</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Slow Factor</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the slow poison effect to the targeted creature(s), using the <code>Slow Factor</code> field.



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode writes over the <code>Frequency Multiplier</code> field of any <a href="#op25">opcode #25</a> effects on the targeted creature. As a result, it is useless against <a href="#op25">opcode #25</a> whose <code>Type</code> is <code>0</code> or <code>1</code>, as well as any <a href="#op25">Poison effect</a> that is used through <a href="#op177">opcode #177</a>, as <code>Type=4</code> requires.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
It can also accelerate <a href="#op25">Poisons</a> if their <code>Frequency Multiplier</code> field was already higher than the value specified in <a href="#op329">opcode #329</a>.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
It does not alter the duration of the <a href="#op25">poison</a>, nor does it affect any of the other frequency opcodes (<a href="#op78">78</a>/<a href="#op98">98</a>/<a href="#op272">272</a>).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op330" class="opcode">
		<span class="opnumberdata">#330 (0x14A)</span>

		<span class="opnamedata">Text: Float Text</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Strref</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Starting strref</span><br />
		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Count</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Displays the text specified by the <code>Strref</code> field, in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Default (show strref)</li>
	<li>1 &longrightarrow; Cynicism (show Cynicism strrefs)</li>
</ul>

About <code>Cynicism</code> option:
<ul>
	<li>Uses a random String Reference from between <code>24916 – 24940</code>.</li>
	<li>Triggers at random intervals throughout its duration.</li>
	<li>Maintains <a href="../files/ids/bgee/splstate.htm#255">CYNICISM_EQUIPPED</a> on the targeted creature(s).</li>
</ul>

If used from an external effect (<a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>), <code>Strref</code> is set to <code>0</code> and <code>Type</code> to <code>1</code>, the third parameter will
dictate the first strref and <code>Count</code> will dictate the count. Then the number of lines of <code>Count</code> will
be displayed starting with the strref in <code>Starting strref</code>.



<div class="note info">
  <div>
    <strong>Info:</strong> 
When <code>Type=0</code>, it is possible to colorize the string. In order to do so, follow the instructions concerning the colorization of the name of your character during <a href="https://gibberlings3.github.io/iesdp/appendices/charactercreation.htm">Character Creation</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op331" class="opcode">
		<span class="opnumberdata">#331 (0x14B)</span>

		<span class="opnamedata">Summon: Random Monster Summoning</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Count</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Mode</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Each CRE file has a <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x18">Creature Power Level</a></code> number. This effect summons a number of monsters depending on this value, the <code>special</code> parameter and if it is used in <a href="../file_formats/ie_formats/spl_v1.htm#splv1_Feature_Block">SPL</a> / <a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Feature_Block">ITM</a> or from an external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>.<br>
<br/>When used in <a href="../file_formats/ie_formats/spl_v1.htm#splv1_Feature_Block">SPL</a>/<a href="../file_formats/ie_formats/itm_v1.htm#itmv1_Feature_Block">ITM</a> files, known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Summon amount equal to <code>'Count' + Dice rolls</code></li>
	<li>1 &longrightarrow; Summon amount equal to <code>'Count' + Dice rolls</code></li>
	<li>2 &longrightarrow; Summon until <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x18">Creature Power Level</a></code> equals/exceeds Caster's Level</li>
</ul>

<br/>When used in external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files, known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Summon until <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x18">Creature Power Level</a></code> equals/exceeds <code>Count</code></li>
	<li>1 &longrightarrow; Summon amount equal to <code>'Count' + Dice rolls</code></li>
	<li>2 &longrightarrow; Summon until <code><a href="../file_formats/ie_formats/cre_v1.htm#CREV1_0_Header_0x18">Creature Power Level</a></code> equals/exceeds <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0xC8">Caster Level</a></code> field</li>
</ul>

<br/>The <code>Type</code> field sets which <a href="../file_formats/ie_formats/2da.htm">2DA</a> file to pick the creatures to summon from. The 2da files are listed in <a href="../files/2da/2da_bgee/smtables.htm">SMTABLES.2DA</a>.
<br/>If the <code>resource</code> field is filled, it will use a custom .2da to determine which monsters to summon.
<br/>If used from an external effect (.eff), the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x70">vvc</a></code> field controls the bam/vvc file played over the creatures when summoning.
<br/>If used from an external effect (.eff), the <code><a href="../file_formats/ie_formats/eff_v2.htm#effv2_Body_0x78">second vvc</a></code> field controls the bam file played over the target area when summoning.<br>



<div class="note info">
  <div>
    <strong>Note:</strong> 
As far as the <a href="../files/ids/bgee/ea.htm">allegiance</a> of the summoned creatures
is concerned, this opcode uses “Match Target”, which sets the summoned creature’s
allegiance to one of <a href="../files/ids/bgee/ea.htm#4">ALLY</a>, <a href="../files/ids/bgee/ea.htm#128">NEUTRAL</a>, or <a href="../files/ids/bgee/ea.htm#255">ENEMY</a>, based on the
summoner (whichever group the summoner belongs to).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op332" class="opcode">
		<span class="opnumberdata">#332 (0x14C)</span>

		<span class="opnamedata">Stat: Specific Damage Modifier</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Increases the damage caused by the character. The <code>Type</code> parameter defines which damage type is increased.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; All damage increased</li>
	<li>1 &longrightarrow; Fire damage</li>
	<li>2 &longrightarrow; Cold damage</li>
	<li>3 &longrightarrow; Electricity damage</li>
	<li>4 &longrightarrow; Acid damage</li>
	<li>5 &longrightarrow; Magic damage</li>
	<li>6 &longrightarrow; Poison damage</li>
	<li>7 &longrightarrow; Slashing damage</li>
	<li>8 &longrightarrow; Piercing damage</li>
	<li>9 &longrightarrow; Crushing damage</li>
	<li>10 &longrightarrow; Missile damage</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Modifier</code> is always a percentage, not a flat value. Multiple instances stack additively, i.e.: <code>+20% + 20% = +40%</code>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op333" class="opcode">
		<span class="opnumberdata">#333 (0x14D)</span>

		<span class="opnamedata">Spell Effect: Static Charge</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Number</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Level</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Delay</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Casts a secondary spell (default: <code>"original resource" + B</code>) on the target, for a number of strikes specified by the <code>Number</code> field. The spell will be cast once per <code>Delay</code> through its projectile.

<p>
	If a spell <code>Level</code> is not specified, then the spell will be cast at level 1 and the damage opcodes will inherit the dice values of this effect, otherwise the spell will be cast at the given level.
</p>

<p>
	<code>Delay</code> specifies the delay between hits, its default value is <code>6</code> (one round).
</p>



<div class="note important">
  <div>
    <strong>Important:</strong> 
When using this opcode, be aware of the following quirks:
<ul>
	<li>If <code>subspell's projectile = 0</code>, subspell effects targeting <code>Self|Projectile Target|Original Caster</code> will affect the effect target of <a href="#op333">opcode #333</a>.</li>
	<li>If <code>subspell's projectile != 0</code>, subspell effects targeting <code>Original Caster</code> will affect the effect target of <a href="#op333">opcode #333</a>.</li>

	<li>
		If <code>subspell's projectile != 0</code>, subspell effects targeting <code>Self</code> and <code>Projectile Target</code> will affect the ability target of spell containing <a href="#op333">opcode #333</a>. In particular:
		<ul>
			<li>
				SPL containing <a href="#op333">opcode #333</a> &Rightarrow; <code>target:Living Actor</code>; <a href="#op333">opcode #333</a> &Rightarrow; <code>target:Self</code><br/>
				Subspell is cast targeting the <code>Living Actor</code>
				<ul>
					<li>subspell: op#: <code>target:Self</code> &longrightarrow; affects targeted <code>Living Actor</code>.</li>
					<li>subspell: op#: <code>target:Projectile Target</code> &longrightarrow; affects targeted <code>Living Actor</code> if subspell's projectile is <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_2">single-target</a></code>, or subspell's projectile target(s) if it's <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">area-effect</a></code>.</li>
				</ul>
			</li>

			<li>
				SPL containing <a href="#op333">opcode #333</a> &Rightarrow; <code>target:Living Actor</code>; <a href="#op333">opcode #333</a> &Rightarrow; <code>target:Projectile Target</code><br/>
				Subspell is cast at each target of the projectile
				<ul>
					<li>subspell: op#: <code>target:Self</code> &longrightarrow; affects subspell's target.</li>
					<li>subspell: op#: <code>target:Projectile Target</code> &longrightarrow; affects subspell's target if subspell's projectile is <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_2">single-target</a></code>, or subspell's projectile target(s) if it's <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">area-effect</a></code>.</li>
				</ul>
			</li>

			<li>
				SPL containing <a href="#op333">opcode #333</a> &Rightarrow; <code>target:Target Point</code>; <a href="#op333">opcode #333</a> &Rightarrow; <code>target:Self</code><br/>
				Subspell is cast targeting yourself, not the target point
				<ul>
					<li>subspell: op#: <code>target:Self</code> &longrightarrow; affects <code>Self</code>.</li>
					<li>subspell: op#: <code>target:Projectile Target</code> &longrightarrow; affects <code>Self</code> if subspell's projectile is <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_2">single-target</a></code>, or subspell's projectile target(s) if it's <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">area-effect</a></code>.</li>
				</ul>
			</li>

			<li>
				SPL containing <a href="#op333">opcode #333</a> &Rightarrow; <code>target:Target Point</code>; <a href="#op333">opcode #333</a> &Rightarrow; <code>target:Projectile Target</code><br/>
				Subspell is cast at each target of the projectile
				<ul>
					<li>subspell: op#: <code>target:Self</code> &longrightarrow; affects subspell's target.</li>
					<li>subspell: op#: <code>target:Projectile Target</code> &longrightarrow; affects subspell's target if subspell's projectile is <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_2">single-target</a></code>, or subspell's projectile target(s) if it's <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">area-effect</a></code>.</li>
				</ul>
			</li>

			<li>
				SPL containing <a href="#op333">opcode #333</a> &Rightarrow; <code>target:Caster</code> &longrightarrow; is the same as targeting yourself as the <code>Living Actor</code>.
			</li>
		</ul>
	</li>

	<li>
		When this opcode gets reflected (<a href="#op197">opcode #197</a>, <a href="#op198">opcode #198</a>, <a href="#op199">opcode #199</a>, <a href="#op202">opcode #202</a>, <a href="#op203">opcode #203</a> and <a href="#op207">opcode #207</a>), only its first "hit" gets reflected. Subsequent hits occur as if reflection wasn't involved. When this happens, for that first hit only:
		<ul>
			<li>If <code>subspell's projectile = 0</code>, subspell effects targeting <code>Self|Projectile Target|Original Caster</code> will affect the original caster.</li>
			<li>If <code>subspell's projectile != 0</code>, subspell effects targeting <code>Original Caster</code> will affect the original caster.</li>
			<li>If <code>subspell's projectile != 0</code>, subspell effects targeting <code>Self</code> and <code>Projectile Target</code> will continue to affect the ability target of the spell containing <a href="#op333">opcode #333</a>.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<ul>
	<li>
		Effects in the <code>resource</code> will also bypass Magic Resistance, of every target, as if the caster targeted themselves, regardless of who they target with the spell or this effect.
		<ul>
			<li>Setting the <code><a href="../file_formats/ie_formats/pro_v1.htm#Behavior_BIT4">Ignore Center</a></code> bit in the subspell's projectile will force its effects to check Magic Resistance on every target, even if the caster did target themselves. Though as its primary function is to cause the projectile to ignore the caster (not "center"), it still won't affect them if it's <code><a href="../file_formats/ie_formats/pro_v1.htm#0x8_3">area-effect</a></code>.</li>
		</ul>
	</li>
</ul>

  </div>
</div>




<div class="note bug">
	<div>
		<strong>Bug:</strong> 
Its <code>Saving Throw</code> is checked EVERY time it triggers, terminating the <a href="#op333">opcode #333</a> effect if successful, so unless that is desired (or it only triggers once), it should not have a <code>Saving Throw</code>.

	</div>
</div>




<div class="note info">
  <div>
    <strong>Info:</strong> 
See <a href="#op326">opcode #326</a> for some peculiarities of projectile behaviour.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op334" class="opcode">
		<span class="opnumberdata">#334 (0x14E)</span>

		<span class="opnamedata">Spell Effect: Turn Undead</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Turns undead just like the modal action. The caster must have some turn undead levels to be effective. See <a href="#op323">opcode #323</a>.
 </div>
		<hr />

	</div>

	<div id="op335" class="opcode">
		<span class="opnumberdata">#335 (0x14F)</span>

		<span class="opnamedata">Spell Effect: Seven Eyes</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Spellstate</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Row#</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Eye Group</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> 

When the opcode is applied, it checks if the creature currently has the spellstate specified by <code>Spellstate</code> set. Known values for <code>Spellstate</code> are defined in <a href="../files/ids/bgee/splstate.htm">SPLSTATE.IDS</a>.
<br/>

<ul>
	<li>If it's already set, this opcode is NOT applied, nothing happens.</li>
	<li>Otherwise, the opcode is attached, the spellstate becomes set (for the duration of the effect), and the "Resource" specified by the <code>resource</code> key (if any!) is granted to the character (as if through <a href="#op171">opcode #171</a>)</li>
</ul>
<br/>

The next time the row number specified by <code>Row#</code> of <a href="../files/2da/2da_bgee/7eyes.htm">7EYES.2DA</a> is triggered (blocks an effect), this effect will terminate, remove the spell it granted (as if through <a href="#op172">opcode #172</a>) and decrement <a href="#op336">opcode #336</a> effects according to their <code>Eye Group</code> (<code>parameter2</code> for <a href="#op336">opcode #336</a>, <code>special</code> field for <a href="#op335">opcode #335</a>).
<br/>


<div class="note bug">
	<div>
		<strong>Bug:</strong> 
This opcode has a similar issue as <a href="#op135">opcode #135</a> with regards to applying the effect while another is already active:
<ul>
	<li>
		If you apply <a href="#op335">opcode #335</a> while the specified <code>Spellstate</code> is already set (either by <a href="#op328">opcode #328</a> or another <a href="#op335">opcode #335</a>), then the new <a href="#op335">opcode #335</a> will <u><b>NOT</b></u> be applied.
		<ul>
			<li>Having said that, a <code><a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC">timing</a>=<a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xC_4">4</a>,<a href="../file_formats/ie_formats/eff_v1.htm#effv1_Header_0xE">duration</a>=0</code> delay between removing the old spellstate and applying the new will bypass this issue.</li>
		</ul>
	</li>
</ul>

	</div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Setting <code>Row# = "-1"</code> will effectively have it last its full duration, blocking every effect listed for that spellstate in <a href="../files/2da/2da_bgee/7eyes.htm">7EYES.2DA</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op336" class="opcode">
		<span class="opnumberdata">#336 (0x150)</span>

		<span class="opnamedata">Graphics: Display Eyes Overlay</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Sequence</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Eye Group</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Displays 2 visual animations (VVC or BAM) similar to <a href="#op215">opcode #215</a> though only attached to a creature, not at a location (unattached). The animation filename is built from the "resref" specified by the <code>resource</code> field and <code>Sequence</code>.<br/>
Known values for <code>Sequence</code> are:
<ul>
	<li>0 &longrightarrow; None</li>
	<li>1 &longrightarrow; A</li>
	<li>2 &longrightarrow; B</li>
	<li>3 &longrightarrow; C</li>
	<li>4 &longrightarrow; D</li>
	<li>5 &longrightarrow; E</li>
	<li>6 &longrightarrow; F</li>
	<li>7 &longrightarrow; G</li>
	<li> ... </li>
	<li>26 &longrightarrow; Z</li>
</ul>
<br/>

The two animations that are played must be named in the following way:
<ol>
	<li><code>'Resource'1'Sequence'.'extension'</code></li>
	<li><code>'Resource'2'Sequence'.'extension'</code></li>
</ol>
For instance, in IWD:EE we have:
<ul>
	<li><code>#7eyes1a.VVC, #7eyes1b.VVC, #7eyes1c.VVC, #7eyes1d.VVC, #7eyes1e.VVC, #7eyes1f.VVC</code></li>
	<li><code>#7eyes2a.VVC, #7eyes2b.VVC, #7eyes2c.VVC, #7eyes2d.VVC, #7eyes2e.VVC, #7eyes2f.VVC</code></li>
</ul>
<br/>

Whenever an <a href="#op335">opcode #335</a> effect with a matching <code>Eye Group</code> (<code>parameter2</code> for <a href="#op336">opcode #336</a>, <code>special</code> field for <a href="#op335">opcode #335</a>) terminates on the creature, the <code>Sequence</code> value is reduced by 1, until it reaches 0 and terminates itself.
 </div>
		<hr />

	</div>

	<div id="op337" class="opcode">
		<span class="opnumberdata">#337 (0x151)</span>

		<span class="opnamedata">Remove: Opcode</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Param</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Opcode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Removes all <code>Opcode</code> from target, that has the same <code>param2</code> as <code>Param</code>. Use <code>"-1"</code> to ignore the parameter.



<div class="note important">
  <div>
    <strong>Important:</strong> 
This opcode cannot remove effects using <code>Timing Mode 9 (Instant/Permanent)</code>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op338" class="opcode">
		<span class="opnumberdata">#338 (0x152)</span>

		<span class="opnamedata">Disable Rest</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">StrRef</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Disables save and/or rest, prints the string when they are attempted.
<br/>Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; cannot rest</li>
	<li>1 &longrightarrow; cannot save</li>
	<li>2 &longrightarrow; cannot save or rest</li>
</ul>



<div class="note important">
  <div>
    <strong>Important:</strong> 
This effect cannot block autosaving or scripted resting.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op339" class="opcode">
		<span class="opnumberdata">#339 (0x153)</span>

		<span class="opnamedata">Alter Animation</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value and Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Projectile Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Range</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Modifies an area animation's Cycle and plays an area hit animation over it indexed by <code>Projectile Type</code>.
<br/><br/><code>Value</code> is the high word of the first parameter, <code>Modifier</code> is a bitfield manipulation operation.
<br/>Known values for <code>Modifier</code> are:
<ul>
	<li>0 &longrightarrow; Set <code>Value</code> – ignores original</li>
	<li>1 &longrightarrow; And <code>Value</code> – keeps bits</li>
	<li>2 &longrightarrow; Or <code>Value</code> – sets bits</li>
	<li>3 &longrightarrow; Xor <code>Value</code> – toggles bits</li>
	<li>4 &longrightarrow; And not <code>Value</code> – turns off bits</li>
</ul>

<p>
	<code>Range</code> is a radius around the targeted location that it will detect the specified animation (it will affect all within its radius). It's measured same as projectiles: <code>16 = 1ft radius</code>.
</p>

<p>
	<code>Resource</code> should be the <code><a href="../file_formats/ie_formats/are_v1.htm#formAREAV1_0_Anim_0x0">animation's label</a></code> as listed in the ARE file, not necessarily its filename.
</p>

<p>
	<code>Projectile Type</code> displays a projectile over the animation's location similar to <a href="#op140">opcode #140</a>/<a href="#op141">opcode #141</a>.
</p>



<div class="note info">
  <div>
    <strong>Info:</strong> 
Examples can be found by looking at <code>"SPIN172.SPL"</code>, <code>"SPIN177.SPL"</code>, and <code>"AR1105.ARE"</code> (the area with those animations) in IWDEE.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op340" class="opcode">
		<span class="opnumberdata">#340 (0x154)</span>

		<span class="opnamedata">Spell Effect: Change Backstab Effect</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets the Back Stab effect of the targetted creature to the spell specified by the <code>resource</code> key. Both parameters should be <code>0</code> (zero).
<br/>
In particular:
<ul>
	<li>If the game option '3E Sneak Attacks' is not enabled, the spell is cast at the character's innate level.</li>
	<li>If the game option '3E Sneak Attacks' is enabled, the spell is cast at level defined in <code><a href="../files/2da/2da_bgee/crippstr.htm">CRIPPSTR.2DA</a> + 1</code>.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
If the game option ‘3E Sneak Attacks’ is enabled, the targeted creature will be affected by both <code>"BACKSTAB.SPL"</code> and the spell specified by the <code>resource</code> key.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op341" class="opcode">
		<span class="opnumberdata">#341 (0x155)</span>

		<span class="opnamedata">Spell Effect: Change Critical Hit Effect</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Condition</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Weapon Category</span><br />
		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Attack Type</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets the Critical Hit effect of the targetted creature to the spell specified by the <code>resource</code> key.
<br/>Known values for <code>Condition</code> are:
<ul>
	<li>0 &longrightarrow; Always (both hands)</li>
	<li>1 &longrightarrow; By this weapon only</li>
</ul>

<br/>Known values for <code>Attack Type</code> are:
<ul>
	<li>0 &longrightarrow; Any attack type</li>
	<li>1 &longrightarrow; Melee attack only</li>
	<li>2 &longrightarrow; Ranged attack only</li>
	<li>3 &longrightarrow; Magical attack only</li>
</ul>

<br/>(External <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s) Known values for <code>Weapon Category</code> are defined in <a href="../files/ids/bgee/itemcat.htm">ITEMCAT.IDS</a>.

 </div>
		<hr />

	</div>

	<div id="op342" class="opcode">
		<span class="opnumberdata">#342 (0x156)</span>

		<span class="opnamedata">Animation: Override Data</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Field</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Overrides the character animation's blood color, body heat flag or personal space.
<br/>Known values for <code>Field</code> are:
<ul>
	<li>1 &longrightarrow; Override body heat</li>
	<li>2 &longrightarrow; Override blood color</li>
	<li>4 &longrightarrow; Override personal space</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Value = 0</code> causes infinite melee/spell range, both for their attacks/spells and when others target them.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Does not alter selection circle size.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op343" class="opcode">
		<span class="opnumberdata">#343 (0x157)</span>

		<span class="opnamedata">HP Swap</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Mode</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Known values for <code>Mode</code> are:
<ul>
	<li>0 &longrightarrow; Swap if <code>caster HP > target HP</code></li>
	<li>1 &longrightarrow; Always swap</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
This effect is always instantaneous.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op344" class="opcode">
		<span class="opnumberdata">#344 (0x158)</span>

		<span class="opnamedata">Enchantment vs. creature type</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">IDS Entry</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">IDS File</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Weapon Slot</span><br />
		
		
			<span class="parameterheading">Parameter #4:</span> <span class="parameterdata">Weapon Category</span><br />
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Enchantment Level</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Alters the targeted creature(s) Enchantment against the creature type specified by the <code>IDS Entry</code> field in the specified <code>IDS File</code>.
<br/>Known values for <code>IDS File</code> are:
<ul>
	<li>2 &longrightarrow; <a href="../files/ids/bgee/ea.htm">EA.IDS</a></li>
	<li>3 &longrightarrow; <a href="../files/ids/bgee/general.htm">GENERAL.IDS</a></li>
	<li>4 &longrightarrow; <a href="../files/ids/bgee/race.htm">RACE.IDS</a></li>
	<li>5 &longrightarrow; <a href="../files/ids/bgee/class.htm">CLASS.IDS</a></li>
	<li>6 &longrightarrow; <a href="../files/ids/bgee/specific.htm">SPECIFIC.IDS</a></li>
	<li>7 &longrightarrow; <a href="../files/ids/bgee/gender.htm">GENDER.IDS</a></li>
	<li>8 &longrightarrow; <a href="../files/ids/bgee/align.htm">ALIGN.IDS</a></li>
	<li>9 &longrightarrow; <a href="../files/ids/bgee/kit.htm">KIT.IDS</a></li>
</ul>

<br/>When used in external <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s, known values for <code>Weapon Slot</code> are:
<ul>
	<li>0 &longrightarrow; Current weapon (the one to which this opcode is attached as an equipped effect, otherwise no restrictions)</li>
	<li>1 &longrightarrow; Main hand weapon (includes Ammo and Fists)</li>
	<li>2 &longrightarrow; Off-hand weapon</li>
	<li>3 &longrightarrow; Both weapons</li>
</ul>

<br/>(External <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s) Values for <code>Weapon Category</code> are taken from <a href="../files/ids/bgee/itemcat.htm">ITEMCAT.IDS</a>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
It only sets the enchantment level, not the <code><a href="../file_formats/ie_formats/itm_v1.htm#Header_Flags_BIT6">Magical</a></code> flag.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op345" class="opcode">
		<span class="opnumberdata">#345 (0x159)</span>

		<span class="opnamedata">Enchantment bonus</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Enchantment Level</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Weapon Slot</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Gives the targeted creature(s) an Enchantment bonus to weapons as specified by the <code>Type</code> field. The <code>Enchantment Level</code> field is used if <code>Type</code> is set to <code>0</code>.
Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Magical weapons (<code>Enchantment Level</code> and below)</li>
	<li>1 &longrightarrow; Magical weapons (all)</li>
	<li>2 &longrightarrow; Non-magical weapons</li>
	<li>3 &longrightarrow; Silver</li>
	<li>4 &longrightarrow; Non-Silver</li>
	<li>5 &longrightarrow; Non-Silver / Non-Magical</li>
	<li>6 &longrightarrow; Two-Handed</li>
	<li>7 &longrightarrow; One-Handed</li>
	<li>8 &longrightarrow; Cursed</li>
	<li>9 &longrightarrow; Non-Cursed</li>
	<li>10 &longrightarrow; Cold Iron</li>
	<li>11 &longrightarrow; Non Cold Iron</li>
</ul>

<br/>Known values for <code>Weapon Slot</code> are:
<ul>
	<li>0 &longrightarrow; Current weapon (the one to which this opcode is attached as an equipped effect, otherwise no restrictions)</li>
	<li>1 &longrightarrow; Main hand weapon (includes Ammo and Fists)</li>
	<li>2 &longrightarrow; Off-hand weapon</li>
	<li>3 &longrightarrow; Both weapons</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
(External <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s) <code>Parameter4</code> is the <a href="../file_formats/ie_formats/itm_v1.htm#Header_ItemType">item type</a> of the affected weapon (<code>0</code> matches all). This can be set to affect only fists, for example.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>Type</code> values <code>2</code>, <code>4</code>, <code>5</code>, <code>7</code>, <code>9</code>, and <code>11</code> do nothing (the “non-“ versions), as the opcode can only add properties, not remove them. These <code>Type</code> values were likely copied directly from <a href="#op120">opcode #120</a>, specifically so they would have the same values, even if some didn’t function.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
Unlike <a href="#op344">opcode #344</a>, if you set <code>Type=0</code>, any non-zero <code>Enchantment Level</code> value will also flag the item as <code><a href="../file_formats/ie_formats/itm_v1.htm#Header_Flags_BIT6">Magical</a></code>.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op346" class="opcode">
		<span class="opnumberdata">#346 (0x15A)</span>

		<span class="opnamedata">Save vs. school bonus</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Primary Type</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the modifier value specified by the <code>Statistic Modifier</code> field in the style specified by the <code>Type</code> field.
<br/>Known values for <code>Type</code> are:
<ul>
	<li>0 &longrightarrow; Cumulative Modifier: <code>Save = Save + 'Statistic Modifier' value</code></li>
	<li>1 &longrightarrow; Flat Value Modifier: <code>Save = 'Statistic Modifier' value</code></li>
</ul>

<br/><br/><code>Primary Type</code> defines the school of magic to save against (see <a href="../files/2da/2da_bgee/mschool.htm">MSCHOOL.2DA</a>).



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode should be limited to the first 12 (<code>0 – 11</code>) spell schools.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op347" class="opcode">
		<span class="opnumberdata">#347 (0x15B)</span>

		<span class="opnamedata">Move View to Target</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op347">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Scroll Speed</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> To instantly zoom onto the target, leave the 'Scroll Speed' parameter at zero. To have the camera go to the target at a certain speed, set the 'Scroll Speed' parameter from 1-255, with 1 being the slowest and 255 the fastest.
 </div>
		<hr />

	</div>

	<div id="op348" class="opcode">
		<span class="opnumberdata">#348 (0x15C)</span>

		<span class="opnamedata">Cloak of Warding (Non-cumulative)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op348">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Base amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Amount per level</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The target creature will absort the amount of damage as calculated by the formula:
<br/><code>Absorbed damage amount = 'Base amount' + ('Amount per level' * 'Caster level') + 'Dice roll'</code>
<br/>
<br/>Modifies SPLSTATE.IDS value CLOAK_OF_WARDING accordingly. The effect ends when all damage has been absorbed.
 </div>
		<hr />

	</div>

	<div id="op349" class="opcode">
		<span class="opnumberdata">#349 (0x15D)</span>

		<span class="opnamedata">Pain Mirror (Non-cumulative)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op349">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata"># damage effects to reflect</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Unused</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect reflects inflicted damage back to nearby creatures.
<br/>
<br/>Modifies SPLSTATE.IDS value PAIN_MIRROR accordingly. The effect is supposed to end when the specified number of damage effects have been reflected.



<div class="note bug">
	<div>
		<strong>Bug:</strong> 
The effect has a bug that constantly resets the target’s pain mirror counter to ‘Parameter 1’. This effect will never end on its own.

	</div>
</div>

 </div>
		<hr />

	</div>

	<div id="op350" class="opcode">
		<span class="opnumberdata">#350 (0x15E)</span>

		<span class="opnamedata">Guardian Mantle (Non-cumulative)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op350">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Enabled?</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Unused</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect protects the target creature from physical damage unless the attacker makes a successful saving throw vs. spell at -4 penalty. The saving throw mechanism is hardcoded into <a href="#op12">opcode #12</a>.
<br/>
<br/>Modifies SPLSTATE.IDS value GUARDIAN_MANTLE accordingly.
 </div>
		<hr />

	</div>

	<div id="op351" class="opcode">
		<span class="opnumberdata">#351 (0x15F)</span>

		<span class="opnamedata">Armor (Non-cumulative)</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op351">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Add caster level bonus?</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Modifies SPLSTATE.IDS value ARMOR accordingly. The effect ends when all damage has been absorbed.



<div class="note info">
  <div>
    <strong>Note:</strong> 
This effect does not give the armor class bonus as per opcode 375.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op352" class="opcode">
		<span class="opnumberdata">#352 (0x160)</span>

		<span class="opnamedata">Change Background</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op352">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Sets the BMP file specified by the <code>resource</code> field as background image for the duration of the effect.



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode appears to work only if cutscene mode is active, either via <a href="../scripting/actions/psteeactions.htm#121">StartCutSceneMode()</a> or by <a href="#op356">opcode 356</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op353" class="opcode">
		<span class="opnumberdata">#353 (0x161)</span>

		<span class="opnamedata">Tint Playing Screen Fade</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op353">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB Colour</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect tints the screen depending on the value specified by the 'Type' field, to a colour specified by the 'RGB Colour' field.
<br/>The 'RGB Colour' field is handled as follows:
<br/>First byte = Red (0-255)
<br/>Second byte  = Green (0-255)
<br/>Third byte = Blue (0-255)
<br/>
<br/>'Type' behavior is not yet fully understood. Known values are:
<br/>0,1,2,3 &longrightarrow; No effect
<br/>4,5,6,7 &longrightarrow; Instant 'RGB Colour' for the duration of the effect
<br/>8 &longrightarrow; No effect
<br/>9 &longrightarrow; Instant inverted 'RGB Colour' for the duration of the effect
<br/>10 &longrightarrow; Instant black for the duration of the effect



<div class="note info">
  <div>
    <strong>Note:</strong> 
Character colour will not be affected by this effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op354" class="opcode">
		<span class="opnumberdata">#354 (0x162)</span>

		<span class="opnamedata">Flash Playing Screen</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op354">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Unused</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Unused</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effects flashes the screen white for one frame.
 </div>
		<hr />

	</div>

	<div id="op355" class="opcode">
		<span class="opnumberdata">#355 (0x163)</span>

		<span class="opnamedata">Spell Effect: Soul Exodus</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op355">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the Soul Exodus effect to the targeted creature(s). Does not affect the protagonist.
 </div>
		<hr />

	</div>

	<div id="op356" class="opcode">
		<span class="opnumberdata">#356 (0x164)</span>

		<span class="opnamedata">Spell Effect: Stop All Action</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op356">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Unknown</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Toggles all interactive elements of the game (e.g. the GUI, character selection etc), based on the 'Type' field.
<br/>Known values of 'Type' are:
<br/>0 Stop actions
<br/>1 Enable actions
<br/>
<br/>This effect has no duration.



<div class="note info">
  <div>
    <strong>Note:</strong> 
Scripts and animations continue to run.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op357" class="opcode">
		<span class="opnumberdata">#357 (0x165)</span>

		<span class="opnamedata">State: Set State</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op357">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Action</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">State</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Modifies the state(s) of the target according to the specified action.<br/>
Known values for <code>Action</code> are:
<ul>
  <li>0 &longrightarrow; Clear state(s)</li>
  <li>1 &longrightarrow; Set state(s)</li>
</ul>

<br/>See <a href="../files/ids/pstee/state.htm">STATE.IDS</a> for available states.
 </div>
		<hr />

	</div>

	<div id="op358" class="opcode">
		<span class="opnumberdata">#358 (0x166)</span>

		<span class="opnamedata">Incite Berserk Attack</span>

		
		
		
		
			
			
				Variants:
				
			
			
				<a class="opvariant" href="bgee.htm#op358">BGEE</a>
			
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect incites a repeating RunningAttack action on the target creature(s). The chosen target is always male/undead.
 </div>
		<hr />

	</div>

	<div id="op359" class="opcode">
		<span class="opnumberdata">#359 (0x167)</span>

		<span class="opnamedata">Unused</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Unknown</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Unknown</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Unused
 </div>
		<hr />

	</div>

	<div id="op360" class="opcode">
		<span class="opnumberdata">#360 (0x168)</span>

		<span class="opnamedata">Stat: Ignore Reputation Breaking Point</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Allows joinable NPCs stay in the party regardless of reputation.
 </div>
		<hr />

	</div>

	<div id="op361" class="opcode">
		<span class="opnumberdata">#361 (0x169)</span>

		<span class="opnamedata">Cast spell on critical miss</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Unused</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Current Weapon Only?</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Weapon Category</span><br />
		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Attack Type</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the spell specified by the <code>resource</code> key when the target suffers a critical miss. The target of the critical miss effect is the attacker.
<br/>Known values for <code>Current Weapon Only?</code> are:
<ul>
	<li>0 &longrightarrow; No</li>
	<li>1 &longrightarrow; Yes</li>
</ul>

<br/>Known values for <code>Attack Type</code> are:
<ul>
	<li>0 &longrightarrow; Any attack type</li>
	<li>1 &longrightarrow; Melee attack only</li>
	<li>2 &longrightarrow; Ranged attack only</li>
	<li>3 &longrightarrow; Magical attack only</li>
</ul>

<br/>(External <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s) Known values for <code>Weapon Category</code> are defined in <a href="../files/ids/bgee/itemcat.htm">ITEMCAT.IDS</a>.

 </div>
		<hr />

	</div>

	<div id="op362" class="opcode">
		<span class="opnumberdata">#362 (0x16A)</span>

		<span class="opnamedata">Critical miss bonus</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Statistic Modifier</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Current Weapon Only?</span><br />

		
			<span class="parameterheading">Parameter #3:</span> <span class="parameterdata">Weapon Category</span><br />
		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Attack Type</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect increases the chance of suffering a Critical Miss. Critical Misses will occur on a roll (on a <code>1d20</code>) lower or equal to: <code>1 + 'Statistic Modifier'</code>.
<br/>Known values for <code>Current Weapon Only?</code> are:
<ul>
	<li>0 &longrightarrow; No</li>
	<li>1 &longrightarrow; Yes</li>
</ul>

<br/>Known values for <code>Attack Type</code> are:
<ul>
	<li>0 &longrightarrow; Any attack type</li>
	<li>1 &longrightarrow; Melee attack only</li>
	<li>2 &longrightarrow; Ranged attack only</li>
	<li>3 &longrightarrow; Magical attack only</li>
</ul>

<br/>(External <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a>s) Known values for <code>Weapon Category</code> are defined in <a href="../files/ids/bgee/itemcat.htm">ITEMCAT.IDS</a>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
Keep in mind that Critical Hits have priority over Critical Misses.<br />
For instance, let us consider <a href="#op301">opcode #301</a> (<code>Statistic Modifier = 10</code>) and <a href="#op362">opcode #362</a> (<code>Statistic Modifier = 10</code>). You would have the following ranges:
<ul>
	<li>Critical hit: <code>10 – 20</code></li>
	<li>Critical miss: <code>1 – 11</code></li>
</ul>
If you rolled a <code>10</code> or <code>11</code>, you would get a Critical hit, not a Critical miss.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
In v2.3 and prior, only the latest instance of this opcode applies. In v2.5+, all instances stack together.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op363" class="opcode">
		<span class="opnumberdata">#363 (0x16B)</span>

		<span class="opnamedata">Modal state check</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Modal State</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Trying to move will break the current modal action, and breaking the modal action will remove this effect and any other effects applied by the same spell.<br />
The targeted creature must already be in the specified Modal State when this opcode is applied.
<br/><br/><code>Modal State</code> defines the modal state to check (see <a href="../files/ids/bgee/modal.htm">MODAL.IDS</a>).
<br/>



<div class="note info">
  <div>
    <strong>Note:</strong> 
If <code>Modal State = 0</code>, then any modal state is eligible, but not <code>NONE</code>, it must be an actual Modal State.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
When used in <a href="../file_formats/ie_formats/eff_v2.htm">EFF</a> files, <code>Parent Resource</code> field must be used to specify which resources effects will be removed (an empty field will remove effects applied by the engine, such as level-up proficiencies).

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op364" class="opcode">
		<span class="opnumberdata">#364 (0x16C)</span>

		<span class="opnamedata">Empty</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Unknown</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Unknown</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Unused.



<div class="note info">
  <div>
    <strong>Note:</strong> 
It is still processed, so it will still interact with <a href="#op200">Spell Turning</a>/<a href="#op201">Deflection</a>/etc… just like any other effect.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op365" class="opcode">
		<span class="opnumberdata">#365 (0x16D)</span>

		<span class="opnamedata">Make unselectable</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Dialogue enabled</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">AI enabled</span><br />

		
		
		
		
			<span class="parameterheading">Special:</span> <span class="parameterdata">Selection circle color</span><br />
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effects makes the targeted creature unselectable.<br />

Known values for <code>Dialogue Enabled</code> are:<br />
BG:EE/SoD:
<ul>
	<li>0 &longrightarrow; Enabled</li>
	<li>1 &longrightarrow; Disabled</li>
</ul>
BG2:EE:
<ul>
	<li>0 &longrightarrow; Disabled</li>
	<li>1 &longrightarrow; Enabled</li>
</ul>

<br/>

Known values for <code>AI Enabled</code> are:
<ul>
	<li>0 &longrightarrow; Disabled</li>
	<li>1 &longrightarrow; Enabled</li>
</ul>

<br/>

Known values for <code>Selection circle color</code> are:
<ul>
	<li>0 &longrightarrow; Purple Selection Circle</li>
	<li>non-zero &longrightarrow; Normal Selection Circle</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
<code>AI Enabled</code> doesn’t work in BG:EE/SoD games (i.e., you cannot disable the AI of the targeted creature).

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op366" class="opcode">
		<span class="opnumberdata">#366 (0x16E)</span>

		<span class="opnamedata">Spell: Apply Spell On Move</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This opcode applies the spell file (<code>SPL</code>) specified in the <code>resource</code> field to the target creature if it moves.
<br/>The spell should be applied instantly and any casting times in the <code>SPL</code> file should be ignored.
<br/><br/>



<div class="note info">
  <div>
    <strong>Note:</strong> 
This effect only triggers once, then terminates.

  </div>
</div>
 </div>
		<hr />

	</div>

	<div id="op367" class="opcode">
		<span class="opnumberdata">#367 (0x16F)</span>

		<span class="opnamedata">Minimum base stats</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Stat Value</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This is used in story mode. Any non-zero value in <code>Stat Value</code> enables it. Ensures that base stats of the affected creature can not be reduced to 0.
<br/><br/>The effect modifies <a href="../files/ids/bgee/stats.htm#202">IGNOREDRAINDEATH</a> to <code>Stat Value</code>.



<div class="note info">
  <div>
    <strong>Note:</strong> 
The <code>Stat Value</code> parameter can take any value. If you set it to <code>0</code>, you will disable the effect (for its duration).

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op368" class="opcode">
		<span class="opnumberdata">#368 (0x170)</span>

		<span class="opnamedata">Play BAM with expiration effect</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Flags</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applied internally by <a href="#op375">opcode 375</a> to control duration of the specified BAM. When the effect ends, the attached BAM is removed and a hardcoded BAM (<code>S034DSPR.BAM</code>) is played back once to simulate an expiration effect.

<br/>Known values for <code>Flags</code> are:
<ul>
  <li>BIT6 &longrightarrow; Blended</li>
  <li>BIT19 &longrightarrow; Grayscale</li>
  <li>BIT21 &longrightarrow; Bright</li>
  <li>BIT24 &longrightarrow; Hide background part on movement (BAM cycles used for drawing behind the target are skipped when the target is moving.)</li>
  <li>BIT25 &longrightarrow; Dream palette (sepia effect)</li>
  <li>BIT27 &longrightarrow; Garbled frames? (Garbled frames are drawn in regular intervals. Meaning of this bit is unknown.)</li>
</ul>
 </div>
		<hr />

	</div>

	<div id="op369" class="opcode">
		<span class="opnumberdata">#369 (0x171)</span>

		<span class="opnamedata">Play BAM File Blended and Sticky</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Method</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Plays BAM file along with other special features. Animation is blended.

<br/>Known values for <code>Method</code> are:
<ul>
  <li>BIT0 &longrightarrow; Repeat animation, otherwise duration counts, except for permanent which plays once.</li>
  <li>BIT1 &longrightarrow; Removes stickiness (background animation)</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op187">PST opcode 187</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op370" class="opcode">
		<span class="opnumberdata">#370 (0x172)</span>

		<span class="opnamedata">Play BAM file</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Method</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Plays back the specified BAM resource according to the specified <code>Method</code>.

<br/>Known values for <code>Method</code> are:
<ul>
  <li>BIT0 &longrightarrow; Random placement (within a fixed radius around the target)</li>
  <li>BIT12 &longrightarrow; Sticky</li>
  <li>BIT16 &longrightarrow; Repeated playback (only effective if BIT17 is also set)</li>
  <li>BIT17 &longrightarrow; Play in foreground</li>
  <li>BIT20 &longrightarrow; Fade out after duration (fade duration defined by DiceSize, in seconds.) Initial transparency is defined by the red component of the <code>RGB</code> field. Non-zero green or blue values cancel the fade effect. Effect changes if used together with BIT21.</li>
  <li>BIT21 &longrightarrow; Blended, if used together with BIT20.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
There are four effects doing exactly the same, this is probably to have resistances against opcode.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op188">PST opcode 188</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op371" class="opcode">
		<span class="opnumberdata">#371 (0x173)</span>

		<span class="opnamedata">Play BAM file</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Method</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Plays back the specified BAM resource according to the specified <code>Method</code>.

<br/>Known values for <code>Method</code> are:
<ul>
  <li>BIT0 &longrightarrow; Random placement (within a fixed radius around the target)</li>
  <li>BIT12 &longrightarrow; Sticky</li>
  <li>BIT16 &longrightarrow; Repeated playback (only effective if BIT17 is also set)</li>
  <li>BIT17 &longrightarrow; Play in foreground</li>
  <li>BIT20 &longrightarrow; Fade out after duration (fade duration defined by DiceSize, in seconds.) Initial transparency is defined by the red component of the <code>RGB</code> field. Non-zero green or blue values cancel the fade effect. Effect changes if used together with BIT21.</li>
  <li>BIT21 &longrightarrow; Blended, if used together with BIT20.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
There are four effects doing exactly the same, this is probably to have resistances against opcode.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op189">PST opcode 189</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op372" class="opcode">
		<span class="opnumberdata">#372 (0x174)</span>

		<span class="opnamedata">Play BAM file</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Method</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Plays back the specified BAM resource according to the specified <code>Method</code>.

<br/>Known values for <code>Method</code> are:
<ul>
  <li>BIT0 &longrightarrow; Random placement (within a fixed radius around the target)</li>
  <li>BIT12 &longrightarrow; Sticky</li>
  <li>BIT16 &longrightarrow; Repeated playback (only effective if BIT17 is also set)</li>
  <li>BIT17 &longrightarrow; Play in foreground</li>
  <li>BIT20 &longrightarrow; Fade out after duration (fade duration defined by DiceSize, in seconds.) Initial transparency is defined by the red component of the <code>RGB</code> field. Non-zero green or blue values cancel the fade effect. Effect changes if used together with BIT21.</li>
  <li>BIT21 &longrightarrow; Blended, if used together with BIT20.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
There are four effects doing exactly the same, this is probably to have resistances against opcode.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op190">PST opcode 190</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op373" class="opcode">
		<span class="opnumberdata">#373 (0x175)</span>

		<span class="opnamedata">Play BAM file</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">RGB</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Method</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Plays back the specified BAM resource according to the specified <code>Method</code>.

<br/>Known values for <code>Method</code> are:
<ul>
  <li>BIT0 &longrightarrow; Random placement (within a fixed radius around the target)</li>
  <li>BIT12 &longrightarrow; Sticky</li>
  <li>BIT16 &longrightarrow; Repeated playback (only effective if BIT17 is also set)</li>
  <li>BIT17 &longrightarrow; Play in foreground</li>
  <li>BIT20 &longrightarrow; Fade out after duration (fade duration defined by DiceSize, in seconds.) Initial transparency is defined by the red component of the <code>RGB</code> field. Non-zero green or blue values cancel the fade effect. Effect changes if used together with BIT21.</li>
  <li>BIT21 &longrightarrow; Blended, if used together with BIT20.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
There are four effects doing exactly the same, this is probably to have resistances against opcode.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op191">PST opcode 191</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op374" class="opcode">
		<span class="opnumberdata">#374 (0x176)</span>

		<span class="opnamedata">Special spell hit</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Effect</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Starts specific special effects on the targeted creature(s), dependent on the <code>Effect</code> field. 

<br/>Known values for <code>Effect</code> are:
<ul>
  <li>0 &longrightarrow; Adder's Kiss</li>
  <li>1 &longrightarrow; Ball Lightning</li>
  <li>2 &longrightarrow; Fizzle</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op196">PST opcode 196</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op375" class="opcode">
		<span class="opnumberdata">#375 (0x177)</span>

		<span class="opnamedata">Play BAM with effects</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Effect</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Set the resource key for the BAM file to apply to the creature. The <code>Effect</code> parameter sets the spell effect to apply to the creature:
<ul>
  <li>0 &longrightarrow; Cloak of Warding</li>
  <li>1 &longrightarrow; Shield</li>
  <li>2 &longrightarrow; Black Barbed Shield</li>
  <li>3 &longrightarrow; Pain Mirror</li>
  <li>4 &longrightarrow; Guardian Mantle</li>
  <li>5 &longrightarrow; <em>unused</em></li>
  <li>6 &longrightarrow; Enoll Eva's Duplication</li>
  <li>7 &longrightarrow; Armor</li>
  <li>8 &longrightarrow; Antimagic Shell</li>
  <li>9 &longrightarrow; <em>unused</em></li>
  <li>10 &longrightarrow; <em>unused</em></li>
  <li>11 &longrightarrow; Flame Walk</li>
  <li>12 &longrightarrow; Protection from Evil</li>
  <li>13 &longrightarrow; Conflagration</li>
  <li>14 &longrightarrow; Infernal Shield</li>
  <li>15 &longrightarrow; Submerge the Will</li>
  <li>16 &longrightarrow; Balance in All Things</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
Uses <a href="#op368">opcode 368</a> internally to control duration of the BAM playback.

  </div>
</div>




<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op201">PST opcode 201</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op376" class="opcode">
		<span class="opnumberdata">#376 (0x178)</span>

		<span class="opnamedata">Spell Effect: Detect Evil</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the 'Detect Evil' effect to the targeted creature(s).



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op210">PST opcode 210</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op377" class="opcode">
		<span class="opnumberdata">#377 (0x179)</span>

		<span class="opnamedata">Speak with Dead</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect is used internally by projectile 205 (Stories Bones Tell).
<br/>
<br/>On effect removal, if <code>Global("Speak_with_Dead","GLOBAL")</code> exists, it is set to 0. The engine applies this opcode as part of projectile 205 (Stories Bones Tell) with timing=0 (Instant/Limited) and duration=300.
 </div>
		<hr />

	</div>

	<div id="op378" class="opcode">
		<span class="opnumberdata">#378 (0x17A)</span>

		<span class="opnamedata">Prayer (Non-cumulative)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The <code>Value</code> parameter sets the effects' amounts. All friendly and neutral creatures are Blessed, with the <code>Value</code> parameter defining the bonus amount to all saving throws, bonus damage, and To Hit rolls on those creatures. All hostile creatures are cursed, with the <code>Value</code> defining the penalty amount to all saving throws, bonus damage, and To Hit rolls on those creatures.



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op204">PST opcode 204</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op379" class="opcode">
		<span class="opnumberdata">#379 (0x17B)</span>

		<span class="opnamedata">Curse (Non-cumulative)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Value</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> This effect causes a penalty to all saving throws and To Hit rolls in the amount that the <code>Value</code> parameter is set to. For every 1 of the penalty value, all saving throws get a penalty of 1, as well as all die throws and damage from the target. This cannot remove the 'Blessed' status from a target, but can effectively negate it.



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op203">PST opcode 203</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op380" class="opcode">
		<span class="opnumberdata">#380 (0x17C)</span>

		<span class="opnamedata">Embalm (Non-cumulative)</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> The <code>Type</code> parameter determines what affect is given to the target(s) of the effect:
<ul>
  <li>A value of 0 grants the target 2-8 hit points and +1 AC for the duration of the spell.</li>
  <li>Any other value grants the target +2 hit points per level of the caster and +2 AC for the duration of the spell.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op206">PST opcode 206</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op381" class="opcode">
		<span class="opnumberdata">#381 (0x17D)</span>

		<span class="opnamedata">Induce Hiccups</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the 'Induce Hiccups' effect to the targeted creature(s).



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op211">PST opcode 211</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op382" class="opcode">
		<span class="opnumberdata">#382 (0x17E)</span>

		<span class="opnamedata">Fist of Iron</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Irrelevant</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Irrelevant</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Applies the 'Fist of Iron' effect to the targeted creature(s). This results in the targeted creature(s) gaining +3 Fist THAC0 and +6 Fist damage.



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op208">PST opcode 208</a>.

  </div>
</div>

 </div>
		<hr />

	</div>

	<div id="op383" class="opcode">
		<span class="opnumberdata">#383 (0x17F)</span>

		<span class="opnamedata">Hit Point Transfer</span>

		
		
		
		
			
				
		<br />

		<span class="parameterheading">Parameter #1:</span>			<span class="parameterdata">Drain Amount</span><br />
		<span class="parameterheading">Parameter #2:</span>			<span class="parameterdata">Drain Type</span><br />

		
		
		
		

		<div class="descriptionheading">Description:</div>
		<div class="descriptiondata"> Set the Dice Throws and Size to the random drain amount you wish the effect to do (if you want no random amount involved, leave it at 0d0). If you wish to do a fixed amount of draining as well, or by itself, set the <code>Drain Amount</code> parameter to the amount of health to drain (if you want no fixed amount of HP drained, leave the value at 0). The <code>Drain Type</code> sets who receives and who delivers the hit points.

<br/>Known values for <code>Drain Type</code> are:
<ul>
  <li>0 &longrightarrow; The target receives hit points from the caster.</li>
  <li>1 &longrightarrow; The caster receives hit points from the target.</li>
  <li>2 &longrightarrow; The target and caster hit points are swapped. This works even if both are at full health.</li>
  <li>3 &longrightarrow; Same as 0, but amount is not capped at the target's max. HP. This works even if both are at full health. No damage animation is shown.</li>
</ul>



<div class="note info">
  <div>
    <strong>Note:</strong> 
This opcode mirrors functionality of <a href="pst.htm#op192">PST opcode 192</a>.

  </div>
</div>

 </div>
		<hr />

	</div>



<a href="#" class="go-up">
  &nbsp;
</a>


  </div>
</div>

<script>
window.addEventListener("scroll", function(event) {
  var top = window.pageYOffset || document.documentElement.scrollTop;
  var arrow = document.getElementsByClassName("go-up")[0];
  if (top > 100) {
    arrow.style.visibility = "visible";
  } else {
    arrow.style.visibility = "hidden";
  }
});
</script>

<footer class="site-footer">
  <hr />
  <div id="footer">

    <div class="">
      <a class="gh-icon-container" href="https://github.com/gibberlings3/iesdp/">
  <span class="icon icon--github"><svg viewBox="0 0 16 16"><path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span>
</a>

      <a href="https://github.com/gibberlings3/iesdp//blob/master/opcodes/pstee.htm">Edit this page</a>
    </div>

    <div class="">
      <form method="get" action="https://www.google.com/search">
        <div style="margin: 0px; padding: 0px; text-align: center">
          <input type="hidden" name="ie" value="UTF-8" />
          <input type="hidden" name="oe" value="UTF-8" />
          <input class="form_text" type="text" name="q" size="30" maxlength="255" value="" />
          <input class="form_button" type="submit" name="btnG" value="Search" />
          <input type="hidden" name="domains" value="https://gibberlings3.github.io/iesdp" />
          <input type="hidden" name="sitesearch" value="https://gibberlings3.github.io/iesdp" />
        </div>
      </form>
    </div>

  </div>
  <hr />
</footer>


</body>
</html>
