<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<!--  <meta charset="utf-8"> -->
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Script Triggers</title>
  <meta name="description" content="The IESDP (Infinity Engine Structures Description Project) is an effort to research the workings of the Bioware Infinity Engine(R), and act as a collective resource for those interested in such workings.
">

  <link rel="stylesheet" href="/iesdp/css/main.css">
  <link rel="stylesheet" href="css/main.css">

<!--
  <link rel="canonical" href="https://lynxlynxlynx.github.io/iesdp/scripting/triggers/">
  <link rel="alternate" type="application/rss+xml" title="IESDP" href="https://lynxlynxlynx.github.io/iesdp/feed.xml">
-->
</head>


<body>

<header class="site-header">

    <hr />
    <div id="buttonboxtop">
      <div id="buttonstriptop">
        <a href="/iesdp/">Index</a> &nbsp;&bull;&nbsp;
        <a href="/iesdp/files/2da/">2DA</a> &nbsp;&bull;&nbsp;
        <a href="/iesdp/opcodes/">Effects</a> &nbsp;&bull;&nbsp;
        <a href="/iesdp/file_formats/">File Formats</a> &nbsp;&bull;&nbsp;
        <a href="/iesdp/scripting/actions/">Actions</a> &nbsp;&bull;&nbsp;
        <a href="/iesdp/files/ids/">Identifiers</a> &nbsp;&bull;&nbsp;
        <a href="/iesdp/scripting/triggers/">Triggers</a> &nbsp;&bull;&nbsp;
        <a href="/iesdp/appendices/">Appendices</a> &nbsp;&bull;&nbsp;
        <a href="/iesdp/site_info/">Site Info</a> &nbsp;&bull;&nbsp;
        <a href="/iesdp/site_info/legal.htm">Legal</a> &nbsp;&bull;&nbsp;
        <a href="http://gibberlings3.net/forums/index.php?showforum=54" target="_blank">Forum</a>
      </div>
    </div>
    <hr />
    <div id="logo">
      <a href="/iesdp/main.htm">
        <img src="/iesdp/images/iesdp_logo.gif" alt="IESDP Logo" width="120" height="120" />
      </a>
    </div>

</header>


<div id="nonFooter">
  <div id="content">

    <div class="title_main"> Script Triggers </div>
<br />
<div class="actionHeader">Introduction</div>
    Scripts are one of the key concepts in the IE. Scripts are written in a simple scripting language and stored as BAF files. BAF files are compiled into BCS files, which are then processed by the game. Scripts consist of triggers and actions. Triggers are conditional checks, that will return either true or false. A trigger result can be inverted by preprending the trigger with the ! character (e.g. See([Anyone]) will return true if the active creature can see any other creature, while !See([Anyone]) will return true if the active creature can not see any other creature). Scripts are processed from the top of the file downwards, until a block is found where all the triggers return true. Once such a block is found, the associated actions are executed, and the script is processed again, from the top of the file. If no block is found with all its triggers returning true, the script is processed again, from the top of the file.<br />
<br />

<div class="actionHeader">Script Locations</div>
Scripts can run in various places. Some triggers and actions only make sense when run from specific objects (e.g. IsOverMe) while others are only parsed by the engine from certain objects (e.g. LockScroll()). A partial list of script locations is given below:<br />
<ul>
  <li>Creatures</li>
  <li>Regions</li>
  <li>Containers</li>
  <li>Areas</li>
  <li>Player AI scripts</li>
  <li>baldur.bcs</li>
</ul>

<div class="actionHeader">Parameters</div>
Both triggers and actions may take parameters. Parameters are usually numeric, literal strings (i.e. enclosed in &quot;quotes&quot;) or identifier strings. Parameters are a often values from an IDS file, i.e. a symbolic identifier is used which is converted to a numeric value when the script is compiled. An object parameter is a special case - it can be either a literal string (a death variable, such as &quot;Gnoll3&quot;), a object reference (e.g. Player1) or an object identifier. An object identifier can apply to a whole group/category of creatures. The format is [EA.FACTION.TEAM.GENERAL.RACE.CLASS.SPECIFIC.GENDER.ALIGN], though some engines do not accept the faction and team specifiers. Each field within the identifier is from the associated IDS file. An entry of 0 in a field will match any value. For example: [ENEMY.0.0.MAGE] specifies all creatures that are enemies of the party, any general category, any race, mages. An object identifier only evaluates visible creatures.<br />
<br />

<div class="actionHeader">Triggers</div>
    <a href="bg1triggers.htm"> BG1 Triggers</a><br />
    <a href="bg2triggers.htm"> BG2 Triggers</a><br />
    <a href="bgeetriggers.htm"> BG(2)EE Triggers</a><br />
    <a href="totltriggers.htm"> IWD1 Triggers</a><br />
    <a href="iwd2triggers.htm"> IWD2 Triggers</a><br />
    <a href="psttriggers.htm"> PST Triggers</a><br />
    <br />
  </div>
</div>


<a href="#" class="go-up">
  &nbsp;
</a>


  </div>
</div>

<footer class="site-footer">

<div id="footer">
  <hr />

    <form method="get" action="http://www.google.com/search">
      <div style="margin: 0px; padding: 0px; text-align: center">
        <input type="hidden" name="ie" value="UTF-8" />
        <input type="hidden" name="oe" value="UTF-8" />
        <input class="form_text" type="text" name="q" size="30" maxlength="255" value="" />
        <input class="form_button" type="submit" name="btnG" value="Search" />
        <input type="hidden" name="domains" value="https://lynxlynxlynx.github.io/iesdp" />
        <input type="hidden" name="sitesearch" value="https://lynxlynxlynx.github.io/iesdp" />
      </div>
    </form>

  <hr />
</div>

</footer>


</body>
</html>
